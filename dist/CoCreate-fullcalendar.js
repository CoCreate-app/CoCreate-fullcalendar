/*! For license information please see CoCreate-fullcalendar.js.LICENSE.txt */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.CoCreate=n():(t.CoCreate=t.CoCreate||{},t.CoCreate.fullcalendar=n())}(this,(function(){return(()=>{var __webpack_modules__={"./node_modules/@cocreate/action/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// -testing1\nconst CoCreateAction = {\n  attribute: 'data-actions',\n  actions: {},\n  selectedStage: [],\n  stageIndex: 0,\n  selectedElement: null,\n  \n  completedEventName: 'completedEvent',\n  \n  __init: function() {\n    this.actionButtonEvent()\n  },\n\n  actionButtonEvent: function() {\n    const self = this;\n    document.addEventListener('click', function(event) {\n      let btn = event.target;\n      if (!btn.getAttribute('data-actions')) {\n        btn = event.target.closest('[data-actions]');\n      }\n      if (!btn) return;\n      event.preventDefault();\n\n      let actions = (btn.getAttribute(self.attribute) || \"\").replace(/\\s/g, '').split(',');\n      if (actions.length == 0) return;\n      self.stageIndex = 0;\n      self.selectedStage = actions;\n      \n      //. run function\n      self.selectedElement = btn;\n      self.__runActionFunc();\n    })\n  },\n  \n  init: function({action, callback, endEvent}) {\n    this.registerEvent(action, callback, null, endEvent);\n  },\n  \n  /**\n   * key: string\n   * runFunc: function\n   * instance: object\n   * endEvent: string\n   **/\n  registerEvent: function(key, runFunc, instance, endEvent) {\n    if (this.actions[key]) {\n      return;\n    }\n    \n    this.actions[key] = {\n      key: key,\n      runFunc: runFunc,\n      instance: instance || window,\n      endEvent: endEvent\n    }\n    //. register events\n    \n    for (let __key in this.actions) {\n      if (__key != key && this.actions[__key]['endEvent'] === endEvent) {\n        return;\n      }\n    }\n    \n    //. register events\n    const _this = this;\n    document.addEventListener(endEvent, function(e) {\n      _this.__nextAction(endEvent, e.detail)\n    });\n  },\n  \n  __runActionFunc: function(data) {\n\n    if (this.stageIndex >= this.selectedStage.length) {\n\n      //. if latest case, it will be run aTag\n      if (this.stageIndex == this.selectedStage.length) {\n        this.__runAtag(this.selectedElement);        \n      }\n      return;\n    }\n    \n    const actionName = this.selectedStage[this.stageIndex];\n    //. run function\n    const action = this.actions[actionName];\n    if (action) {\n      if (action.runFunc) {\n        action.runFunc.call(null, this.selectedElement, data);\n      } else {\n        this.__nextAction(action.endEvent, {});\n      }\n    } else {\n      let status = this.__runSpecialAction(actionName, data);\n      if (status === \"next\") {\n        this.__moveNextAction();\n      }\n    }\n  },\n  \n  __nextAction: function(eventName, data) {\n    const key = this.selectedStage[this.stageIndex];\n    if (!key) {\n      return ;\n    }\n    if (eventName !== this.actions[key].endEvent) {\n      return;\n    }\n    this.__moveNextAction(data);\n  },\n  \n  __runAtag: function(button) {\n    var aTag = button.querySelector('a');\n          \n    if (aTag) {\n      // CoCreate.logic.setLinkProcess(aTag)\n    }\n  },\n  \n  //. special action\n  \n  __runSpecialAction: function(actionName, data) {\n    let matches = /(\\w+)\\{([a-zA-Z0-9_ \\-#$.]+)\\}/gm.exec(actionName)\n    \n    if (!matches || matches.length < 3) {\n      return \"next\";\n    }\n    \n    let type = matches[1], param = matches[2].trim()\n    if (!param) return \"next\";\n    \n    const self = this;\n    switch (type) {\n      case 'event':\n        console.log(\"Waiting Event....\");\n        document.addEventListener(param, (eventData) => {\n          console.log('Event Action (Received event from other section) ====== ' + param);\n          self.__moveNextAction(eventData);\n        }, { once: true })\n        break;\n      case 'timeout':\n        let delayTime = parseInt(param);\n        if (delayTime > 0) {\n          setTimeout(function() {\n            console.log(\"Timeout ======= \" + param)\n            self.__moveNextAction(data);\n          }, parseInt(param));\n        }\n        break;\n      case 'action':\n        let btn = document.querySelector(param);\n        if (btn) {\n          btn.click();\n        }\n        break;\n      default:\n        return \"next\";\n    }\n  },\n  \n  __moveNextAction: function(data) {\n    this.stageIndex ++;\n    this.__runActionFunc(data);\n  },\n}\n\n\nCoCreateAction.__init();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CoCreateAction);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mdWxsY2FsZW5kYXIvLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2FjdGlvbi9zcmMvaW5kZXguanM/ZGM0OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUgsa0JBQWtCLDJCQUEyQjtBQUM3QztBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7QUFDQSw2QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsNkNBQTZDO0FBQzdDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0EsMEJBQTBCLHVCQUF1Qjs7QUFFakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLEdBQUcsYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBOztBQUVBLGlFQUFlLGNBQWMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2FjdGlvbi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAtdGVzdGluZzFcbmNvbnN0IENvQ3JlYXRlQWN0aW9uID0ge1xuICBhdHRyaWJ1dGU6ICdkYXRhLWFjdGlvbnMnLFxuICBhY3Rpb25zOiB7fSxcbiAgc2VsZWN0ZWRTdGFnZTogW10sXG4gIHN0YWdlSW5kZXg6IDAsXG4gIHNlbGVjdGVkRWxlbWVudDogbnVsbCxcbiAgXG4gIGNvbXBsZXRlZEV2ZW50TmFtZTogJ2NvbXBsZXRlZEV2ZW50JyxcbiAgXG4gIF9faW5pdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hY3Rpb25CdXR0b25FdmVudCgpXG4gIH0sXG5cbiAgYWN0aW9uQnV0dG9uRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGxldCBidG4gPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAoIWJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9ucycpKSB7XG4gICAgICAgIGJ0biA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS1hY3Rpb25zXScpO1xuICAgICAgfVxuICAgICAgaWYgKCFidG4pIHJldHVybjtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGxldCBhY3Rpb25zID0gKGJ0bi5nZXRBdHRyaWJ1dGUoc2VsZi5hdHRyaWJ1dGUpIHx8IFwiXCIpLnJlcGxhY2UoL1xccy9nLCAnJykuc3BsaXQoJywnKTtcbiAgICAgIGlmIChhY3Rpb25zLmxlbmd0aCA9PSAwKSByZXR1cm47XG4gICAgICBzZWxmLnN0YWdlSW5kZXggPSAwO1xuICAgICAgc2VsZi5zZWxlY3RlZFN0YWdlID0gYWN0aW9ucztcbiAgICAgIFxuICAgICAgLy8uIHJ1biBmdW5jdGlvblxuICAgICAgc2VsZi5zZWxlY3RlZEVsZW1lbnQgPSBidG47XG4gICAgICBzZWxmLl9fcnVuQWN0aW9uRnVuYygpO1xuICAgIH0pXG4gIH0sXG4gIFxuICBpbml0OiBmdW5jdGlvbih7YWN0aW9uLCBjYWxsYmFjaywgZW5kRXZlbnR9KSB7XG4gICAgdGhpcy5yZWdpc3RlckV2ZW50KGFjdGlvbiwgY2FsbGJhY2ssIG51bGwsIGVuZEV2ZW50KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBrZXk6IHN0cmluZ1xuICAgKiBydW5GdW5jOiBmdW5jdGlvblxuICAgKiBpbnN0YW5jZTogb2JqZWN0XG4gICAqIGVuZEV2ZW50OiBzdHJpbmdcbiAgICoqL1xuICByZWdpc3RlckV2ZW50OiBmdW5jdGlvbihrZXksIHJ1bkZ1bmMsIGluc3RhbmNlLCBlbmRFdmVudCkge1xuICAgIGlmICh0aGlzLmFjdGlvbnNba2V5XSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmFjdGlvbnNba2V5XSA9IHtcbiAgICAgIGtleToga2V5LFxuICAgICAgcnVuRnVuYzogcnVuRnVuYyxcbiAgICAgIGluc3RhbmNlOiBpbnN0YW5jZSB8fCB3aW5kb3csXG4gICAgICBlbmRFdmVudDogZW5kRXZlbnRcbiAgICB9XG4gICAgLy8uIHJlZ2lzdGVyIGV2ZW50c1xuICAgIFxuICAgIGZvciAobGV0IF9fa2V5IGluIHRoaXMuYWN0aW9ucykge1xuICAgICAgaWYgKF9fa2V5ICE9IGtleSAmJiB0aGlzLmFjdGlvbnNbX19rZXldWydlbmRFdmVudCddID09PSBlbmRFdmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vLiByZWdpc3RlciBldmVudHNcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgZnVuY3Rpb24oZSkge1xuICAgICAgX3RoaXMuX19uZXh0QWN0aW9uKGVuZEV2ZW50LCBlLmRldGFpbClcbiAgICB9KTtcbiAgfSxcbiAgXG4gIF9fcnVuQWN0aW9uRnVuYzogZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgaWYgKHRoaXMuc3RhZ2VJbmRleCA+PSB0aGlzLnNlbGVjdGVkU3RhZ2UubGVuZ3RoKSB7XG5cbiAgICAgIC8vLiBpZiBsYXRlc3QgY2FzZSwgaXQgd2lsbCBiZSBydW4gYVRhZ1xuICAgICAgaWYgKHRoaXMuc3RhZ2VJbmRleCA9PSB0aGlzLnNlbGVjdGVkU3RhZ2UubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX19ydW5BdGFnKHRoaXMuc2VsZWN0ZWRFbGVtZW50KTsgICAgICAgIFxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBhY3Rpb25OYW1lID0gdGhpcy5zZWxlY3RlZFN0YWdlW3RoaXMuc3RhZ2VJbmRleF07XG4gICAgLy8uIHJ1biBmdW5jdGlvblxuICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuYWN0aW9uc1thY3Rpb25OYW1lXTtcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBpZiAoYWN0aW9uLnJ1bkZ1bmMpIHtcbiAgICAgICAgYWN0aW9uLnJ1bkZ1bmMuY2FsbChudWxsLCB0aGlzLnNlbGVjdGVkRWxlbWVudCwgZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fbmV4dEFjdGlvbihhY3Rpb24uZW5kRXZlbnQsIHt9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHN0YXR1cyA9IHRoaXMuX19ydW5TcGVjaWFsQWN0aW9uKGFjdGlvbk5hbWUsIGRhdGEpO1xuICAgICAgaWYgKHN0YXR1cyA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgdGhpcy5fX21vdmVOZXh0QWN0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBcbiAgX19uZXh0QWN0aW9uOiBmdW5jdGlvbihldmVudE5hbWUsIGRhdGEpIHtcbiAgICBjb25zdCBrZXkgPSB0aGlzLnNlbGVjdGVkU3RhZ2VbdGhpcy5zdGFnZUluZGV4XTtcbiAgICBpZiAoIWtleSkge1xuICAgICAgcmV0dXJuIDtcbiAgICB9XG4gICAgaWYgKGV2ZW50TmFtZSAhPT0gdGhpcy5hY3Rpb25zW2tleV0uZW5kRXZlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fX21vdmVOZXh0QWN0aW9uKGRhdGEpO1xuICB9LFxuICBcbiAgX19ydW5BdGFnOiBmdW5jdGlvbihidXR0b24pIHtcbiAgICB2YXIgYVRhZyA9IGJ1dHRvbi5xdWVyeVNlbGVjdG9yKCdhJyk7XG4gICAgICAgICAgXG4gICAgaWYgKGFUYWcpIHtcbiAgICAgIC8vIENvQ3JlYXRlLmxvZ2ljLnNldExpbmtQcm9jZXNzKGFUYWcpXG4gICAgfVxuICB9LFxuICBcbiAgLy8uIHNwZWNpYWwgYWN0aW9uXG4gIFxuICBfX3J1blNwZWNpYWxBY3Rpb246IGZ1bmN0aW9uKGFjdGlvbk5hbWUsIGRhdGEpIHtcbiAgICBsZXQgbWF0Y2hlcyA9IC8oXFx3KylcXHsoW2EtekEtWjAtOV8gXFwtIyQuXSspXFx9L2dtLmV4ZWMoYWN0aW9uTmFtZSlcbiAgICBcbiAgICBpZiAoIW1hdGNoZXMgfHwgbWF0Y2hlcy5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gXCJuZXh0XCI7XG4gICAgfVxuICAgIFxuICAgIGxldCB0eXBlID0gbWF0Y2hlc1sxXSwgcGFyYW0gPSBtYXRjaGVzWzJdLnRyaW0oKVxuICAgIGlmICghcGFyYW0pIHJldHVybiBcIm5leHRcIjtcbiAgICBcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2V2ZW50JzpcbiAgICAgICAgY29uc29sZS5sb2coXCJXYWl0aW5nIEV2ZW50Li4uLlwiKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihwYXJhbSwgKGV2ZW50RGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFdmVudCBBY3Rpb24gKFJlY2VpdmVkIGV2ZW50IGZyb20gb3RoZXIgc2VjdGlvbikgPT09PT09ICcgKyBwYXJhbSk7XG4gICAgICAgICAgc2VsZi5fX21vdmVOZXh0QWN0aW9uKGV2ZW50RGF0YSk7XG4gICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RpbWVvdXQnOlxuICAgICAgICBsZXQgZGVsYXlUaW1lID0gcGFyc2VJbnQocGFyYW0pO1xuICAgICAgICBpZiAoZGVsYXlUaW1lID4gMCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRpbWVvdXQgPT09PT09PSBcIiArIHBhcmFtKVxuICAgICAgICAgICAgc2VsZi5fX21vdmVOZXh0QWN0aW9uKGRhdGEpO1xuICAgICAgICAgIH0sIHBhcnNlSW50KHBhcmFtKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhY3Rpb24nOlxuICAgICAgICBsZXQgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYXJhbSk7XG4gICAgICAgIGlmIChidG4pIHtcbiAgICAgICAgICBidG4uY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcIm5leHRcIjtcbiAgICB9XG4gIH0sXG4gIFxuICBfX21vdmVOZXh0QWN0aW9uOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgdGhpcy5zdGFnZUluZGV4ICsrO1xuICAgIHRoaXMuX19ydW5BY3Rpb25GdW5jKGRhdGEpO1xuICB9LFxufVxuXG5cbkNvQ3JlYXRlQWN0aW9uLl9faW5pdCgpO1xuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZUFjdGlvbjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cocreate/action/src/index.js\n")},"./node_modules/@cocreate/crud-client/src/crud.js":function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// import {getCommonParams, getCommonParamsExtend, generateSocketClient} from \"@cocreate/socket-client/src/common-fun.js\"\n\n(function (root, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! @cocreate/socket-client/src/common-fun.js */ \"./node_modules/@cocreate/socket-client/src/common-fun.js\"), __webpack_require__(/*! ./utils.crud.js */ \"./node_modules/@cocreate/crud-client/src/utils.crud.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(commonFunc, utilsCrud) {\n        \treturn factory(window, commonFunc, utilsCrud)\n        }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n}(typeof self !== 'undefined' ? self : this, function (wnd, commonFunc, utilsCrud) {\n  \n  const CoCreateCRUD = {\n    socket: null,\n    setSocket: function(socket) {\n      this.socket = socket;\n    },\n\n    readDocumentList(info){\n      if( !info ) return;\n      let request_data = commonFunc.getCommonParams();\n      if (!info.collection || !info.operator) {\n        return;\n      }\n      \n      request_data = {...request_data, ...info};\n      \n      this.socket.send('readDocumentList', request_data);\n    },\n    \n    createDocument: function(info) {\n      if (info === null) {\n        return;\n      }\n      let commonData = commonFunc.getCommonParamsExtend(info);\n      let request_data = {...info, ...commonData};\n  \n      let data = info.data || {};\n      \n      if (!data['organization_id']) {\n        data['organization_id'] = wnd.config.organization_Id\n      }\n      if (info['data']) {\n        data = {...data, ...info['data']}\n      }\n      \n      //. rebuild data\n      request_data['data'] = data;\n  \n      const room = commonFunc.generateSocketClient(info.namespace, info.room);\n      this.socket.send('createDocument', request_data, room);\n    },\n    \n    updateDocument: function(info) {\n      if (!info || !utilsCrud.checkDocumentId(info['document_id'])) return;\n      \n      let commonData = commonFunc.getCommonParamsExtend(info);\n      \n      let request_data = {...info, ...commonData};\n      \n      if( typeof info['data'] === 'object' ) {\n        request_data['set'] = info['data']\n      }\n      if( Array.isArray(info['delete_fields']) ) request_data['unset'] = info['delete_fields'];\n      \n      if(!request_data['set'] && !request_data['unset']) return;\n      \n      if (info.broadcast === false) {\n        request_data['broadcast'] = false;\n      }\n      \n      /** socket parameters **/\n      if (info['broadcast_sender'] === undefined) {\n        request_data['broadcast_sender'] = true;\n      }\n      \n      const room = commonFunc.generateSocketClient(info.namespace, info.room);\n      this.socket.send('updateDocument', request_data, room);\n    },\n    \n    readDocument: function(info) {\n      if (info === null) {\n        return;\n      }\n      \n      if (!info || !utilsCrud.checkDocumentId(info['document_id'])) {\n        return;\n      }\n      \n      let commonData = commonFunc.getCommonParamsExtend(info);\n      let request_data = {...info, ...commonData};\n      console.log(request_data)\n      this.socket.send('readDocument', request_data);\n    },\n    \n    \n    deleteDocument: function(info) {\n      if (!info || !utilsCrud.checkDocumentId(info['document_id'])) {\n        return;\n      }\n      \n      let commonData = commonFunc.getCommonParamsExtend(info);\n      let request_data = {...info, ...commonData};\n      \n      const room = commonFunc.generateSocketClient(info.namespace, info.room);\n      this.socket.send('deleteDocument', request_data, room);\n    },\n  \n  \n   /** export / import db functions **/\n    exportCollection: function(info) {\n      if (info === null) return;\n  \n      let request_data = commonFunc.getCommonParamsExtend(info);\n      request_data['collection'] = info['collection'];\n      request_data['export_type'] = info['export_type'];\n  \n      request_data['metadata'] = info['metadata']\n      this.socket.send('exportDB', request_data);\n    },\n    \n    importCollection: function(info) {\n      const {file} = info;\n      if (info === null || !(file instanceof wnd.File)) return;\n  \n      const extension = file.name.split(\".\").pop();\n      \n      if (!['json','csv'].some((item) => item === extension)) return;\n  \n      let request_data = commonFunc.getCommonParamsExtend(info)\n      request_data['collection'] = info['collection']\n      request_data['import_type'] = extension;\n      this.socket.send('importDB', request_data)\n      this.socket.sendFile(file);\n    },\n    \n    listen: function(message, fun) {\n      this.socket.listen(message, fun);\n    },\n    \n    listenAsync: function(eventname) {\n      return this.socket.listenAsync(eventname);\n    },\n  \n  \tcreateSocket: function(host, namespace) {\n  \t\tif (namespace) {\n  \t\t\tthis.socket.create({\n  \t\t\t\tnamespace: namespace, \n  \t\t\t\troom: null,\n  \t\t\t\thost: host\n  \t\t\t});\n  \t\t\tthis.socket.setGlobalScope(namespace);\n  \t\t} else {\n  \t\t\tthis.socket.create({\n  \t\t\t\tnamespace: null, \n  \t\t\t\troom: null,\n  \t\t\t\thost: host\n  \t\t\t});\n  \t\t}\n  \t},\n  \t\n  \t...utilsCrud\n  }\n  \n  return CoCreateCRUD;\n}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mdWxsY2FsZW5kYXIvLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2NydWQtY2xpZW50L3NyYy9jcnVkLmpzP2M0MzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMkVBQVcsNkRBQTZEOztBQUV4RTtBQUNBLFFBQVEsSUFBMEM7QUFDbEQsUUFBUSxpQ0FBTyxDQUFDLGdJQUEyQyxFQUFFLG9HQUFpQixDQUFDLG1DQUFFO0FBQ2pGO0FBQ0EsU0FBUztBQUFBLGtHQUFDO0FBQ1YsS0FBSyxNQUFNLEVBVVI7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCOztBQUV0QjtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjs7QUFFMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBLDBCQUEwQjs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEI7O0FBRTFCO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsYUFBYSxLQUFLO0FBQ2xCOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2NydWQtY2xpZW50L3NyYy9jcnVkLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IHtnZXRDb21tb25QYXJhbXMsIGdldENvbW1vblBhcmFtc0V4dGVuZCwgZ2VuZXJhdGVTb2NrZXRDbGllbnR9IGZyb20gXCJAY29jcmVhdGUvc29ja2V0LWNsaWVudC9zcmMvY29tbW9uLWZ1bi5qc1wiXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFtcIkBjb2NyZWF0ZS9zb2NrZXQtY2xpZW50L3NyYy9jb21tb24tZnVuLmpzXCIsIFwiLi91dGlscy5jcnVkLmpzXCJdLCBmdW5jdGlvbihjb21tb25GdW5jLCB1dGlsc0NydWQpIHtcbiAgICAgICAgXHRyZXR1cm4gZmFjdG9yeSh3aW5kb3csIGNvbW1vbkZ1bmMsIHV0aWxzQ3J1ZClcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgbGV0IHduZCA9IHtcbiAgICAgICAgY29uZmlnOiB7fSxcbiAgICAgICAgRmlsZToge31cbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbW1vbkZ1bmMgPSByZXF1aXJlKFwiQGNvY3JlYXRlL3NvY2tldC1jbGllbnQvc3JjL2NvbW1vbi1mdW4uanNcIilcbiAgICAgIGNvbnN0IHV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHMuY3J1ZC5qc1wiKVxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHduZCwgY29tbW9uRnVuYywgdXRpbHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QucmV0dXJuRXhwb3J0cyA9IGZhY3Rvcnkod2luZG93LCByb290W1wiQGNvY3JlYXRlL3NvY2tldC1jbGllbnQvc3JjL2NvbW1vbi1mdW4uanNcIl0sIHJvb3RbXCIuL3V0aWxzLmNydWQuanNcIl0pO1xuICB9XG59KHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAod25kLCBjb21tb25GdW5jLCB1dGlsc0NydWQpIHtcbiAgXG4gIGNvbnN0IENvQ3JlYXRlQ1JVRCA9IHtcbiAgICBzb2NrZXQ6IG51bGwsXG4gICAgc2V0U29ja2V0OiBmdW5jdGlvbihzb2NrZXQpIHtcbiAgICAgIHRoaXMuc29ja2V0ID0gc29ja2V0O1xuICAgIH0sXG5cbiAgICByZWFkRG9jdW1lbnRMaXN0KGluZm8pe1xuICAgICAgaWYoICFpbmZvICkgcmV0dXJuO1xuICAgICAgbGV0IHJlcXVlc3RfZGF0YSA9IGNvbW1vbkZ1bmMuZ2V0Q29tbW9uUGFyYW1zKCk7XG4gICAgICBpZiAoIWluZm8uY29sbGVjdGlvbiB8fCAhaW5mby5vcGVyYXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJlcXVlc3RfZGF0YSA9IHsuLi5yZXF1ZXN0X2RhdGEsIC4uLmluZm99O1xuICAgICAgXG4gICAgICB0aGlzLnNvY2tldC5zZW5kKCdyZWFkRG9jdW1lbnRMaXN0JywgcmVxdWVzdF9kYXRhKTtcbiAgICB9LFxuICAgIFxuICAgIGNyZWF0ZURvY3VtZW50OiBmdW5jdGlvbihpbmZvKSB7XG4gICAgICBpZiAoaW5mbyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgY29tbW9uRGF0YSA9IGNvbW1vbkZ1bmMuZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kKGluZm8pO1xuICAgICAgbGV0IHJlcXVlc3RfZGF0YSA9IHsuLi5pbmZvLCAuLi5jb21tb25EYXRhfTtcbiAgXG4gICAgICBsZXQgZGF0YSA9IGluZm8uZGF0YSB8fCB7fTtcbiAgICAgIFxuICAgICAgaWYgKCFkYXRhWydvcmdhbml6YXRpb25faWQnXSkge1xuICAgICAgICBkYXRhWydvcmdhbml6YXRpb25faWQnXSA9IHduZC5jb25maWcub3JnYW5pemF0aW9uX0lkXG4gICAgICB9XG4gICAgICBpZiAoaW5mb1snZGF0YSddKSB7XG4gICAgICAgIGRhdGEgPSB7Li4uZGF0YSwgLi4uaW5mb1snZGF0YSddfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLy4gcmVidWlsZCBkYXRhXG4gICAgICByZXF1ZXN0X2RhdGFbJ2RhdGEnXSA9IGRhdGE7XG4gIFxuICAgICAgY29uc3Qgcm9vbSA9IGNvbW1vbkZ1bmMuZ2VuZXJhdGVTb2NrZXRDbGllbnQoaW5mby5uYW1lc3BhY2UsIGluZm8ucm9vbSk7XG4gICAgICB0aGlzLnNvY2tldC5zZW5kKCdjcmVhdGVEb2N1bWVudCcsIHJlcXVlc3RfZGF0YSwgcm9vbSk7XG4gICAgfSxcbiAgICBcbiAgICB1cGRhdGVEb2N1bWVudDogZnVuY3Rpb24oaW5mbykge1xuICAgICAgaWYgKCFpbmZvIHx8ICF1dGlsc0NydWQuY2hlY2tEb2N1bWVudElkKGluZm9bJ2RvY3VtZW50X2lkJ10pKSByZXR1cm47XG4gICAgICBcbiAgICAgIGxldCBjb21tb25EYXRhID0gY29tbW9uRnVuYy5nZXRDb21tb25QYXJhbXNFeHRlbmQoaW5mbyk7XG4gICAgICBcbiAgICAgIGxldCByZXF1ZXN0X2RhdGEgPSB7Li4uaW5mbywgLi4uY29tbW9uRGF0YX07XG4gICAgICBcbiAgICAgIGlmKCB0eXBlb2YgaW5mb1snZGF0YSddID09PSAnb2JqZWN0JyApIHtcbiAgICAgICAgcmVxdWVzdF9kYXRhWydzZXQnXSA9IGluZm9bJ2RhdGEnXVxuICAgICAgfVxuICAgICAgaWYoIEFycmF5LmlzQXJyYXkoaW5mb1snZGVsZXRlX2ZpZWxkcyddKSApIHJlcXVlc3RfZGF0YVsndW5zZXQnXSA9IGluZm9bJ2RlbGV0ZV9maWVsZHMnXTtcbiAgICAgIFxuICAgICAgaWYoIXJlcXVlc3RfZGF0YVsnc2V0J10gJiYgIXJlcXVlc3RfZGF0YVsndW5zZXQnXSkgcmV0dXJuO1xuICAgICAgXG4gICAgICBpZiAoaW5mby5icm9hZGNhc3QgPT09IGZhbHNlKSB7XG4gICAgICAgIHJlcXVlc3RfZGF0YVsnYnJvYWRjYXN0J10gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLyoqIHNvY2tldCBwYXJhbWV0ZXJzICoqL1xuICAgICAgaWYgKGluZm9bJ2Jyb2FkY2FzdF9zZW5kZXInXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlcXVlc3RfZGF0YVsnYnJvYWRjYXN0X3NlbmRlciddID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3Qgcm9vbSA9IGNvbW1vbkZ1bmMuZ2VuZXJhdGVTb2NrZXRDbGllbnQoaW5mby5uYW1lc3BhY2UsIGluZm8ucm9vbSk7XG4gICAgICB0aGlzLnNvY2tldC5zZW5kKCd1cGRhdGVEb2N1bWVudCcsIHJlcXVlc3RfZGF0YSwgcm9vbSk7XG4gICAgfSxcbiAgICBcbiAgICByZWFkRG9jdW1lbnQ6IGZ1bmN0aW9uKGluZm8pIHtcbiAgICAgIGlmIChpbmZvID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFpbmZvIHx8ICF1dGlsc0NydWQuY2hlY2tEb2N1bWVudElkKGluZm9bJ2RvY3VtZW50X2lkJ10pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbGV0IGNvbW1vbkRhdGEgPSBjb21tb25GdW5jLmdldENvbW1vblBhcmFtc0V4dGVuZChpbmZvKTtcbiAgICAgIGxldCByZXF1ZXN0X2RhdGEgPSB7Li4uaW5mbywgLi4uY29tbW9uRGF0YX07XG4gICAgICBjb25zb2xlLmxvZyhyZXF1ZXN0X2RhdGEpXG4gICAgICB0aGlzLnNvY2tldC5zZW5kKCdyZWFkRG9jdW1lbnQnLCByZXF1ZXN0X2RhdGEpO1xuICAgIH0sXG4gICAgXG4gICAgXG4gICAgZGVsZXRlRG9jdW1lbnQ6IGZ1bmN0aW9uKGluZm8pIHtcbiAgICAgIGlmICghaW5mbyB8fCAhdXRpbHNDcnVkLmNoZWNrRG9jdW1lbnRJZChpbmZvWydkb2N1bWVudF9pZCddKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGxldCBjb21tb25EYXRhID0gY29tbW9uRnVuYy5nZXRDb21tb25QYXJhbXNFeHRlbmQoaW5mbyk7XG4gICAgICBsZXQgcmVxdWVzdF9kYXRhID0gey4uLmluZm8sIC4uLmNvbW1vbkRhdGF9O1xuICAgICAgXG4gICAgICBjb25zdCByb29tID0gY29tbW9uRnVuYy5nZW5lcmF0ZVNvY2tldENsaWVudChpbmZvLm5hbWVzcGFjZSwgaW5mby5yb29tKTtcbiAgICAgIHRoaXMuc29ja2V0LnNlbmQoJ2RlbGV0ZURvY3VtZW50JywgcmVxdWVzdF9kYXRhLCByb29tKTtcbiAgICB9LFxuICBcbiAgXG4gICAvKiogZXhwb3J0IC8gaW1wb3J0IGRiIGZ1bmN0aW9ucyAqKi9cbiAgICBleHBvcnRDb2xsZWN0aW9uOiBmdW5jdGlvbihpbmZvKSB7XG4gICAgICBpZiAoaW5mbyA9PT0gbnVsbCkgcmV0dXJuO1xuICBcbiAgICAgIGxldCByZXF1ZXN0X2RhdGEgPSBjb21tb25GdW5jLmdldENvbW1vblBhcmFtc0V4dGVuZChpbmZvKTtcbiAgICAgIHJlcXVlc3RfZGF0YVsnY29sbGVjdGlvbiddID0gaW5mb1snY29sbGVjdGlvbiddO1xuICAgICAgcmVxdWVzdF9kYXRhWydleHBvcnRfdHlwZSddID0gaW5mb1snZXhwb3J0X3R5cGUnXTtcbiAgXG4gICAgICByZXF1ZXN0X2RhdGFbJ21ldGFkYXRhJ10gPSBpbmZvWydtZXRhZGF0YSddXG4gICAgICB0aGlzLnNvY2tldC5zZW5kKCdleHBvcnREQicsIHJlcXVlc3RfZGF0YSk7XG4gICAgfSxcbiAgICBcbiAgICBpbXBvcnRDb2xsZWN0aW9uOiBmdW5jdGlvbihpbmZvKSB7XG4gICAgICBjb25zdCB7ZmlsZX0gPSBpbmZvO1xuICAgICAgaWYgKGluZm8gPT09IG51bGwgfHwgIShmaWxlIGluc3RhbmNlb2Ygd25kLkZpbGUpKSByZXR1cm47XG4gIFxuICAgICAgY29uc3QgZXh0ZW5zaW9uID0gZmlsZS5uYW1lLnNwbGl0KFwiLlwiKS5wb3AoKTtcbiAgICAgIFxuICAgICAgaWYgKCFbJ2pzb24nLCdjc3YnXS5zb21lKChpdGVtKSA9PiBpdGVtID09PSBleHRlbnNpb24pKSByZXR1cm47XG4gIFxuICAgICAgbGV0IHJlcXVlc3RfZGF0YSA9IGNvbW1vbkZ1bmMuZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kKGluZm8pXG4gICAgICByZXF1ZXN0X2RhdGFbJ2NvbGxlY3Rpb24nXSA9IGluZm9bJ2NvbGxlY3Rpb24nXVxuICAgICAgcmVxdWVzdF9kYXRhWydpbXBvcnRfdHlwZSddID0gZXh0ZW5zaW9uO1xuICAgICAgdGhpcy5zb2NrZXQuc2VuZCgnaW1wb3J0REInLCByZXF1ZXN0X2RhdGEpXG4gICAgICB0aGlzLnNvY2tldC5zZW5kRmlsZShmaWxlKTtcbiAgICB9LFxuICAgIFxuICAgIGxpc3RlbjogZnVuY3Rpb24obWVzc2FnZSwgZnVuKSB7XG4gICAgICB0aGlzLnNvY2tldC5saXN0ZW4obWVzc2FnZSwgZnVuKTtcbiAgICB9LFxuICAgIFxuICAgIGxpc3RlbkFzeW5jOiBmdW5jdGlvbihldmVudG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNvY2tldC5saXN0ZW5Bc3luYyhldmVudG5hbWUpO1xuICAgIH0sXG4gIFxuICBcdGNyZWF0ZVNvY2tldDogZnVuY3Rpb24oaG9zdCwgbmFtZXNwYWNlKSB7XG4gIFx0XHRpZiAobmFtZXNwYWNlKSB7XG4gIFx0XHRcdHRoaXMuc29ja2V0LmNyZWF0ZSh7XG4gIFx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2UsIFxuICBcdFx0XHRcdHJvb206IG51bGwsXG4gIFx0XHRcdFx0aG9zdDogaG9zdFxuICBcdFx0XHR9KTtcbiAgXHRcdFx0dGhpcy5zb2NrZXQuc2V0R2xvYmFsU2NvcGUobmFtZXNwYWNlKTtcbiAgXHRcdH0gZWxzZSB7XG4gIFx0XHRcdHRoaXMuc29ja2V0LmNyZWF0ZSh7XG4gIFx0XHRcdFx0bmFtZXNwYWNlOiBudWxsLCBcbiAgXHRcdFx0XHRyb29tOiBudWxsLFxuICBcdFx0XHRcdGhvc3Q6IGhvc3RcbiAgXHRcdFx0fSk7XG4gIFx0XHR9XG4gIFx0fSxcbiAgXHRcbiAgXHQuLi51dGlsc0NydWRcbiAgfVxuICBcbiAgcmV0dXJuIENvQ3JlYXRlQ1JVRDtcbn0pKTtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cocreate/crud-client/src/crud.js\n")},"./node_modules/@cocreate/crud-client/src/index.js":function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! @cocreate/socket-client */ \"./node_modules/@cocreate/socket-client/src/index.js\"), __webpack_require__(/*! ./crud.js */ \"./node_modules/@cocreate/crud-client/src/crud.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(CoCreateSocket, CoCreateCRUD) {\n        \treturn factory(true, CoCreateSocket, CoCreateCRUD)\n        }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n}(typeof self !== 'undefined' ? self : this, function (isBrowser, CoCreateSocket, CoCreateCRUD) {\n  if (isBrowser) {\n    let crud_socket = new CoCreateSocket('ws');\n    CoCreateCRUD.setSocket(crud_socket);\n    CoCreateCRUD.createSocket(window.config.host ? window.config.host : window.location.hostname, window.config.organization_Id)\n  } \n  return CoCreateCRUD;\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mdWxsY2FsZW5kYXIvLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2NydWQtY2xpZW50L3NyYy9pbmRleC5qcz81ZWJmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsUUFBUSxJQUEwQztBQUNsRCxRQUFRLGlDQUFPLENBQUMseUdBQXlCLEVBQUUsd0ZBQVcsQ0FBQyxtQ0FBRTtBQUN6RDtBQUNBLFNBQVM7QUFBQSxrR0FBQztBQUNWLEtBQUssTUFBTSxFQVVSO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRztBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AY29jcmVhdGUvY3J1ZC1jbGllbnQvc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoW1wiQGNvY3JlYXRlL3NvY2tldC1jbGllbnRcIiwgXCIuL2NydWQuanNcIl0sIGZ1bmN0aW9uKENvQ3JlYXRlU29ja2V0LCBDb0NyZWF0ZUNSVUQpIHtcbiAgICAgICAgXHRyZXR1cm4gZmFjdG9yeSh0cnVlLCBDb0NyZWF0ZVNvY2tldCwgQ29DcmVhdGVDUlVEKVxuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBsZXQgd25kID0ge1xuICAgICAgICBjb25maWc6IHt9LFxuICAgICAgICBGaWxlOiB7fVxuICAgICAgfVxuICAgICAgY29uc3QgQ29DcmVhdGVDUlVEID0gcmVxdWlyZShcIi4vY3J1ZC5qc1wiKVxuICAgICAgY29uc3QgQ29DcmVhdGVTb2NrZXQgPSByZXF1aXJlKFwiQGNvY3JlYXRlL3NvY2tldC1jbGllbnRcIilcbiAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShmYWxzZSwgQ29DcmVhdGVTb2NrZXQsIENvQ3JlYXRlQ1JVRCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC5yZXR1cm5FeHBvcnRzID0gZmFjdG9yeSh0cnVlLCByb290W1wiQGNvY3JlYXRlL3NvY2tldC1jbGllbnRcIl0sIHJvb3RbXCIuL2NydWQuanNcIl0pO1xuICB9XG59KHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAoaXNCcm93c2VyLCBDb0NyZWF0ZVNvY2tldCwgQ29DcmVhdGVDUlVEKSB7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICBsZXQgY3J1ZF9zb2NrZXQgPSBuZXcgQ29DcmVhdGVTb2NrZXQoJ3dzJyk7XG4gICAgQ29DcmVhdGVDUlVELnNldFNvY2tldChjcnVkX3NvY2tldCk7XG4gICAgQ29DcmVhdGVDUlVELmNyZWF0ZVNvY2tldCh3aW5kb3cuY29uZmlnLmhvc3QgPyB3aW5kb3cuY29uZmlnLmhvc3QgOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsIHdpbmRvdy5jb25maWcub3JnYW5pemF0aW9uX0lkKVxuICB9IFxuICByZXR1cm4gQ29DcmVhdGVDUlVEO1xufSkpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cocreate/crud-client/src/index.js\n")},"./node_modules/@cocreate/crud-client/src/utils.crud.js":function(module,exports){eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n        \treturn factory()\n        }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n}(typeof self !== 'undefined' ? self : this, function () {\n  \n  function \t__mergeObject(target, source) \n  {\n  \ttarget = target || {};\n  \tfor (let key of Object.keys(source)) {\n  \t\tif (source[key] instanceof Object) {\n  \t\t\tObject.assign(source[key], __mergeObject(target[key], source[key]))\n  \t\t}\n  \t}\n  \t\n  \tObject.assign(target || {}, source)\n  \treturn target\n  }\n  \n  function __createObject(data, path) \n  {\n  \tif (!path) return data;\n  \t\n  \tlet keys = path.split('.')\n  \tlet newObject = data;\n  \n  \tfor (var  i = keys.length - 1; i >= 0; i--) {\n  \t\tnewObject = {[keys[i]]: newObject}\t\t\t\t\n  \t}\n  \treturn newObject;\n  }\n  \n  function __createArray(key, data)\n  {\n    try {\n      let item = /([\\w\\W]+)\\[(\\d+)\\]/gm.exec(key)\n      if (item && item.length == 3) {\n        let arrayKey = item[1];\n        let index = parseInt(item[2]);\n        \n        if (!data[arrayKey] || !Array.isArray(data[arrayKey])) {\n          data[arrayKey] = [];\n        } \n        data[arrayKey][index] = data[key];\n        delete data[key];\n        key = arrayKey;\n      }\n    } catch {\n      console.log('create array error');\n    }\n    return key;\n  }\n  \n  function isObject(item) {\n    return (!!item) && (item.constructor === Object);\n  }\n  function isArray(item) {\n    return (!!item) && (item.constructor === Array);\n  }\n  \n  function decodeObject(data) {\n    let keys = Object.keys(data)\n    let objectData = {};\n    \n    keys.forEach((k) => {\n      k = __createArray(k, data);\n      if (k.split('.').length > 1) {\n        let newData = __createObject(data[k], k);\n        delete data[k];\n        \n        objectData = __mergeObject(objectData, newData);\n      } else {\n        objectData[k] = data[k];\n      }\n    })\n    return objectData;\n  }\n  \n  function encodeObject(data) {\n    let keys = Object.keys(data);\n    let newData = {};\n    keys.forEach((k) => {\n      let data_value = data[k];\n      if (isObject(data[k])) {\n        let new_obj = encodeObject(data[k]);\n        \n        let newKeys = Object.keys(new_obj);\n        newKeys.forEach((newKey) => {\n          let value = new_obj[newKey];\n          newKey = k + \".\" + newKey;\n          newData[newKey] = value;\n        })\n        \n      } else if (isArray(data_value)){\n        data_value.forEach((v, index) => {\n          newData[`${k}[${index}]`] = v;\n        })\n      } else {\n        newData[k] = data[k];\n      }\n    })\n    return newData;\n  }\n  \n  function getAttr(el) {\n    if (!el) return\n  \n    let collection = el.getAttribute('data-collection')\n    let document_id = el.getAttribute('data-document_id')\n    let name = el.getAttribute('name')\n    return { collection, document_id, name }\n  }\n  \n  function getFlagAttr(el) {\n    if (!el) return {}\n    let is_realtime = isRealtimeAttr(el);\n    let is_save = isSaveAttr(el);\n    let is_read = isReadAttr(el);\n    let is_update = isUpdateAttr(el);\n    return { is_realtime, is_save, is_read, is_update }\n  }\n  \n  const isReadAttr = (el) => ( __isValueOfAttr(el, 'data-read_value'));\n  const isSaveAttr = (el) => ( __isValueOfAttr(el, 'data-save_value'));\n  const isUpdateAttr = (el) => ( __isValueOfAttr(el, 'data-update_value'));\n  // const isRealtimeAttr = (el) => ( __isValueOfAttr(el, 'data-realtime'));\n  const isRealtimeAttr = (el) => {\n    if (!el) return false\n    let flag = el.getAttribute('data-realtime') == \"false\" ? false : true;\n    return flag\n  };\n  \n  function __isValueOfAttr(el, attr) {\n    if (!el) return false;\n    let flag = el.getAttribute(attr) === \"false\" ? false : true;\n    return flag\n  }\n  \n  function checkValue(value) {\n    if (!value) return false;\n    if (/{{\\s*([\\w\\W]+)\\s*}}/g.test(value)) {\n      return false;\n    }\n  \n    return true;\n  }\n  \n  function isJsonString(str_data) {\n    try {\n      let json_data = JSON.parse(str_data);\n      if (typeof json_data === \"object\" && json_data != null) {\n        return true;\n      }\n      else {\n        return false;\n      }\n    }\n    catch (e) {\n      return false;\n    }\n  }\n  \n  function isCRDT(input) {\n    const { collection, document_id, name } = getAttr(input)\n    \n    if (isJsonString(collection)) return false;\n    if (isJsonString(name)) return false;\n  \n    if ((input.tagName === \"INPUT\" && [\"text\", \"email\", \"tel\", \"url\"].includes(input.type)) || input.tagName === \"TEXTAREA\") {\n      \n      if (!name) return false;\n      if (!isRealtimeAttr(input)) return false;\n      if (input.getAttribute(\"data-unique\") === \"true\") return false;\n      if (input.type === 'password') return false;\n      if (!isReadAttr(input)) return false;\n      return true;\n      \n    }\n    return false;\n  }\n  \n  function checkDocumentId(document_id) {\n    try {\n      if (!document_id) return false;\n      if (document_id.toLowerCase() === \"null\") return false;\n      return true;\n    } catch(error) {\n      return false;\n    }\n  }\n  \n  \n  return {\n    decodeObject,\n    encodeObject,\n    getAttr,\n    getFlagAttr,\n    isRealtimeAttr,\n    isReadAttr,\n    isSaveAttr,\n    isUpdateAttr,\n    checkValue,\n    isCRDT,\n    checkDocumentId\n  }\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mdWxsY2FsZW5kYXIvLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2NydWQtY2xpZW50L3NyYy91dGlscy5jcnVkLmpzPzE1N2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxRQUFRLElBQTBDO0FBQ2xELFFBQVEsaUNBQU8sRUFBRSxtQ0FBRTtBQUNuQjtBQUNBLFNBQVM7QUFBQSxrR0FBQztBQUNWLEtBQUssTUFBTSxFQUtSO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlDQUFpQyxRQUFRO0FBQ3pDLGlCQUFpQixxQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVULE9BQU87QUFDUDtBQUNBLHFCQUFxQixFQUFFLEdBQUcsTUFBTTtBQUNoQyxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxnQ0FBZ0M7O0FBRTNDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AY29jcmVhdGUvY3J1ZC1jbGllbnQvc3JjL3V0aWxzLmNydWQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIFx0cmV0dXJuIGZhY3RvcnkoKVxuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QucmV0dXJuRXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfVxufSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24gKCkge1xuICBcbiAgZnVuY3Rpb24gXHRfX21lcmdlT2JqZWN0KHRhcmdldCwgc291cmNlKSBcbiAge1xuICBcdHRhcmdldCA9IHRhcmdldCB8fCB7fTtcbiAgXHRmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoc291cmNlKSkge1xuICBcdFx0aWYgKHNvdXJjZVtrZXldIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gIFx0XHRcdE9iamVjdC5hc3NpZ24oc291cmNlW2tleV0sIF9fbWVyZ2VPYmplY3QodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldKSlcbiAgXHRcdH1cbiAgXHR9XG4gIFx0XG4gIFx0T2JqZWN0LmFzc2lnbih0YXJnZXQgfHwge30sIHNvdXJjZSlcbiAgXHRyZXR1cm4gdGFyZ2V0XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIF9fY3JlYXRlT2JqZWN0KGRhdGEsIHBhdGgpIFxuICB7XG4gIFx0aWYgKCFwYXRoKSByZXR1cm4gZGF0YTtcbiAgXHRcbiAgXHRsZXQga2V5cyA9IHBhdGguc3BsaXQoJy4nKVxuICBcdGxldCBuZXdPYmplY3QgPSBkYXRhO1xuICBcbiAgXHRmb3IgKHZhciAgaSA9IGtleXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgXHRcdG5ld09iamVjdCA9IHtba2V5c1tpXV06IG5ld09iamVjdH1cdFx0XHRcdFxuICBcdH1cbiAgXHRyZXR1cm4gbmV3T2JqZWN0O1xuICB9XG4gIFxuICBmdW5jdGlvbiBfX2NyZWF0ZUFycmF5KGtleSwgZGF0YSlcbiAge1xuICAgIHRyeSB7XG4gICAgICBsZXQgaXRlbSA9IC8oW1xcd1xcV10rKVxcWyhcXGQrKVxcXS9nbS5leGVjKGtleSlcbiAgICAgIGlmIChpdGVtICYmIGl0ZW0ubGVuZ3RoID09IDMpIHtcbiAgICAgICAgbGV0IGFycmF5S2V5ID0gaXRlbVsxXTtcbiAgICAgICAgbGV0IGluZGV4ID0gcGFyc2VJbnQoaXRlbVsyXSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWRhdGFbYXJyYXlLZXldIHx8ICFBcnJheS5pc0FycmF5KGRhdGFbYXJyYXlLZXldKSkge1xuICAgICAgICAgIGRhdGFbYXJyYXlLZXldID0gW107XG4gICAgICAgIH0gXG4gICAgICAgIGRhdGFbYXJyYXlLZXldW2luZGV4XSA9IGRhdGFba2V5XTtcbiAgICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICAgICAga2V5ID0gYXJyYXlLZXk7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICBjb25zb2xlLmxvZygnY3JlYXRlIGFycmF5IGVycm9yJyk7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGlzT2JqZWN0KGl0ZW0pIHtcbiAgICByZXR1cm4gKCEhaXRlbSkgJiYgKGl0ZW0uY29uc3RydWN0b3IgPT09IE9iamVjdCk7XG4gIH1cbiAgZnVuY3Rpb24gaXNBcnJheShpdGVtKSB7XG4gICAgcmV0dXJuICghIWl0ZW0pICYmIChpdGVtLmNvbnN0cnVjdG9yID09PSBBcnJheSk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGRlY29kZU9iamVjdChkYXRhKSB7XG4gICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKVxuICAgIGxldCBvYmplY3REYXRhID0ge307XG4gICAgXG4gICAga2V5cy5mb3JFYWNoKChrKSA9PiB7XG4gICAgICBrID0gX19jcmVhdGVBcnJheShrLCBkYXRhKTtcbiAgICAgIGlmIChrLnNwbGl0KCcuJykubGVuZ3RoID4gMSkge1xuICAgICAgICBsZXQgbmV3RGF0YSA9IF9fY3JlYXRlT2JqZWN0KGRhdGFba10sIGspO1xuICAgICAgICBkZWxldGUgZGF0YVtrXTtcbiAgICAgICAgXG4gICAgICAgIG9iamVjdERhdGEgPSBfX21lcmdlT2JqZWN0KG9iamVjdERhdGEsIG5ld0RhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0RGF0YVtrXSA9IGRhdGFba107XG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gb2JqZWN0RGF0YTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gZW5jb2RlT2JqZWN0KGRhdGEpIHtcbiAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICAgIGxldCBuZXdEYXRhID0ge307XG4gICAga2V5cy5mb3JFYWNoKChrKSA9PiB7XG4gICAgICBsZXQgZGF0YV92YWx1ZSA9IGRhdGFba107XG4gICAgICBpZiAoaXNPYmplY3QoZGF0YVtrXSkpIHtcbiAgICAgICAgbGV0IG5ld19vYmogPSBlbmNvZGVPYmplY3QoZGF0YVtrXSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgbmV3S2V5cyA9IE9iamVjdC5rZXlzKG5ld19vYmopO1xuICAgICAgICBuZXdLZXlzLmZvckVhY2goKG5ld0tleSkgPT4ge1xuICAgICAgICAgIGxldCB2YWx1ZSA9IG5ld19vYmpbbmV3S2V5XTtcbiAgICAgICAgICBuZXdLZXkgPSBrICsgXCIuXCIgKyBuZXdLZXk7XG4gICAgICAgICAgbmV3RGF0YVtuZXdLZXldID0gdmFsdWU7XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGFfdmFsdWUpKXtcbiAgICAgICAgZGF0YV92YWx1ZS5mb3JFYWNoKCh2LCBpbmRleCkgPT4ge1xuICAgICAgICAgIG5ld0RhdGFbYCR7a31bJHtpbmRleH1dYF0gPSB2O1xuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3RGF0YVtrXSA9IGRhdGFba107XG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gbmV3RGF0YTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gZ2V0QXR0cihlbCkge1xuICAgIGlmICghZWwpIHJldHVyblxuICBcbiAgICBsZXQgY29sbGVjdGlvbiA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJylcbiAgICBsZXQgZG9jdW1lbnRfaWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuICAgIGxldCBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICByZXR1cm4geyBjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGdldEZsYWdBdHRyKGVsKSB7XG4gICAgaWYgKCFlbCkgcmV0dXJuIHt9XG4gICAgbGV0IGlzX3JlYWx0aW1lID0gaXNSZWFsdGltZUF0dHIoZWwpO1xuICAgIGxldCBpc19zYXZlID0gaXNTYXZlQXR0cihlbCk7XG4gICAgbGV0IGlzX3JlYWQgPSBpc1JlYWRBdHRyKGVsKTtcbiAgICBsZXQgaXNfdXBkYXRlID0gaXNVcGRhdGVBdHRyKGVsKTtcbiAgICByZXR1cm4geyBpc19yZWFsdGltZSwgaXNfc2F2ZSwgaXNfcmVhZCwgaXNfdXBkYXRlIH1cbiAgfVxuICBcbiAgY29uc3QgaXNSZWFkQXR0ciA9IChlbCkgPT4gKCBfX2lzVmFsdWVPZkF0dHIoZWwsICdkYXRhLXJlYWRfdmFsdWUnKSk7XG4gIGNvbnN0IGlzU2F2ZUF0dHIgPSAoZWwpID0+ICggX19pc1ZhbHVlT2ZBdHRyKGVsLCAnZGF0YS1zYXZlX3ZhbHVlJykpO1xuICBjb25zdCBpc1VwZGF0ZUF0dHIgPSAoZWwpID0+ICggX19pc1ZhbHVlT2ZBdHRyKGVsLCAnZGF0YS11cGRhdGVfdmFsdWUnKSk7XG4gIC8vIGNvbnN0IGlzUmVhbHRpbWVBdHRyID0gKGVsKSA9PiAoIF9faXNWYWx1ZU9mQXR0cihlbCwgJ2RhdGEtcmVhbHRpbWUnKSk7XG4gIGNvbnN0IGlzUmVhbHRpbWVBdHRyID0gKGVsKSA9PiB7XG4gICAgaWYgKCFlbCkgcmV0dXJuIGZhbHNlXG4gICAgbGV0IGZsYWcgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVhbHRpbWUnKSA9PSBcImZhbHNlXCIgPyBmYWxzZSA6IHRydWU7XG4gICAgcmV0dXJuIGZsYWdcbiAgfTtcbiAgXG4gIGZ1bmN0aW9uIF9faXNWYWx1ZU9mQXR0cihlbCwgYXR0cikge1xuICAgIGlmICghZWwpIHJldHVybiBmYWxzZTtcbiAgICBsZXQgZmxhZyA9IGVsLmdldEF0dHJpYnV0ZShhdHRyKSA9PT0gXCJmYWxzZVwiID8gZmFsc2UgOiB0cnVlO1xuICAgIHJldHVybiBmbGFnXG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGNoZWNrVmFsdWUodmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKC97e1xccyooW1xcd1xcV10rKVxccyp9fS9nLnRlc3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gaXNKc29uU3RyaW5nKHN0cl9kYXRhKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBqc29uX2RhdGEgPSBKU09OLnBhcnNlKHN0cl9kYXRhKTtcbiAgICAgIGlmICh0eXBlb2YganNvbl9kYXRhID09PSBcIm9iamVjdFwiICYmIGpzb25fZGF0YSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGlzQ1JEVChpbnB1dCkge1xuICAgIGNvbnN0IHsgY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUgfSA9IGdldEF0dHIoaW5wdXQpXG4gICAgXG4gICAgaWYgKGlzSnNvblN0cmluZyhjb2xsZWN0aW9uKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChpc0pzb25TdHJpbmcobmFtZSkpIHJldHVybiBmYWxzZTtcbiAgXG4gICAgaWYgKChpbnB1dC50YWdOYW1lID09PSBcIklOUFVUXCIgJiYgW1widGV4dFwiLCBcImVtYWlsXCIsIFwidGVsXCIsIFwidXJsXCJdLmluY2x1ZGVzKGlucHV0LnR5cGUpKSB8fCBpbnB1dC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpIHtcbiAgICAgIFxuICAgICAgaWYgKCFuYW1lKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoIWlzUmVhbHRpbWVBdHRyKGlucHV0KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKGlucHV0LmdldEF0dHJpYnV0ZShcImRhdGEtdW5pcXVlXCIpID09PSBcInRydWVcIikgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdwYXNzd29yZCcpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICghaXNSZWFkQXR0cihpbnB1dCkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgICAgXG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gY2hlY2tEb2N1bWVudElkKGRvY3VtZW50X2lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghZG9jdW1lbnRfaWQpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChkb2N1bWVudF9pZC50b0xvd2VyQ2FzZSgpID09PSBcIm51bGxcIikgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBcbiAgXG4gIHJldHVybiB7XG4gICAgZGVjb2RlT2JqZWN0LFxuICAgIGVuY29kZU9iamVjdCxcbiAgICBnZXRBdHRyLFxuICAgIGdldEZsYWdBdHRyLFxuICAgIGlzUmVhbHRpbWVBdHRyLFxuICAgIGlzUmVhZEF0dHIsXG4gICAgaXNTYXZlQXR0cixcbiAgICBpc1VwZGF0ZUF0dHIsXG4gICAgY2hlY2tWYWx1ZSxcbiAgICBpc0NSRFQsXG4gICAgY2hlY2tEb2N1bWVudElkXG4gIH1cblxufSkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cocreate/crud-client/src/utils.crud.js\n")},"./node_modules/@cocreate/filter/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _cocreate_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @cocreate/utils */ \"./node_modules/@cocreate/utils/src/index.js\");\n/* harmony import */ var _cocreate_crud_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @cocreate/crud-client */ \"./node_modules/@cocreate/crud-client/src/index.js\");\n/* harmony import */ var _cocreate_crud_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cocreate_crud_client__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nconst CoCreateFilter = {\n\titems: [],\n\tioInstance: null,\n\tmoduleAttribues: [],\n\t\n\tmodule_items : [],\n\t\n\t/** start init processing **/\n\t__init: function() {\n\t\tthis.__initIntesection()\n\t\tthis.__initSocket()\n\t\tthis.__initEvents()\n\t},\n\t\n\t__initIntesection: function() {\n\t\tconst self = this;\n\t\tthis.ioInstance = new IntersectionObserver((entries, observer) => {\n\t\t\tentries.forEach(entry => {\n\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\tconst attributeInfo = self.__getMainAttribue(entry.target);\n\t\t\t\t\tif (attributeInfo.id) {\n\t\t\t\t\t\tdocument.dispatchEvent(new CustomEvent('CoCreateFilter-loadMore', {\n\t\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\t\tattrName: attributeInfo.name,\n\t\t\t\t\t\t\t\tattrId: attributeInfo.id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t\tself.ioInstance.unobserve(entry.target)\n\t\t\t\t}\n\t\t\t})\n\t\t}, {\n\t\t\tthreshold: 1\n\t\t})\t\n\t},\n\t\n\t__runLoadMore: function(attrName, id) {\n\t\tif (!id || !attrName) return;\n\t\tlet item = this.items.find((item) => item.attrName === attrName && item.id === id)\n\t\tif (!item) return;\n\t\t\n\t\tif (item.count > 0) {\n\t\t\tthis.fetchData(item)\n\t\t}\n\t},\n\t\n\t__getMainAttribue: function(el) {\n\t\tconst attribute = this.moduleAttribues.find((attr) => (el.getAttribute(attr) || \"\") !== \"\" )\n\t\tif (attribute) {\n\t\t\treturn {\n\t\t\t\tname : attribute,\n\t\t\t\tid: el.getAttribute(attribute)\n\t\t\t}\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t},\n\t\n\t__initSocket: function() {\n\t\tconst self = this;\n\t\t_cocreate_crud_client__WEBPACK_IMPORTED_MODULE_1___default().listen('readDocumentList', function(data) {\n\t\t\tlet item_id = data['element'];\n\t\t\tlet item = self.items.find((item) => item.id === item_id);\n\t\t\tif (item) {\n\t\t\t\t// eObj.startIndex += data.result.length;\n\t\t\t\tconst result_data = data['data'];\n\t\t\t\t\n\t\t\t\t//. set the intersection observe element\n\t\t\t\tlet element = document.querySelector(`[${item.attrName}=\"${item.id}\"][data-fetch_type=\"scroll\"]`)\n\t\t\t\tif (result_data.length > 0 && element) {\n\t\t\t\t\tself.ioInstance.observe(element)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// /** render total count **/\n\t\t\t\tconst totalCount = data['operator'].total\n\t\t\t\tconst totalElements = document.querySelectorAll(`[${item.attrName}=\"${item.id}\"][data-fetch_type=\"total\"]`)\n\t\t\t\t\n\t\t\t\tif (totalElements) {\n\t\t\t\t\ttotalElements.forEach((el) => el.innerHTML = totalCount)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t},\n\t\n\t__initEvents: function() {\n\t\tconst self = this;\n\t\tdocument.addEventListener('CoCreateFilter-loadMore', function(event) {\n\t\t\tconst attrId = event.detail.attrId;\n\t\t\tconst attrName = event.detail.attrName\n\t\t\tself.__runLoadMore(attrName, attrId)\n\t\t})\n\t\t\n\t\tlet buttons = document.querySelectorAll('[data-fetch_type=\"loadmore\"]');\n\t\tbuttons.forEach((btn) => {\n\t\t\tbtn.addEventListener('click', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst attributeInfo = self.__getMainAttribue(btn);\n\n\t\t\t\tif (!attributeInfo.id) return;\n\t\t\t\tself.__runLoadMore(attributeInfo.attrName, attributeInfo.attrId)\n\t\t\t})\n\t\t});\n\t},\n\t\n\t/** ---  End --- **/\n\t\n\tsetFilter: function(el, mainAttr, type) {\n\t\t\t\n\t\tif (!mainAttr) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tlet id = el.getAttribute(mainAttr);\n\t\t\n\t\tif (!id) return;\n\t\t\n\t\tif (!this.moduleAttribues.includes(mainAttr)) this.moduleAttribues.push(mainAttr)\n\t\t\n\t\tlet collection = el.getAttribute('data-fetch_collection');\n\t\tlet fetch_type = el.getAttribute('data-fetch_value_type')\n\t\tlet fetch_collection = fetch_type == \"collection\" ? true : false;\n\t\t\n\t\tlet order_name = el.getAttribute('data-order_by')\n\t\tlet order_type = el.getAttribute('data-order_type') || 'asc';\n\n\t\tlet fetch_count = parseInt(el.getAttribute('data-fetch_count'));\n\t\t\n\t\tlet item = {\n\t\t\tel: el,\n\t\t\tid: id,\n\t\t\teId: id, // + this.items.length,\n\t\t\ttype: type,\n\t\t\t\n\t\t\tattrName: mainAttr,\n\t\t\t\n\t\t\tcollection: collection,\n\t\t\tstartIndex: 0,\n\t\t\toptions: {},\t/** return options **/\n\t\t\tfetch: {},\n\t\t\tis_collection: fetch_collection,\n\t\t\tsearch: {\n\t\t\t\ttype: 'or',\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\torders: [],\n\t\t\tfilters: []\n\t\t}\n\t\t\n\t\tif (!isNaN(fetch_count) && fetch_count > 0) {\n\t\t\titem.count = fetch_count;\n\t\t}\n\t\n\t\tif (order_name) {\n\t\t\titem.orders.push({name: order_name, type: order_type == 'asc' ? 1 : -1 })\n\t\t}\n\n\t\tthis._initFilter(item, id, mainAttr);\n\t\tthis._initOrder(item, id, mainAttr);\n\t\tthis.items.push(item);\n\t\tthis._initInputForm(item, mainAttr);\n\t\t\n\t\tthis._initExportImport(item, id, mainAttr);\n\t\treturn item;\n\t},\n\t\n\t_initFilter: function(item, id, attrName) {\n\t\tlet filter_objs = item.el.getRootNode().querySelectorAll('[' + attrName + '=\"' + id + '\"]');\n\t\tfor (var i = 0; i < filter_objs.length; i++) {\n\t\t\t\n\t\t\tlet f_el = filter_objs[i];\n\t\t\tlet filter_name = f_el.getAttribute('data-filter_name');\n\t\t\tlet filter_operator = f_el.getAttribute('data-filter_operator') ? f_el.getAttribute('data-filter_operator') : '$contain';\n\t\t\tlet value_type = f_el.getAttribute('data-filter_value_type') ? f_el.getAttribute('data-filter_value_type') : 'string';\n\t\t\tlet filter_type = f_el.getAttribute('data-filter_type');\n\t\t\tlet filter_value = f_el.getAttribute('data-filter_value');\n\t\t\tif (filter_value == null) {\n\t\t\t\tcontinue ;\n\t\t\t}\n\t\t\tif (value_type !== \"raw\") {\n\t\t\t\tfilter_value = filter_value.replace(/\\s/g, '').split(',');\n\t\t\t}\n\t\n\t\t\tif (!filter_name) {\n\t\t\t\titem.search.value = this._makeSearchOption(id, attrName);\n\t\t\t} else {\n\t\t\t\tlet idx = this.getFilterByName(item, filter_name, filter_operator);\n\t\t\t\tif (value_type != 'string') {\n\t\t\t\t\tfor (let i = 0; i < filter_value.length; i++) {\n\t\t\t\t\t\tfilter_value[i] = Number(filter_value[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.insertArrayObject(item.filters, idx, {name: filter_name, value: filter_value, operator: filter_operator, type: filter_type})\n\t\t\t}\n\t\t}\n\t},\n\t\n\t_initOrder: function(item, id, attrName) {\n\t\tlet filter_objs = item.el.getRootNode().querySelectorAll('[' + attrName + '=\"' + id + '\"]');\n\t\tconst _this = this;\n\t\tfor (var i = 0; i < filter_objs.length; i++) {\n\t\t\t\n\t\t\tlet f_el = filter_objs[i];\n\t\t\tlet order_name = f_el.getAttribute('data-order_by');\n\t\t\tlet order_value = f_el.getAttribute('value');\n\t\t\tif (!order_name || !order_value) {\n\t\t\t\tcontinue ;\n\t\t\t}\n\t\t\t\n\t\t\tif (['A', 'BUTTON'].includes(f_el.tagName)) {\n\t\t\t\tf_el.addEventListener('click', function(){\n\t\t\t\t\tlet name = this.getAttribute('data-order_by');\n\t\t\t\t\tlet value = this.getAttribute('value');\n\t\t\t\t\t_this._applyOrder(item, name, value)\n\t\t\t\t\tif (item.el) {\n\t\t\t\t\t\titem.el.dispatchEvent(new CustomEvent(\"changeFilterInput\", { detail: {type: 'order'} }))\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//. apply click event\n\t\t\t} else {\n\t\t\t\tthis._applyOrder(item, order_name, order_value);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis._initToggleOrderEvent(item, id, attrName);\n\t},\n\t\n\t_initToggleOrderEvent: function(item, id, attrName) {\n\t\tlet elements = document.querySelectorAll(`[${attrName}=\"${id}\"][data-toggle_order]`)\n\t\tconst self =this;\n\t\telements.forEach((element) => {\n\t\t\telement.addEventListener('click', function() {\n\t\t\t\tlet value = this.getAttribute('data-toggle_order') || '';\n\t\t\t\tlet order_name = this.getAttribute('data-order_by');\n\t\t\t\t\n\t\t\t\tvalue = value === 'asc' ? 'desc' : 'asc';\n\n\t\t\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\t\t\tif (elements[i] !== element) {\n\t\t\t\t\t\telements[i].setAttribute('data-toggle_order', '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\titem.orders = [];\n\t\t\t\t\n\t\t\t\tself._applyOrder(item, order_name, value);\n\t\t\t\telement.setAttribute('data-toggle_order', value);\n\t\t\t\t\n\t\t\t\tif (item.el) {\n\t\t\t\t\titem.el.dispatchEvent(new CustomEvent(\"changeFilterInput\", { detail: {type: 'order'} }))\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t})\n\t},\n\t\n\t_initExportImport: function(item, id, attrName) {\n\t\tlet export_button = document.querySelector(`[data-export_type][${attrName}=\"${id}\"]`);\n\t\tlet import_button = document.querySelector(`[data-import=\"true\"][${attrName}=\"${id}\"]`);\n\t\t\n\t\tconst self = this;\n\t\tif (export_button) {\n\t\t\t//. export_buttons action\n\t\t\texport_button.addEventListener('click', function() {\n\t\n\t\t\t\tif (!item) return;\n\t\t\t\t\n\t\t\t\tlet new_filter = self.makeFetchOptions(item)\n\t\t\t\t\n\t\t\t\tnew_filter.export = {\n\t\t\t\t\tcollection: new_filter.collection,\n\t\t\t\t\ttype: export_button.getAttribute('data-export_type') || 'json'\n\t\t\t\t}\n\t\t\t\t_cocreate_crud_client__WEBPACK_IMPORTED_MODULE_1___default().readDocumentList(new_filter);\n\t\t\t})\n\t\t\t\n\t\t}\n\t\t\n\t\tif (import_button) {\n\t\t\t//. import button action\n\t\t\timport_button.addEventListener('click', function() {\n\t\t\t\tvar input = document.createElement('input');\n\t\t\t\tinput.type = 'file';\n\t\n\t\t\t\tif (!item) return;\n\t\t\t\t\n\t\t\t\tlet collection = item.collection;\n\t\t\t\t\n\t\t\t\t//. or \n\t\t\t\t// collection = btn.getAttribute('data-collection');\n\t\n\t\t\t\tinput.onchange = e => {\n\t\t\t\t\tvar file = e.target.files[0];\n\t\t\t\t\t_cocreate_crud_client__WEBPACK_IMPORTED_MODULE_1___default().importCollection({\n\t\t\t\t\t\tcollection: collection,\n\t\t\t\t\t\tfile: file\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tinput.click();\n\t\t\t})\n\t\t}\n\n\t},\n\t\n\t_applyOrder: function(item, name, value) {\n\t\t\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\t\tlet order_type = 0;\n\t\tlet idx = this.getOrderByName(item, name);\n\t\t\n\t\tif (value == 'asc') {\n\t\t\torder_type = 1;   \n\t\t} else if (value == 'desc') {\n\t\t\torder_type = -1;\n\t\t} else {\n\t\t\torder_type = [];\n\t\t}\n\t\tthis.insertArrayObject(item.orders, idx, {name: name, type: order_type}, order_type)\n\t},\n\t\n\tchangeCollection: function(filter) {\n\t\tlet collection = filter.el.getAttribute('data-fetch_collection');\n\t\tfilter.collection = collection;\n\t\tfilter.startIndex = 0;\n\t},\n\t\n\t_makeSearchOption: function(id, attrName) {\n\t\tlet forms = document.querySelectorAll('form[' + attrName + '=' + id + ']');\n\t\t\n\t\tlet tmpSelector = '[' + attrName + '=' + id + ']';\n\t\tlet otherInputs = document.querySelectorAll('input' + tmpSelector + ',textarea' + tmpSelector + ', select' + tmpSelector);\n\t\t\n\t\tlet template_inputs = [];\n\n\t\tfor (let i=0; i < forms.length; i++) {\n\t\t\tlet form = forms[i];\n\t\t\tlet formInputs = form.querySelectorAll('input, textarea, select');\n\t\t\tformInputs = Array.prototype.slice.call(formInputs)\n\t\t\ttemplate_inputs = template_inputs.concat(formInputs);\n\t\t}\n\t\t\n\t\totherInputs = Array.prototype.slice.call(otherInputs);\n\t\ttemplate_inputs = template_inputs.concat(otherInputs)\n\t\t\n\t\tlet values = [];\n\t\t\n\t\tfor (var i = 0; i < template_inputs.length; i++) {\n\t\t\tlet filter_name = template_inputs[i].getAttribute('data-filter_name')\n\t\t\tlet order_name = template_inputs[i].getAttribute('data-order_by')\n\t\t\t\n\t\t\tlet input = template_inputs[i];\n\t\t\tlet value_type = input.getAttribute('data-value_type') ? input.getAttribute('data-value_type') : 'string';\n\t\t\tlet value = null;\n\t\t\t\n\t\t\tif (!filter_name && !order_name) {\n\t\t\t\tif (input.type == 'checkbox' && !input.checked) {\n\t\t\t\t\tvalue = null;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = input.value;\n\t\t\t\t\tif (value_type != 'string') {\n\t\t\t\t\t\tvalue = Number(value);\n\t\t\t\t\t}\n\t\t\t\t\tif (value && !values.includes(value)) {\n\t\t\t\t\t\tvalues.push(value)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn values;\n\t},\n\t\n\t_initInputForm: function(item, attrName) {\n\t\n\t\tif (!item) return;\n\t\n\t\tlet tmpSelector = '[' + attrName + '=\"' + item.id + '\"]';\n\t\tlet formInputs = item.el.getRootNode().querySelectorAll('form'+ tmpSelector + ' input, form' + tmpSelector + ' textarea, form' + tmpSelector + ' select');\n\t\tlet otherInputs = item.el.getRootNode().querySelectorAll('input' + tmpSelector + ',textarea' + tmpSelector + ', select' + tmpSelector);\n\t\n\t\tthis.setCheckboxName(item.id, attrName);\n\t\t\n\t\tformInputs = Array.prototype.slice.call(formInputs);\n\t\totherInputs = Array.prototype.slice.call(otherInputs);\n\t\tformInputs = formInputs.concat(otherInputs);\n\n\t\t// console.log('input form', tmpSelector);\n\t\t\n\t\tfor (let i=0; i < formInputs.length; i++) {\n\t\t\tlet input = formInputs[i];\n\t\t\t\n\t\t\tlet order_by = input.getAttribute('data-order_by');\n\t\t\t\n\t\t\tif (order_by) {\n\t\t\t\tthis._initOrderInput(item, input);\n\t\t\t} else {\n\t\t\t\tthis._initFilterInput(item, input, item.id);\n\t\t\t}\n\t\t}\n\t},\n\t\n\t_initOrderInput: function(item, input) {\n\t\tvar _instance = this;\n\t\tinput.addEventListener('change', function(e) {\n\t\t\t\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tlet order_by = this.getAttribute('data-order_by');\n\t\t\tlet order_type = 0;\n\t\t\tlet idx = _instance.getOrderByName(item, order_by);\n\t\t\t\n\t\t\tif (this.value == 'asc') {\n\t\t\t\torder_type = 1;   \n\t\t\t} else if (this.value == 'desc') {\n\t\t\t\torder_type = -1;\n\t\t\t} else {\n\t\t\t\torder_type = [];\n\t\t\t}\n\t\t\t\n\t\t\t_instance.insertArrayObject(item.orders, idx, {name: order_by, type: order_type}, order_type)\n\t\t\t\n\t\t\tif (item.el) {\n\t\t\t\titem.el.dispatchEvent(new CustomEvent(\"changeFilterInput\", { detail: {type: 'order'} }))\n\t\t\t}\n\t\t})\n\t},\n\n\t_initFilterInput: function (item, input, id) {\n\t\tvar _instance = this;\n\t\tvar delayTimer;\n\t\tinput.addEventListener('input', function(e) {\n\t\t\te.preventDefault();\n\t\t\tlet filter_name = this.getAttribute('data-filter_name');\n\t\t\tlet filter_operator = this.getAttribute('data-filter_operator') || '$contain';\n\t\t\tlet filter_type = this.getAttribute('data-filter_type');\n\t\t\tlet value_type = this.getAttribute('data-filter_value_type') || 'string';\n\t\t\tclearTimeout(delayTimer);\n\t\t\tdelayTimer = setTimeout(function() {\n\t\t\t\t\n\t\t\t\tif (!filter_name) {\n\t\t\t\t\titem.search.value = _instance._makeSearchOption(id, item.attrName);\n\t\t\t\t} else {\n\t\t\t\t\t\n\t\t\t\t\tlet idx = _instance.getFilterByName(item, filter_name, filter_operator);\n\t\t\t\n\t\t\t\t\tlet inputType = input.type;\n\t\t\t\t\tlet filterValue = [];\n\t\t\t\t\n\t\t\t\t\tif (inputType == 'checkbox') {\n\t\t\t\t\t\tvar inputGroup = document.querySelectorAll(\"input[name=\" + input.name + \"]:checked\");\n\t\t\t\t\t\tfor (var i = 0; i < inputGroup.length; i++) {\n\t\t\t\t\t\t\tfilterValue.push(inputGroup[i].value);\n\t\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t} else if (inputType == 'raido') {\n\t\t\t\t\t\t\n\t\t\t\t\t} else if (inputType == 'range') {\n\t\t\t\t\t\tfilterValue = [Number(input.min), Number(input.value)];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar value = input.value;\n\t\t\t\t\t\tif (value_type != 'string') {\n\t\t\t\t\t\t\tvalue = Number(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (value != \"none\") {\n\t\t\t\t\t\t\tfilterValue = [value];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (value_type === \"raw\") {\n\t\t\t\t\t\t\tfilterValue = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t_instance.insertArrayObject(item.filters, idx, {name: filter_name, value: filterValue, operator: filter_operator, type: filter_type})\n\t\t\t\t}\n\t\t\t\tif (item.el) {\n\t\t\t\t\titem.el.dispatchEvent(new CustomEvent(\"changeFilterInput\", { detail: {type: 'filter'} }))\n\t\t\t\t}\n\t\t\t\n\t\t\t}, 500);\n\n\t\t})\n\t},\n\tsetCheckboxName: function (id, attrName) {\n\t\tvar forms = document.querySelectorAll('form[' + attrName + '=\"' + id + '\"]')\n\t\tfor (var k = 0; k < forms.length; k++) {\n\t\t\t\n\t\t\tvar elements = forms[k].querySelectorAll('input[type=checkbox], form input[type=radio]');\n\t\t\t\n\t\t\tfor (var i = 0; i < elements.length; i++) {\n\t\t\t\tvar el_name = elements[i].getAttribute('name');\n\t\t\t\tvar f_name = elements[i].getAttribute('data-filter_name');\n\t\t\t\tif (el_name || !f_name) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\telements[i].setAttribute('name', \"_\" + id +\"-\" + f_name + \"_\" + k);\n\t\t\t}\n\t\t\t\n\t\t}\n\t},\n\t\n\tgetFilterByName: function (item, filterName, filterOperator) {\n\t\tfor (var i = 0; i < item.filters.length; i++) {\n\t\t\tvar f = item.filters[i];\n\t\t\tif (f.name == filterName && f.operator == filterOperator) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\t\n\tinsertArrayObject: function(data, idx, obj, value) {\n\t\tif (!value) {\n\t\t\tvalue = obj.value;\n\t\t}\n\t\tif (typeof value == 'object'  && value.length == 0) {\n\t\t\tif (idx != -1) {\n\t\t\t\tdata.splice(idx, 1);\n\t\t\t}\n\t\t} else {\n\t\t\tif (idx != -1) {\n\t\t\t\tdata[idx] = obj;\n\t\t\t} else {\n\t\t\t\tdata.push(obj);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn data;\n\t},\n\t\n\tgetOrderByName: function(item, name) {\n\t\tfor (var i = 0; i < item.orders.length; i++) {\n\t\t\tif (item.orders[i].name == name) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\t\n\t\n\tdefineEvent: function(item) {\n\t\titem.el.addEventListener('fetchFilterData', function(event) {\n\t\t\tconsole.log(event);\n\t\t});\n\t},\n\t\n\tfetchData:function (item) {\n\t\tlet json = this.makeFetchOptions(item);\n\t\t_cocreate_crud_client__WEBPACK_IMPORTED_MODULE_1___default().readDocumentList(json);\n\t},\n\t\n\tgetObjectByFilterId: function(obj, id) {\n\t\tfor (var i = 0; i < obj.length; i++) {\n\t\t\tlet filter = obj[i].filter;\n\t\t\tif (!filter) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tif (filter.id == id) {\n\t\t\t\treturn obj[i];\n\t\t\t}\n\t\t}\n\t},\n\t\n\tgetObjectByElement: function(obj, el) {\n\t\tfor (var i = 0; i < obj.length; i++) {\n\t\t\tlet filter = obj[i].filter;\n\t\t\tif (!filter) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tif (filter.el.isSameNode(el)) {\n\t\t\t\treturn obj[i];\n\t\t\t}\n\t\t}\n\t},\n\t\n\tmakeFetchOptions: function(item) {\n\t\tlet json = {\n\t\t\t\"collection\": item.collection,\n\t\t\t\"element\": item.eId,\n\t\t\t\"metadata\": {\n\t\t\t\tisRefresh: item.isRefresh\n\t\t\t},\n\t\t\t\"operator\" :  {\n\t\t\t\t\"filters\": item.filters,\n\t\t\t\t\"orders\": item.orders,\n\t\t\t\t\"search\": item.search,\n\t\t\t\t\"startIndex\": item.startIndex,\n\t\t\t},\n\t\t\t\"is_collection\": item.is_collection\n\t\t}\n\t\t\n\t\tif (item.count) {\n\t\t\tjson['operator'].count = item.count;\n\t\t}\n\t\treturn json;\n\t},\n\t\n\tinit: function({name, attribute, callback}) {\n\t\tlet elements = document.querySelectorAll(`[data-fetch_collection][${attribute}]`)\n\t\tconst self = this;\n\t\telements.forEach((el) => {\n\t\t\tself.__initFilterElement(el, attribute, name);\n\t\t});\n\t\t\n\t\t_cocreate_crud_client__WEBPACK_IMPORTED_MODULE_1___default().listen('readDocumentList', function(data) {\n\t\t\tcallback.call(null, data);\n\t\t})\n\t},\n\t\n\t__initFilterElement: function(el, attribute, name) {\n\t\tlet _id = el.getAttribute(attribute)\n\t\tconst self = this;\n\t\tif (!_id) return;\n\t\t\n\t\t//. restrict the duplication define\n\t\t// if (this.module_items.some(x => x.name == name && x.id == _id)) {\n\t\t// \treturn;\n\t\t// }\n\t\t\n\t\tlet filter = this.setFilter(el, attribute, name)\n\t\t\n\t\tif (filter) {\n\t\t\tthis.module_items.push({\n\t\t\t\tel: el,\n\t\t\t\tfilter: filter,\n\t\t\t\tid: _id,\n\t\t\t\tname: name\n\t\t\t})\n\t\t\t\n\t\t\tel.addEventListener('changeFilterInput', function(e) {\n\t\t\t\tself.fetchData(filter)\n\t\t\t})\n\t\t\t\n\t\t\tthis.fetchData(filter)\n\t\t}\n\t}\n}\n\nCoCreateFilter.__init();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CoCreateFilter);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mdWxsY2FsZW5kYXIvLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2ZpbHRlci9zcmMvaW5kZXguanM/ZDkzNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9DO0FBQ0s7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRSxtRUFBVztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2Q0FBNkMsY0FBYyxJQUFJLFFBQVE7QUFDdkU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3REFBd0QsY0FBYyxJQUFJLFFBQVE7O0FBRWxGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNILEVBQUU7O0FBRUY7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZCxZQUFZO0FBQ1o7QUFDQTtB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QUNoRjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUUsbUVBQVc7QUFDYjtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsaUVBQWUsY0FBYyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AY29jcmVhdGUvZmlsdGVyL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1dGlscyBmcm9tICdAY29jcmVhdGUvdXRpbHMnO1xuaW1wb3J0IGNydWQgZnJvbSAnQGNvY3JlYXRlL2NydWQtY2xpZW50JztcblxuY29uc3QgQ29DcmVhdGVGaWx0ZXIgPSB7XG5cdGl0ZW1zOiBbXSxcblx0aW9JbnN0YW5jZTogbnVsbCxcblx0bW9kdWxlQXR0cmlidWVzOiBbXSxcblx0XG5cdG1vZHVsZV9pdGVtcyA6IFtdLFxuXHRcblx0LyoqIHN0YXJ0IGluaXQgcHJvY2Vzc2luZyAqKi9cblx0X19pbml0OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9faW5pdEludGVzZWN0aW9uKClcblx0XHR0aGlzLl9faW5pdFNvY2tldCgpXG5cdFx0dGhpcy5fX2luaXRFdmVudHMoKVxuXHR9LFxuXHRcblx0X19pbml0SW50ZXNlY3Rpb246IGZ1bmN0aW9uKCkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdHRoaXMuaW9JbnN0YW5jZSA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcblx0XHRcdGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG5cdFx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRcdGNvbnN0IGF0dHJpYnV0ZUluZm8gPSBzZWxmLl9fZ2V0TWFpbkF0dHJpYnVlKGVudHJ5LnRhcmdldCk7XG5cdFx0XHRcdFx0aWYgKGF0dHJpYnV0ZUluZm8uaWQpIHtcblx0XHRcdFx0XHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdDb0NyZWF0ZUZpbHRlci1sb2FkTW9yZScsIHtcblx0XHRcdFx0XHRcdFx0ZGV0YWlsOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXR0ck5hbWU6IGF0dHJpYnV0ZUluZm8ubmFtZSxcblx0XHRcdFx0XHRcdFx0XHRhdHRySWQ6IGF0dHJpYnV0ZUluZm8uaWRcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzZWxmLmlvSW5zdGFuY2UudW5vYnNlcnZlKGVudHJ5LnRhcmdldClcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9LCB7XG5cdFx0XHR0aHJlc2hvbGQ6IDFcblx0XHR9KVx0XG5cdH0sXG5cdFxuXHRfX3J1bkxvYWRNb3JlOiBmdW5jdGlvbihhdHRyTmFtZSwgaWQpIHtcblx0XHRpZiAoIWlkIHx8ICFhdHRyTmFtZSkgcmV0dXJuO1xuXHRcdGxldCBpdGVtID0gdGhpcy5pdGVtcy5maW5kKChpdGVtKSA9PiBpdGVtLmF0dHJOYW1lID09PSBhdHRyTmFtZSAmJiBpdGVtLmlkID09PSBpZClcblx0XHRpZiAoIWl0ZW0pIHJldHVybjtcblx0XHRcblx0XHRpZiAoaXRlbS5jb3VudCA+IDApIHtcblx0XHRcdHRoaXMuZmV0Y2hEYXRhKGl0ZW0pXG5cdFx0fVxuXHR9LFxuXHRcblx0X19nZXRNYWluQXR0cmlidWU6IGZ1bmN0aW9uKGVsKSB7XG5cdFx0Y29uc3QgYXR0cmlidXRlID0gdGhpcy5tb2R1bGVBdHRyaWJ1ZXMuZmluZCgoYXR0cikgPT4gKGVsLmdldEF0dHJpYnV0ZShhdHRyKSB8fCBcIlwiKSAhPT0gXCJcIiApXG5cdFx0aWYgKGF0dHJpYnV0ZSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bmFtZSA6IGF0dHJpYnV0ZSxcblx0XHRcdFx0aWQ6IGVsLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpXG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9XG5cdH0sXG5cdFxuXHRfX2luaXRTb2NrZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGNydWQubGlzdGVuKCdyZWFkRG9jdW1lbnRMaXN0JywgZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0bGV0IGl0ZW1faWQgPSBkYXRhWydlbGVtZW50J107XG5cdFx0XHRsZXQgaXRlbSA9IHNlbGYuaXRlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaXRlbV9pZCk7XG5cdFx0XHRpZiAoaXRlbSkge1xuXHRcdFx0XHQvLyBlT2JqLnN0YXJ0SW5kZXggKz0gZGF0YS5yZXN1bHQubGVuZ3RoO1xuXHRcdFx0XHRjb25zdCByZXN1bHRfZGF0YSA9IGRhdGFbJ2RhdGEnXTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vLiBzZXQgdGhlIGludGVyc2VjdGlvbiBvYnNlcnZlIGVsZW1lbnRcblx0XHRcdFx0bGV0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbJHtpdGVtLmF0dHJOYW1lfT1cIiR7aXRlbS5pZH1cIl1bZGF0YS1mZXRjaF90eXBlPVwic2Nyb2xsXCJdYClcblx0XHRcdFx0aWYgKHJlc3VsdF9kYXRhLmxlbmd0aCA+IDAgJiYgZWxlbWVudCkge1xuXHRcdFx0XHRcdHNlbGYuaW9JbnN0YW5jZS5vYnNlcnZlKGVsZW1lbnQpXG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdC8vIC8qKiByZW5kZXIgdG90YWwgY291bnQgKiovXG5cdFx0XHRcdGNvbnN0IHRvdGFsQ291bnQgPSBkYXRhWydvcGVyYXRvciddLnRvdGFsXG5cdFx0XHRcdGNvbnN0IHRvdGFsRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtpdGVtLmF0dHJOYW1lfT1cIiR7aXRlbS5pZH1cIl1bZGF0YS1mZXRjaF90eXBlPVwidG90YWxcIl1gKVxuXHRcdFx0XHRcblx0XHRcdFx0aWYgKHRvdGFsRWxlbWVudHMpIHtcblx0XHRcdFx0XHR0b3RhbEVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiBlbC5pbm5lckhUTUwgPSB0b3RhbENvdW50KVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSlcblx0fSxcblx0XG5cdF9faW5pdEV2ZW50czogZnVuY3Rpb24oKSB7XG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignQ29DcmVhdGVGaWx0ZXItbG9hZE1vcmUnLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0Y29uc3QgYXR0cklkID0gZXZlbnQuZGV0YWlsLmF0dHJJZDtcblx0XHRcdGNvbnN0IGF0dHJOYW1lID0gZXZlbnQuZGV0YWlsLmF0dHJOYW1lXG5cdFx0XHRzZWxmLl9fcnVuTG9hZE1vcmUoYXR0ck5hbWUsIGF0dHJJZClcblx0XHR9KVxuXHRcdFxuXHRcdGxldCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmV0Y2hfdHlwZT1cImxvYWRtb3JlXCJdJyk7XG5cdFx0YnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcblx0XHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRjb25zdCBhdHRyaWJ1dGVJbmZvID0gc2VsZi5fX2dldE1haW5BdHRyaWJ1ZShidG4pO1xuXG5cdFx0XHRcdGlmICghYXR0cmlidXRlSW5mby5pZCkgcmV0dXJuO1xuXHRcdFx0XHRzZWxmLl9fcnVuTG9hZE1vcmUoYXR0cmlidXRlSW5mby5hdHRyTmFtZSwgYXR0cmlidXRlSW5mby5hdHRySWQpXG5cdFx0XHR9KVxuXHRcdH0pO1xuXHR9LFxuXHRcblx0LyoqIC0tLSAgRW5kIC0tLSAqKi9cblx0XG5cdHNldEZpbHRlcjogZnVuY3Rpb24oZWwsIG1haW5BdHRyLCB0eXBlKSB7XG5cdFx0XHRcblx0XHRpZiAoIW1haW5BdHRyKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdFxuXHRcdGxldCBpZCA9IGVsLmdldEF0dHJpYnV0ZShtYWluQXR0cik7XG5cdFx0XG5cdFx0aWYgKCFpZCkgcmV0dXJuO1xuXHRcdFxuXHRcdGlmICghdGhpcy5tb2R1bGVBdHRyaWJ1ZXMuaW5jbHVkZXMobWFpbkF0dHIpKSB0aGlzLm1vZHVsZUF0dHJpYnVlcy5wdXNoKG1haW5BdHRyKVxuXHRcdFxuXHRcdGxldCBjb2xsZWN0aW9uID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWZldGNoX2NvbGxlY3Rpb24nKTtcblx0XHRsZXQgZmV0Y2hfdHlwZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1mZXRjaF92YWx1ZV90eXBlJylcblx0XHRsZXQgZmV0Y2hfY29sbGVjdGlvbiA9IGZldGNoX3R5cGUgPT0gXCJjb2xsZWN0aW9uXCIgPyB0cnVlIDogZmFsc2U7XG5cdFx0XG5cdFx0bGV0IG9yZGVyX25hbWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JkZXJfYnknKVxuXHRcdGxldCBvcmRlcl90eXBlID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLW9yZGVyX3R5cGUnKSB8fCAnYXNjJztcblxuXHRcdGxldCBmZXRjaF9jb3VudCA9IHBhcnNlSW50KGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1mZXRjaF9jb3VudCcpKTtcblx0XHRcblx0XHRsZXQgaXRlbSA9IHtcblx0XHRcdGVsOiBlbCxcblx0XHRcdGlkOiBpZCxcblx0XHRcdGVJZDogaWQsIC8vICsgdGhpcy5pdGVtcy5sZW5ndGgsXG5cdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XG5cdFx0XHRhdHRyTmFtZTogbWFpbkF0dHIsXG5cdFx0XHRcblx0XHRcdGNvbGxlY3Rpb246IGNvbGxlY3Rpb24sXG5cdFx0XHRzdGFydEluZGV4OiAwLFxuXHRcdFx0b3B0aW9uczoge30sXHQvKiogcmV0dXJuIG9wdGlvbnMgKiovXG5cdFx0XHRmZXRjaDoge30sXG5cdFx0XHRpc19jb2xsZWN0aW9uOiBmZXRjaF9jb2xsZWN0aW9uLFxuXHRcdFx0c2VhcmNoOiB7XG5cdFx0XHRcdHR5cGU6ICdvcicsXG5cdFx0XHRcdHZhbHVlOiBbXVxuXHRcdFx0fSxcblx0XHRcdG9yZGVyczogW10sXG5cdFx0XHRmaWx0ZXJzOiBbXVxuXHRcdH1cblx0XHRcblx0XHRpZiAoIWlzTmFOKGZldGNoX2NvdW50KSAmJiBmZXRjaF9jb3VudCA+IDApIHtcblx0XHRcdGl0ZW0uY291bnQgPSBmZXRjaF9jb3VudDtcblx0XHR9XG5cdFxuXHRcdGlmIChvcmRlcl9uYW1lKSB7XG5cdFx0XHRpdGVtLm9yZGVycy5wdXNoKHtuYW1lOiBvcmRlcl9uYW1lLCB0eXBlOiBvcmRlcl90eXBlID09ICdhc2MnID8gMSA6IC0xIH0pXG5cdFx0fVxuXG5cdFx0dGhpcy5faW5pdEZpbHRlcihpdGVtLCBpZCwgbWFpbkF0dHIpO1xuXHRcdHRoaXMuX2luaXRPcmRlcihpdGVtLCBpZCwgbWFpbkF0dHIpO1xuXHRcdHRoaXMuaXRlbXMucHVzaChpdGVtKTtcblx0XHR0aGlzLl9pbml0SW5wdXRGb3JtKGl0ZW0sIG1haW5BdHRyKTtcblx0XHRcblx0XHR0aGlzLl9pbml0RXhwb3J0SW1wb3J0KGl0ZW0sIGlkLCBtYWluQXR0cik7XG5cdFx0cmV0dXJuIGl0ZW07XG5cdH0sXG5cdFxuXHRfaW5pdEZpbHRlcjogZnVuY3Rpb24oaXRlbSwgaWQsIGF0dHJOYW1lKSB7XG5cdFx0bGV0IGZpbHRlcl9vYmpzID0gaXRlbS5lbC5nZXRSb290Tm9kZSgpLnF1ZXJ5U2VsZWN0b3JBbGwoJ1snICsgYXR0ck5hbWUgKyAnPVwiJyArIGlkICsgJ1wiXScpO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVyX29ianMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFxuXHRcdFx0bGV0IGZfZWwgPSBmaWx0ZXJfb2Jqc1tpXTtcblx0XHRcdGxldCBmaWx0ZXJfbmFtZSA9IGZfZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbHRlcl9uYW1lJyk7XG5cdFx0XHRsZXQgZmlsdGVyX29wZXJhdG9yID0gZl9lbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmlsdGVyX29wZXJhdG9yJykgPyBmX2VsLmdldEF0dHJpYnV0ZSgnZGF0YS1maWx0ZXJfb3BlcmF0b3InKSA6ICckY29udGFpbic7XG5cdFx0XHRsZXQgdmFsdWVfdHlwZSA9IGZfZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbHRlcl92YWx1ZV90eXBlJykgPyBmX2VsLmdldEF0dHJpYnV0ZSgnZGF0YS1maWx0ZXJfdmFsdWVfdHlwZScpIDogJ3N0cmluZyc7XG5cdFx0XHRsZXQgZmlsdGVyX3R5cGUgPSBmX2VsLmdldEF0dHJpYnV0ZSgnZGF0YS1maWx0ZXJfdHlwZScpO1xuXHRcdFx0bGV0IGZpbHRlcl92YWx1ZSA9IGZfZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbHRlcl92YWx1ZScpO1xuXHRcdFx0aWYgKGZpbHRlcl92YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRcdGNvbnRpbnVlIDtcblx0XHRcdH1cblx0XHRcdGlmICh2YWx1ZV90eXBlICE9PSBcInJhd1wiKSB7XG5cdFx0XHRcdGZpbHRlcl92YWx1ZSA9IGZpbHRlcl92YWx1ZS5yZXBsYWNlKC9cXHMvZywgJycpLnNwbGl0KCcsJyk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCFmaWx0ZXJfbmFtZSkge1xuXHRcdFx0XHRpdGVtLnNlYXJjaC52YWx1ZSA9IHRoaXMuX21ha2VTZWFyY2hPcHRpb24oaWQsIGF0dHJOYW1lKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxldCBpZHggPSB0aGlzLmdldEZpbHRlckJ5TmFtZShpdGVtLCBmaWx0ZXJfbmFtZSwgZmlsdGVyX29wZXJhdG9yKTtcblx0XHRcdFx0aWYgKHZhbHVlX3R5cGUgIT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGZpbHRlcl92YWx1ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0ZmlsdGVyX3ZhbHVlW2ldID0gTnVtYmVyKGZpbHRlcl92YWx1ZVtpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuaW5zZXJ0QXJyYXlPYmplY3QoaXRlbS5maWx0ZXJzLCBpZHgsIHtuYW1lOiBmaWx0ZXJfbmFtZSwgdmFsdWU6IGZpbHRlcl92YWx1ZSwgb3BlcmF0b3I6IGZpbHRlcl9vcGVyYXRvciwgdHlwZTogZmlsdGVyX3R5cGV9KVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0XG5cdF9pbml0T3JkZXI6IGZ1bmN0aW9uKGl0ZW0sIGlkLCBhdHRyTmFtZSkge1xuXHRcdGxldCBmaWx0ZXJfb2JqcyA9IGl0ZW0uZWwuZ2V0Um9vdE5vZGUoKS5xdWVyeVNlbGVjdG9yQWxsKCdbJyArIGF0dHJOYW1lICsgJz1cIicgKyBpZCArICdcIl0nKTtcblx0XHRjb25zdCBfdGhpcyA9IHRoaXM7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJfb2Jqcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XG5cdFx0XHRsZXQgZl9lbCA9IGZpbHRlcl9vYmpzW2ldO1xuXHRcdFx0bGV0IG9yZGVyX25hbWUgPSBmX2VsLmdldEF0dHJpYnV0ZSgnZGF0YS1vcmRlcl9ieScpO1xuXHRcdFx0bGV0IG9yZGVyX3ZhbHVlID0gZl9lbC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG5cdFx0XHRpZiAoIW9yZGVyX25hbWUgfHwgIW9yZGVyX3ZhbHVlKSB7XG5cdFx0XHRcdGNvbnRpbnVlIDtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKFsnQScsICdCVVRUT04nXS5pbmNsdWRlcyhmX2VsLnRhZ05hbWUpKSB7XG5cdFx0XHRcdGZfZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdGxldCBuYW1lID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JkZXJfYnknKTtcblx0XHRcdFx0XHRsZXQgdmFsdWUgPSB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcblx0XHRcdFx0XHRfdGhpcy5fYXBwbHlPcmRlcihpdGVtLCBuYW1lLCB2YWx1ZSlcblx0XHRcdFx0XHRpZiAoaXRlbS5lbCkge1xuXHRcdFx0XHRcdFx0aXRlbS5lbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImNoYW5nZUZpbHRlcklucHV0XCIsIHsgZGV0YWlsOiB7dHlwZTogJ29yZGVyJ30gfSkpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Ly8uIGFwcGx5IGNsaWNrIGV2ZW50XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9hcHBseU9yZGVyKGl0ZW0sIG9yZGVyX25hbWUsIG9yZGVyX3ZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5faW5pdFRvZ2dsZU9yZGVyRXZlbnQoaXRlbSwgaWQsIGF0dHJOYW1lKTtcblx0fSxcblx0XG5cdF9pbml0VG9nZ2xlT3JkZXJFdmVudDogZnVuY3Rpb24oaXRlbSwgaWQsIGF0dHJOYW1lKSB7XG5cdFx0bGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7YXR0ck5hbWV9PVwiJHtpZH1cIl1bZGF0YS10b2dnbGVfb3JkZXJdYClcblx0XHRjb25zdCBzZWxmID10aGlzO1xuXHRcdGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcblx0XHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0bGV0IHZhbHVlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9nZ2xlX29yZGVyJykgfHwgJyc7XG5cdFx0XHRcdGxldCBvcmRlcl9uYW1lID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JkZXJfYnknKTtcblx0XHRcdFx0XG5cdFx0XHRcdHZhbHVlID0gdmFsdWUgPT09ICdhc2MnID8gJ2Rlc2MnIDogJ2FzYyc7XG5cblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGlmIChlbGVtZW50c1tpXSAhPT0gZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0ZWxlbWVudHNbaV0uc2V0QXR0cmlidXRlKCdkYXRhLXRvZ2dsZV9vcmRlcicsICcnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdGl0ZW0ub3JkZXJzID0gW107XG5cdFx0XHRcdFxuXHRcdFx0XHRzZWxmLl9hcHBseU9yZGVyKGl0ZW0sIG9yZGVyX25hbWUsIHZhbHVlKTtcblx0XHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9nZ2xlX29yZGVyJywgdmFsdWUpO1xuXHRcdFx0XHRcblx0XHRcdFx0aWYgKGl0ZW0uZWwpIHtcblx0XHRcdFx0XHRpdGVtLmVsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiY2hhbmdlRmlsdGVySW5wdXRcIiwgeyBkZXRhaWw6IHt0eXBlOiAnb3JkZXInfSB9KSlcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdH0pXG5cdFx0fSlcblx0fSxcblx0XG5cdF9pbml0RXhwb3J0SW1wb3J0OiBmdW5jdGlvbihpdGVtLCBpZCwgYXR0ck5hbWUpIHtcblx0XHRsZXQgZXhwb3J0X2J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWV4cG9ydF90eXBlXVske2F0dHJOYW1lfT1cIiR7aWR9XCJdYCk7XG5cdFx0bGV0IGltcG9ydF9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pbXBvcnQ9XCJ0cnVlXCJdWyR7YXR0ck5hbWV9PVwiJHtpZH1cIl1gKTtcblx0XHRcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRpZiAoZXhwb3J0X2J1dHRvbikge1xuXHRcdFx0Ly8uIGV4cG9ydF9idXR0b25zIGFjdGlvblxuXHRcdFx0ZXhwb3J0X2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0aWYgKCFpdGVtKSByZXR1cm47XG5cdFx0XHRcdFxuXHRcdFx0XHRsZXQgbmV3X2ZpbHRlciA9IHNlbGYubWFrZUZldGNoT3B0aW9ucyhpdGVtKVxuXHRcdFx0XHRcblx0XHRcdFx0bmV3X2ZpbHRlci5leHBvcnQgPSB7XG5cdFx0XHRcdFx0Y29sbGVjdGlvbjogbmV3X2ZpbHRlci5jb2xsZWN0aW9uLFxuXHRcdFx0XHRcdHR5cGU6IGV4cG9ydF9idXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWV4cG9ydF90eXBlJykgfHwgJ2pzb24nXG5cdFx0XHRcdH1cblx0XHRcdFx0Y3J1ZC5yZWFkRG9jdW1lbnRMaXN0KG5ld19maWx0ZXIpO1xuXHRcdFx0fSlcblx0XHRcdFxuXHRcdH1cblx0XHRcblx0XHRpZiAoaW1wb3J0X2J1dHRvbikge1xuXHRcdFx0Ly8uIGltcG9ydCBidXR0b24gYWN0aW9uXG5cdFx0XHRpbXBvcnRfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cdFx0XHRcdGlucHV0LnR5cGUgPSAnZmlsZSc7XG5cdFxuXHRcdFx0XHRpZiAoIWl0ZW0pIHJldHVybjtcblx0XHRcdFx0XG5cdFx0XHRcdGxldCBjb2xsZWN0aW9uID0gaXRlbS5jb2xsZWN0aW9uO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8uIG9yIFxuXHRcdFx0XHQvLyBjb2xsZWN0aW9uID0gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJyk7XG5cdFxuXHRcdFx0XHRpbnB1dC5vbmNoYW5nZSA9IGUgPT4ge1xuXHRcdFx0XHRcdHZhciBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07XG5cdFx0XHRcdFx0Y3J1ZC5pbXBvcnRDb2xsZWN0aW9uKHtcblx0XHRcdFx0XHRcdGNvbGxlY3Rpb246IGNvbGxlY3Rpb24sXG5cdFx0XHRcdFx0XHRmaWxlOiBmaWxlXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0XHRpbnB1dC5jbGljaygpO1xuXHRcdFx0fSlcblx0XHR9XG5cblx0fSxcblx0XG5cdF9hcHBseU9yZGVyOiBmdW5jdGlvbihpdGVtLCBuYW1lLCB2YWx1ZSkge1xuXHRcdFxuXHRcdGlmICghdmFsdWUpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0bGV0IG9yZGVyX3R5cGUgPSAwO1xuXHRcdGxldCBpZHggPSB0aGlzLmdldE9yZGVyQnlOYW1lKGl0ZW0sIG5hbWUpO1xuXHRcdFxuXHRcdGlmICh2YWx1ZSA9PSAnYXNjJykge1xuXHRcdFx0b3JkZXJfdHlwZSA9IDE7ICAgXG5cdFx0fSBlbHNlIGlmICh2YWx1ZSA9PSAnZGVzYycpIHtcblx0XHRcdG9yZGVyX3R5cGUgPSAtMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b3JkZXJfdHlwZSA9IFtdO1xuXHRcdH1cblx0XHR0aGlzLmluc2VydEFycmF5T2JqZWN0KGl0ZW0ub3JkZXJzLCBpZHgsIHtuYW1lOiBuYW1lLCB0eXBlOiBvcmRlcl90eXBlfSwgb3JkZXJfdHlwZSlcblx0fSxcblx0XG5cdGNoYW5nZUNvbGxlY3Rpb246IGZ1bmN0aW9uKGZpbHRlcikge1xuXHRcdGxldCBjb2xsZWN0aW9uID0gZmlsdGVyLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1mZXRjaF9jb2xsZWN0aW9uJyk7XG5cdFx0ZmlsdGVyLmNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuXHRcdGZpbHRlci5zdGFydEluZGV4ID0gMDtcblx0fSxcblx0XG5cdF9tYWtlU2VhcmNoT3B0aW9uOiBmdW5jdGlvbihpZCwgYXR0ck5hbWUpIHtcblx0XHRsZXQgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtWycgKyBhdHRyTmFtZSArICc9JyArIGlkICsgJ10nKTtcblx0XHRcblx0XHRsZXQgdG1wU2VsZWN0b3IgPSAnWycgKyBhdHRyTmFtZSArICc9JyArIGlkICsgJ10nO1xuXHRcdGxldCBvdGhlcklucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JyArIHRtcFNlbGVjdG9yICsgJyx0ZXh0YXJlYScgKyB0bXBTZWxlY3RvciArICcsIHNlbGVjdCcgKyB0bXBTZWxlY3Rvcik7XG5cdFx0XG5cdFx0bGV0IHRlbXBsYXRlX2lucHV0cyA9IFtdO1xuXG5cdFx0Zm9yIChsZXQgaT0wOyBpIDwgZm9ybXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBmb3JtID0gZm9ybXNbaV07XG5cdFx0XHRsZXQgZm9ybUlucHV0cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKTtcblx0XHRcdGZvcm1JbnB1dHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmb3JtSW5wdXRzKVxuXHRcdFx0dGVtcGxhdGVfaW5wdXRzID0gdGVtcGxhdGVfaW5wdXRzLmNvbmNhdChmb3JtSW5wdXRzKTtcblx0XHR9XG5cdFx0XG5cdFx0b3RoZXJJbnB1dHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvdGhlcklucHV0cyk7XG5cdFx0dGVtcGxhdGVfaW5wdXRzID0gdGVtcGxhdGVfaW5wdXRzLmNvbmNhdChvdGhlcklucHV0cylcblx0XHRcblx0XHRsZXQgdmFsdWVzID0gW107XG5cdFx0XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wbGF0ZV9pbnB1dHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBmaWx0ZXJfbmFtZSA9IHRlbXBsYXRlX2lucHV0c1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmlsdGVyX25hbWUnKVxuXHRcdFx0bGV0IG9yZGVyX25hbWUgPSB0ZW1wbGF0ZV9pbnB1dHNbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLW9yZGVyX2J5Jylcblx0XHRcdFxuXHRcdFx0bGV0IGlucHV0ID0gdGVtcGxhdGVfaW5wdXRzW2ldO1xuXHRcdFx0bGV0IHZhbHVlX3R5cGUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWVfdHlwZScpID8gaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlX3R5cGUnKSA6ICdzdHJpbmcnO1xuXHRcdFx0bGV0IHZhbHVlID0gbnVsbDtcblx0XHRcdFxuXHRcdFx0aWYgKCFmaWx0ZXJfbmFtZSAmJiAhb3JkZXJfbmFtZSkge1xuXHRcdFx0XHRpZiAoaW5wdXQudHlwZSA9PSAnY2hlY2tib3gnICYmICFpbnB1dC5jaGVja2VkKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBudWxsO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhbHVlID0gaW5wdXQudmFsdWU7XG5cdFx0XHRcdFx0aWYgKHZhbHVlX3R5cGUgIT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRcdHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHZhbHVlICYmICF2YWx1ZXMuaW5jbHVkZXModmFsdWUpKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCh2YWx1ZSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHZhbHVlcztcblx0fSxcblx0XG5cdF9pbml0SW5wdXRGb3JtOiBmdW5jdGlvbihpdGVtLCBhdHRyTmFtZSkge1xuXHRcblx0XHRpZiAoIWl0ZW0pIHJldHVybjtcblx0XG5cdFx0bGV0IHRtcFNlbGVjdG9yID0gJ1snICsgYXR0ck5hbWUgKyAnPVwiJyArIGl0ZW0uaWQgKyAnXCJdJztcblx0XHRsZXQgZm9ybUlucHV0cyA9IGl0ZW0uZWwuZ2V0Um9vdE5vZGUoKS5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtJysgdG1wU2VsZWN0b3IgKyAnIGlucHV0LCBmb3JtJyArIHRtcFNlbGVjdG9yICsgJyB0ZXh0YXJlYSwgZm9ybScgKyB0bXBTZWxlY3RvciArICcgc2VsZWN0Jyk7XG5cdFx0bGV0IG90aGVySW5wdXRzID0gaXRlbS5lbC5nZXRSb290Tm9kZSgpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JyArIHRtcFNlbGVjdG9yICsgJyx0ZXh0YXJlYScgKyB0bXBTZWxlY3RvciArICcsIHNlbGVjdCcgKyB0bXBTZWxlY3Rvcik7XG5cdFxuXHRcdHRoaXMuc2V0Q2hlY2tib3hOYW1lKGl0ZW0uaWQsIGF0dHJOYW1lKTtcblx0XHRcblx0XHRmb3JtSW5wdXRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZm9ybUlucHV0cyk7XG5cdFx0b3RoZXJJbnB1dHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvdGhlcklucHV0cyk7XG5cdFx0Zm9ybUlucHV0cyA9IGZvcm1JbnB1dHMuY29uY2F0KG90aGVySW5wdXRzKTtcblxuXHRcdC8vIGNvbnNvbGUubG9nKCdpbnB1dCBmb3JtJywgdG1wU2VsZWN0b3IpO1xuXHRcdFxuXHRcdGZvciAobGV0IGk9MDsgaSA8IGZvcm1JbnB1dHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBpbnB1dCA9IGZvcm1JbnB1dHNbaV07XG5cdFx0XHRcblx0XHRcdGxldCBvcmRlcl9ieSA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1vcmRlcl9ieScpO1xuXHRcdFx0XG5cdFx0XHRpZiAob3JkZXJfYnkpIHtcblx0XHRcdFx0dGhpcy5faW5pdE9yZGVySW5wdXQoaXRlbSwgaW5wdXQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5faW5pdEZpbHRlcklucHV0KGl0ZW0sIGlucHV0LCBpdGVtLmlkKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdFxuXHRfaW5pdE9yZGVySW5wdXQ6IGZ1bmN0aW9uKGl0ZW0sIGlucHV0KSB7XG5cdFx0dmFyIF9pbnN0YW5jZSA9IHRoaXM7XG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcblx0XHRcdGxldCBvcmRlcl9ieSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLW9yZGVyX2J5Jyk7XG5cdFx0XHRsZXQgb3JkZXJfdHlwZSA9IDA7XG5cdFx0XHRsZXQgaWR4ID0gX2luc3RhbmNlLmdldE9yZGVyQnlOYW1lKGl0ZW0sIG9yZGVyX2J5KTtcblx0XHRcdFxuXHRcdFx0aWYgKHRoaXMudmFsdWUgPT0gJ2FzYycpIHtcblx0XHRcdFx0b3JkZXJfdHlwZSA9IDE7ICAgXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMudmFsdWUgPT0gJ2Rlc2MnKSB7XG5cdFx0XHRcdG9yZGVyX3R5cGUgPSAtMTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9yZGVyX3R5cGUgPSBbXTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0X2luc3RhbmNlLmluc2VydEFycmF5T2JqZWN0KGl0ZW0ub3JkZXJzLCBpZHgsIHtuYW1lOiBvcmRlcl9ieSwgdHlwZTogb3JkZXJfdHlwZX0sIG9yZGVyX3R5cGUpXG5cdFx0XHRcblx0XHRcdGlmIChpdGVtLmVsKSB7XG5cdFx0XHRcdGl0ZW0uZWwuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjaGFuZ2VGaWx0ZXJJbnB1dFwiLCB7IGRldGFpbDoge3R5cGU6ICdvcmRlcid9IH0pKVxuXHRcdFx0fVxuXHRcdH0pXG5cdH0sXG5cblx0X2luaXRGaWx0ZXJJbnB1dDogZnVuY3Rpb24gKGl0ZW0sIGlucHV0LCBpZCkge1xuXHRcdHZhciBfaW5zdGFuY2UgPSB0aGlzO1xuXHRcdHZhciBkZWxheVRpbWVyO1xuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0bGV0IGZpbHRlcl9uYW1lID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmlsdGVyX25hbWUnKTtcblx0XHRcdGxldCBmaWx0ZXJfb3BlcmF0b3IgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1maWx0ZXJfb3BlcmF0b3InKSB8fCAnJGNvbnRhaW4nO1xuXHRcdFx0bGV0IGZpbHRlcl90eXBlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmlsdGVyX3R5cGUnKTtcblx0XHRcdGxldCB2YWx1ZV90eXBlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmlsdGVyX3ZhbHVlX3R5cGUnKSB8fCAnc3RyaW5nJztcblx0XHRcdGNsZWFyVGltZW91dChkZWxheVRpbWVyKTtcblx0XHRcdGRlbGF5VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcblx0XHRcdFx0aWYgKCFmaWx0ZXJfbmFtZSkge1xuXHRcdFx0XHRcdGl0ZW0uc2VhcmNoLnZhbHVlID0gX2luc3RhbmNlLl9tYWtlU2VhcmNoT3B0aW9uKGlkLCBpdGVtLmF0dHJOYW1lKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRsZXQgaWR4ID0gX2luc3RhbmNlLmdldEZpbHRlckJ5TmFtZShpdGVtLCBmaWx0ZXJfbmFtZSwgZmlsdGVyX29wZXJhdG9yKTtcblx0XHRcdFxuXHRcdFx0XHRcdGxldCBpbnB1dFR5cGUgPSBpbnB1dC50eXBlO1xuXHRcdFx0XHRcdGxldCBmaWx0ZXJWYWx1ZSA9IFtdO1xuXHRcdFx0XHRcblx0XHRcdFx0XHRpZiAoaW5wdXRUeXBlID09ICdjaGVja2JveCcpIHtcblx0XHRcdFx0XHRcdHZhciBpbnB1dEdyb3VwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0W25hbWU9XCIgKyBpbnB1dC5uYW1lICsgXCJdOmNoZWNrZWRcIik7XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0R3JvdXAubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0ZmlsdGVyVmFsdWUucHVzaChpbnB1dEdyb3VwW2ldLnZhbHVlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaW5wdXRUeXBlID09ICdyYWlkbycpIHtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaW5wdXRUeXBlID09ICdyYW5nZScpIHtcblx0XHRcdFx0XHRcdGZpbHRlclZhbHVlID0gW051bWJlcihpbnB1dC5taW4pLCBOdW1iZXIoaW5wdXQudmFsdWUpXTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dmFyIHZhbHVlID0gaW5wdXQudmFsdWU7XG5cdFx0XHRcdFx0XHRpZiAodmFsdWVfdHlwZSAhPSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAodmFsdWUgIT0gXCJub25lXCIpIHtcblx0XHRcdFx0XHRcdFx0ZmlsdGVyVmFsdWUgPSBbdmFsdWVdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRpZiAodmFsdWVfdHlwZSA9PT0gXCJyYXdcIikge1xuXHRcdFx0XHRcdFx0XHRmaWx0ZXJWYWx1ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHRfaW5zdGFuY2UuaW5zZXJ0QXJyYXlPYmplY3QoaXRlbS5maWx0ZXJzLCBpZHgsIHtuYW1lOiBmaWx0ZXJfbmFtZSwgdmFsdWU6IGZpbHRlclZhbHVlLCBvcGVyYXRvcjogZmlsdGVyX29wZXJhdG9yLCB0eXBlOiBmaWx0ZXJfdHlwZX0pXG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGl0ZW0uZWwpIHtcblx0XHRcdFx0XHRpdGVtLmVsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiY2hhbmdlRmlsdGVySW5wdXRcIiwgeyBkZXRhaWw6IHt0eXBlOiAnZmlsdGVyJ30gfSkpXG5cdFx0XHRcdH1cblx0XHRcdFxuXHRcdFx0fSwgNTAwKTtcblxuXHRcdH0pXG5cdH0sXG5cdHNldENoZWNrYm94TmFtZTogZnVuY3Rpb24gKGlkLCBhdHRyTmFtZSkge1xuXHRcdHZhciBmb3JtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm1bJyArIGF0dHJOYW1lICsgJz1cIicgKyBpZCArICdcIl0nKVxuXHRcdGZvciAodmFyIGsgPSAwOyBrIDwgZm9ybXMubGVuZ3RoOyBrKyspIHtcblx0XHRcdFxuXHRcdFx0dmFyIGVsZW1lbnRzID0gZm9ybXNba10ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1jaGVja2JveF0sIGZvcm0gaW5wdXRbdHlwZT1yYWRpb10nKTtcblx0XHRcdFxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgZWxfbmFtZSA9IGVsZW1lbnRzW2ldLmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuXHRcdFx0XHR2YXIgZl9uYW1lID0gZWxlbWVudHNbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWZpbHRlcl9uYW1lJyk7XG5cdFx0XHRcdGlmIChlbF9uYW1lIHx8ICFmX25hbWUpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbGVtZW50c1tpXS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBcIl9cIiArIGlkICtcIi1cIiArIGZfbmFtZSArIFwiX1wiICsgayk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9XG5cdH0sXG5cdFxuXHRnZXRGaWx0ZXJCeU5hbWU6IGZ1bmN0aW9uIChpdGVtLCBmaWx0ZXJOYW1lLCBmaWx0ZXJPcGVyYXRvcikge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5maWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZiA9IGl0ZW0uZmlsdGVyc1tpXTtcblx0XHRcdGlmIChmLm5hbWUgPT0gZmlsdGVyTmFtZSAmJiBmLm9wZXJhdG9yID09IGZpbHRlck9wZXJhdG9yKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH0sXG5cdFxuXHRpbnNlcnRBcnJheU9iamVjdDogZnVuY3Rpb24oZGF0YSwgaWR4LCBvYmosIHZhbHVlKSB7XG5cdFx0aWYgKCF2YWx1ZSkge1xuXHRcdFx0dmFsdWUgPSBvYmoudmFsdWU7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgICYmIHZhbHVlLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRpZiAoaWR4ICE9IC0xKSB7XG5cdFx0XHRcdGRhdGEuc3BsaWNlKGlkeCwgMSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChpZHggIT0gLTEpIHtcblx0XHRcdFx0ZGF0YVtpZHhdID0gb2JqO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGF0YS5wdXNoKG9iaik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiBkYXRhO1xuXHR9LFxuXHRcblx0Z2V0T3JkZXJCeU5hbWU6IGZ1bmN0aW9uKGl0ZW0sIG5hbWUpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ub3JkZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoaXRlbS5vcmRlcnNbaV0ubmFtZSA9PSBuYW1lKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH0sXG5cdFxuXHRcblx0ZGVmaW5lRXZlbnQ6IGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRpdGVtLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZldGNoRmlsdGVyRGF0YScsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRjb25zb2xlLmxvZyhldmVudCk7XG5cdFx0fSk7XG5cdH0sXG5cdFxuXHRmZXRjaERhdGE6ZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRsZXQganNvbiA9IHRoaXMubWFrZUZldGNoT3B0aW9ucyhpdGVtKTtcblx0XHRjcnVkLnJlYWREb2N1bWVudExpc3QoanNvbik7XG5cdH0sXG5cdFxuXHRnZXRPYmplY3RCeUZpbHRlcklkOiBmdW5jdGlvbihvYmosIGlkKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBmaWx0ZXIgPSBvYmpbaV0uZmlsdGVyO1xuXHRcdFx0aWYgKCFmaWx0ZXIpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmIChmaWx0ZXIuaWQgPT0gaWQpIHtcblx0XHRcdFx0cmV0dXJuIG9ialtpXTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdFxuXHRnZXRPYmplY3RCeUVsZW1lbnQ6IGZ1bmN0aW9uKG9iaiwgZWwpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuXHRcdFx0bGV0IGZpbHRlciA9IG9ialtpXS5maWx0ZXI7XG5cdFx0XHRpZiAoIWZpbHRlcikge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKGZpbHRlci5lbC5pc1NhbWVOb2RlKGVsKSkge1xuXHRcdFx0XHRyZXR1cm4gb2JqW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0XG5cdG1ha2VGZXRjaE9wdGlvbnM6IGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRsZXQganNvbiA9IHtcblx0XHRcdFwiY29sbGVjdGlvblwiOiBpdGVtLmNvbGxlY3Rpb24sXG5cdFx0XHRcImVsZW1lbnRcIjogaXRlbS5lSWQsXG5cdFx0XHRcIm1ldGFkYXRhXCI6IHtcblx0XHRcdFx0aXNSZWZyZXNoOiBpdGVtLmlzUmVmcmVzaFxuXHRcdFx0fSxcblx0XHRcdFwib3BlcmF0b3JcIiA6ICB7XG5cdFx0XHRcdFwiZmlsdGVyc1wiOiBpdGVtLmZpbHRlcnMsXG5cdFx0XHRcdFwib3JkZXJzXCI6IGl0ZW0ub3JkZXJzLFxuXHRcdFx0XHRcInNlYXJjaFwiOiBpdGVtLnNlYXJjaCxcblx0XHRcdFx0XCJzdGFydEluZGV4XCI6IGl0ZW0uc3RhcnRJbmRleCxcblx0XHRcdH0sXG5cdFx0XHRcImlzX2NvbGxlY3Rpb25cIjogaXRlbS5pc19jb2xsZWN0aW9uXG5cdFx0fVxuXHRcdFxuXHRcdGlmIChpdGVtLmNvdW50KSB7XG5cdFx0XHRqc29uWydvcGVyYXRvciddLmNvdW50ID0gaXRlbS5jb3VudDtcblx0XHR9XG5cdFx0cmV0dXJuIGpzb247XG5cdH0sXG5cdFxuXHRpbml0OiBmdW5jdGlvbih7bmFtZSwgYXR0cmlidXRlLCBjYWxsYmFja30pIHtcblx0XHRsZXQgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1mZXRjaF9jb2xsZWN0aW9uXVske2F0dHJpYnV0ZX1dYClcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0c2VsZi5fX2luaXRGaWx0ZXJFbGVtZW50KGVsLCBhdHRyaWJ1dGUsIG5hbWUpO1xuXHRcdH0pO1xuXHRcdFxuXHRcdGNydWQubGlzdGVuKCdyZWFkRG9jdW1lbnRMaXN0JywgZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0Y2FsbGJhY2suY2FsbChudWxsLCBkYXRhKTtcblx0XHR9KVxuXHR9LFxuXHRcblx0X19pbml0RmlsdGVyRWxlbWVudDogZnVuY3Rpb24oZWwsIGF0dHJpYnV0ZSwgbmFtZSkge1xuXHRcdGxldCBfaWQgPSBlbC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKVxuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGlmICghX2lkKSByZXR1cm47XG5cdFx0XG5cdFx0Ly8uIHJlc3RyaWN0IHRoZSBkdXBsaWNhdGlvbiBkZWZpbmVcblx0XHQvLyBpZiAodGhpcy5tb2R1bGVfaXRlbXMuc29tZSh4ID0+IHgubmFtZSA9PSBuYW1lICYmIHguaWQgPT0gX2lkKSkge1xuXHRcdC8vIFx0cmV0dXJuO1xuXHRcdC8vIH1cblx0XHRcblx0XHRsZXQgZmlsdGVyID0gdGhpcy5zZXRGaWx0ZXIoZWwsIGF0dHJpYnV0ZSwgbmFtZSlcblx0XHRcblx0XHRpZiAoZmlsdGVyKSB7XG5cdFx0XHR0aGlzLm1vZHVsZV9pdGVtcy5wdXNoKHtcblx0XHRcdFx0ZWw6IGVsLFxuXHRcdFx0XHRmaWx0ZXI6IGZpbHRlcixcblx0XHRcdFx0aWQ6IF9pZCxcblx0XHRcdFx0bmFtZTogbmFtZVxuXHRcdFx0fSlcblx0XHRcdFxuXHRcdFx0ZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlRmlsdGVySW5wdXQnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdHNlbGYuZmV0Y2hEYXRhKGZpbHRlcilcblx0XHRcdH0pXG5cdFx0XHRcblx0XHRcdHRoaXMuZmV0Y2hEYXRhKGZpbHRlcilcblx0XHR9XG5cdH1cbn1cblxuQ29DcmVhdGVGaWx0ZXIuX19pbml0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlRmlsdGVyOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cocreate/filter/src/index.js\n")},"./node_modules/@cocreate/logic/src/attributes.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _cocreate_observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @cocreate/observer */ \"./node_modules/@cocreate/observer/src/index.js\");\n/* harmony import */ var _cocreate_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @cocreate/utils */ \"./node_modules/@cocreate/utils/src/index.js\");\n/* harmony import */ var _cocreate_crud_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @cocreate/crud-client */ \"./node_modules/@cocreate/crud-client/src/index.js\");\n/* harmony import */ var _cocreate_crud_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_cocreate_crud_client__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nconst CoCreateAttributes = {\n\t//. key: colleciton.document_id.name,\n\t//. example:  \n\t/** modules.xxxxx.test: [\n\t *\t{el: element, attr: 'data-test1'},\n\t *\t{el: element, attr: 'data-test2'}\n\t * ]\n\t * \n\t **/\n\tmainInfo: {},\n\t\n\tinit: function() {\n\t\t// registerModule('fetch-attributes', this, null, this.getRequest, this.renderAttribute);\n\t\tconst self = this;\n\t\t_cocreate_crud_client__WEBPACK_IMPORTED_MODULE_2___default().listen('updateDocument', function(data) {\n\t\t\tself.render(data)\n\t\t})\n\t\t\n\t\t_cocreate_crud_client__WEBPACK_IMPORTED_MODULE_2___default().listen('readDocument', function(data) {\n\t\t\tself.render(data)\n\t\t})\n\t\t\n\t\t_cocreate_crud_client__WEBPACK_IMPORTED_MODULE_2___default().listen('connect', function(data) {\n\t\t\t// self.getRequest()\n\t\t\tself.__getRequest()\n\t\t})\n\t},\n\n\tinitElement: function(container) {\n\t\tconst requests = this.__getRequest(container)\n\n\t\tif (requests) {\n\t\t\t\n\t\t\trequests.forEach((req) => {\n\t\t\t\t_cocreate_crud_client__WEBPACK_IMPORTED_MODULE_2___default().readDocument({\n\t\t\t\t\tcollection: req['collection'],\n\t\t\t\t\tdocument_id: req['document_id']\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t},\n\n\trender: function(data) {\n\t\tconst collection = data['collection'];\n\t\tconst document_id = data['document_id'];\n\t\t\n\t\tfor (let name in data.data) {\n\t\t\tconst key = this.__makeKey(collection, document_id, name) \n\t\t\tconst value = data.data[name];\n\t\t\tif (this.mainInfo[key]) {\n\t\t\t\tthis.mainInfo[key].forEach((item) => {\n\t\t\t\t\titem.el.setAttribute(item.attr, value);\n\t\t\t\t\t\n\t\t\t\t\t// if (item.attr == 'data-collection') {\n\t\t\t\t\t// \trunInitModule('cocreate-text');\t\t\t\t\t\t\n\t\t\t\t\t// } \n\t\t\t\t\t\n\t\t\t\t\titem.el.dispatchEvent(new CustomEvent('CoCreateAttribute-run', {\n\t\t\t\t\t\teventType: 'rendered',\n\t\t\t\t\t\titem: item.el\n\t\t\t\t\t}))\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t},\n\t\n\tsetValue: function(element, data) {\n\t\t\n\t},\n\t\n\t__getRequest: function(container) {\n\t\tlet fetch_container = container || document;\n\t\tlet elements = fetch_container.querySelectorAll('[fetch-for]');\n\t\tlet self = this;\n\n\t\tlet requestData = [];\n\t\t\n\t\tif (elements.length === 0 && fetch_container != document && fetch_container.hasAttributes('fetch-for')) {\n\t\t\telements = [fetch_container];\n\t\t}\n\n\t\telements.forEach((el) => {\n\t\t\t//. check\n\t\t\tconst el_collection = el.getAttribute('data-collection')\n\t\t\tconst el_documentId = el.getAttribute('data-document_id')\n\t\t\tconst el_name = el.getAttribute('name')\n\t\t\tconst el_value = el.getAttribute('value')\n\t\t\t\n\t\t\tconst attributes = el.attributes;\n\t\t\t\n\t\t\tfor (let i = 0; i < attributes.length; i++) {\n\t\t\t\tlet jsonInfo = self.__jsonParse(attributes[i].value);\n\t\t\t\tif (jsonInfo) {\n\t\t\t\t\tlet collection = jsonInfo['collection'] || el_collection;\n\t\t\t\t\tlet document_id = jsonInfo['document_id'] || el_documentId;\n\t\t\t\t\tlet name = jsonInfo['name'] || el_name;\n\t\t\t\t\tlet value = jsonInfo['value'] || el_value;\n\t\t\t\t\t\n\t\t\t\t\tif (jsonInfo['data-pass_id']) {\n\t\t\t\t\t\tlet pass_info = self.__checkPassId(jsonInfo['data-pass_id']);\n\t\t\t\t\t\tif (pass_info) {\n\t\t\t\t\t\t\tcollection = pass_info.collection;\n\t\t\t\t\t\t\tdocument_id = pass_info.document_id;\n\t\t\t\t\t\t\tvalue = pass_info.value;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcollection = null;\n\t\t\t\t\t\t\tdocument_id = null;\n\t\t\t\t\t\t\tvalue = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst key = self.__makeKey(collection, document_id, name);\n\t\t\t\t\t\n\t\t\t\t\tif (collection && document_id && name) {\n\t\t\t\t\t\tif (!self.mainInfo[key]) {\n\t\t\t\t\t\t\tself.mainInfo[key] = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.mainInfo[key].push({el: el, attr: attributes[i].name})\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (!requestData.some((d) => d['collection'] === collection && d['document_id'] === document_id)) {\n\t\t\t\t\t\t\trequestData.push({collection, document_id})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn requestData;\n\t},\n\t\n\t__jsonParse: function(str_data) {\n\t\ttry {\n\t\t\tlet json_data = JSON.parse(str_data);\n\t\t\tif (typeof json_data === 'object' && json_data != null) {\n\t\t\t\treturn json_data;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn null;\n\t\t}\n\t},\n\t\n\t__checkPassId: function(pass_id) {\n\t\tvar dataParams = localStorage.getItem('dataParams');\n\t\tdataParams = JSON.parse(dataParams);\n\n\t\tif (!dataParams || dataParams.length == 0) return null;\n\n\t\tfor (var i = 0; i < dataParams.length; i++) {\n\t\t\tif (dataParams[i].pass_to == pass_id) {\n\t\t\t\treturn {\n\t\t\t\t\tcollection: dataParams[i].collection, \n\t\t\t\t\tdocument_id: dataParams[i].document_id,\n\t\t\t\t\tvalue: dataParams[i].value\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\t\n\t__makeKey: function (collection, document_id, name) {\n\t\treturn `${collection}_${document_id}_${name}`;\n\t}, \n}\n\n\nCoCreateAttributes.init();\n\n_cocreate_observer__WEBPACK_IMPORTED_MODULE_0__.default.init({ \n\tname: 'CoCreateAttributes', \n\tobserve: ['subtree', 'childList'],\n\tinclude: '[data-for]', \n\tcallback: function(mutation) {\n\t\tCoCreateAttributes.initElement(mutation.target)\n\t}\n});\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CoCreateAttributes);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mdWxsY2FsZW5kYXIvLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2xvZ2ljL3NyYy9hdHRyaWJ1dGVzLmpzP2FiMzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBeUM7QUFDTDtBQUNLOztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZ0NBQWdDO0FBQ3JDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLEVBQUUsbUVBQVc7QUFDYjtBQUNBLEdBQUc7O0FBRUgsRUFBRSxtRUFBVztBQUNiO0FBQ0EsR0FBRzs7QUFFSCxFQUFFLG1FQUFXO0FBQ2I7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxJQUFJLHlFQUFpQjtBQUNyQjtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDO0FBQ0EsUzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxrQkFBa0IsdUJBQXVCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixpQ0FBaUM7O0FBRWhFO0FBQ0EseUJBQXlCLHdCQUF3QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxpQkFBaUIsdUJBQXVCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQSxZQUFZLFdBQVcsR0FBRyxZQUFZLEdBQUcsS0FBSztBQUM5QyxFQUFFO0FBQ0Y7OztBQUdBOztBQUVBLDREQUFhLEU7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELGlFQUFlLGtCQUFrQiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AY29jcmVhdGUvbG9naWMvc3JjL2F0dHJpYnV0ZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb2JzZXJ2ZXIgZnJvbSAnQGNvY3JlYXRlL29ic2VydmVyJ1xuaW1wb3J0IHV0aWxzIGZyb20gJ0Bjb2NyZWF0ZS91dGlscyc7XG5pbXBvcnQgY3J1ZCBmcm9tICdAY29jcmVhdGUvY3J1ZC1jbGllbnQnO1xuXG5jb25zdCBDb0NyZWF0ZUF0dHJpYnV0ZXMgPSB7XG5cdC8vLiBrZXk6IGNvbGxlY2l0b24uZG9jdW1lbnRfaWQubmFtZSxcblx0Ly8uIGV4YW1wbGU6ICBcblx0LyoqIG1vZHVsZXMueHh4eHgudGVzdDogW1xuXHQgKlx0e2VsOiBlbGVtZW50LCBhdHRyOiAnZGF0YS10ZXN0MSd9LFxuXHQgKlx0e2VsOiBlbGVtZW50LCBhdHRyOiAnZGF0YS10ZXN0Mid9XG5cdCAqIF1cblx0ICogXG5cdCAqKi9cblx0bWFpbkluZm86IHt9LFxuXHRcblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gcmVnaXN0ZXJNb2R1bGUoJ2ZldGNoLWF0dHJpYnV0ZXMnLCB0aGlzLCBudWxsLCB0aGlzLmdldFJlcXVlc3QsIHRoaXMucmVuZGVyQXR0cmlidXRlKTtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRjcnVkLmxpc3RlbigndXBkYXRlRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRzZWxmLnJlbmRlcihkYXRhKVxuXHRcdH0pXG5cdFx0XG5cdFx0Y3J1ZC5saXN0ZW4oJ3JlYWREb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdHNlbGYucmVuZGVyKGRhdGEpXG5cdFx0fSlcblx0XHRcblx0XHRjcnVkLmxpc3RlbignY29ubmVjdCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdC8vIHNlbGYuZ2V0UmVxdWVzdCgpXG5cdFx0XHRzZWxmLl9fZ2V0UmVxdWVzdCgpXG5cdFx0fSlcblx0fSxcblxuXHRpbml0RWxlbWVudDogZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0Y29uc3QgcmVxdWVzdHMgPSB0aGlzLl9fZ2V0UmVxdWVzdChjb250YWluZXIpXG5cblx0XHRpZiAocmVxdWVzdHMpIHtcblx0XHRcdFxuXHRcdFx0cmVxdWVzdHMuZm9yRWFjaCgocmVxKSA9PiB7XG5cdFx0XHRcdGNydWQucmVhZERvY3VtZW50KHtcblx0XHRcdFx0XHRjb2xsZWN0aW9uOiByZXFbJ2NvbGxlY3Rpb24nXSxcblx0XHRcdFx0XHRkb2N1bWVudF9pZDogcmVxWydkb2N1bWVudF9pZCddXG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXHRcdH1cblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRjb25zdCBjb2xsZWN0aW9uID0gZGF0YVsnY29sbGVjdGlvbiddO1xuXHRcdGNvbnN0IGRvY3VtZW50X2lkID0gZGF0YVsnZG9jdW1lbnRfaWQnXTtcblx0XHRcblx0XHRmb3IgKGxldCBuYW1lIGluIGRhdGEuZGF0YSkge1xuXHRcdFx0Y29uc3Qga2V5ID0gdGhpcy5fX21ha2VLZXkoY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUpIFxuXHRcdFx0Y29uc3QgdmFsdWUgPSBkYXRhLmRhdGFbbmFtZV07XG5cdFx0XHRpZiAodGhpcy5tYWluSW5mb1trZXldKSB7XG5cdFx0XHRcdHRoaXMubWFpbkluZm9ba2V5XS5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0aXRlbS5lbC5zZXRBdHRyaWJ1dGUoaXRlbS5hdHRyLCB2YWx1ZSk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gaWYgKGl0ZW0uYXR0ciA9PSAnZGF0YS1jb2xsZWN0aW9uJykge1xuXHRcdFx0XHRcdC8vIFx0cnVuSW5pdE1vZHVsZSgnY29jcmVhdGUtdGV4dCcpO1x0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIH0gXG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aXRlbS5lbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnQ29DcmVhdGVBdHRyaWJ1dGUtcnVuJywge1xuXHRcdFx0XHRcdFx0ZXZlbnRUeXBlOiAncmVuZGVyZWQnLFxuXHRcdFx0XHRcdFx0aXRlbTogaXRlbS5lbFxuXHRcdFx0XHRcdH0pKVxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0XG5cdHNldFZhbHVlOiBmdW5jdGlvbihlbGVtZW50LCBkYXRhKSB7XG5cdFx0XG5cdH0sXG5cdFxuXHRfX2dldFJlcXVlc3Q6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuXHRcdGxldCBmZXRjaF9jb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cdFx0bGV0IGVsZW1lbnRzID0gZmV0Y2hfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tmZXRjaC1mb3JdJyk7XG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXG5cdFx0bGV0IHJlcXVlc3REYXRhID0gW107XG5cdFx0XG5cdFx0aWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMCAmJiBmZXRjaF9jb250YWluZXIgIT0gZG9jdW1lbnQgJiYgZmV0Y2hfY29udGFpbmVyLmhhc0F0dHJpYnV0ZXMoJ2ZldGNoLWZvcicpKSB7XG5cdFx0XHRlbGVtZW50cyA9IFtmZXRjaF9jb250YWluZXJdO1xuXHRcdH1cblxuXHRcdGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHQvLy4gY2hlY2tcblx0XHRcdGNvbnN0IGVsX2NvbGxlY3Rpb24gPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpXG5cdFx0XHRjb25zdCBlbF9kb2N1bWVudElkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJylcblx0XHRcdGNvbnN0IGVsX25hbWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxuXHRcdFx0Y29uc3QgZWxfdmFsdWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJylcblx0XHRcdFxuXHRcdFx0Y29uc3QgYXR0cmlidXRlcyA9IGVsLmF0dHJpYnV0ZXM7XG5cdFx0XHRcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRsZXQganNvbkluZm8gPSBzZWxmLl9fanNvblBhcnNlKGF0dHJpYnV0ZXNbaV0udmFsdWUpO1xuXHRcdFx0XHRpZiAoanNvbkluZm8pIHtcblx0XHRcdFx0XHRsZXQgY29sbGVjdGlvbiA9IGpzb25JbmZvWydjb2xsZWN0aW9uJ10gfHwgZWxfY29sbGVjdGlvbjtcblx0XHRcdFx0XHRsZXQgZG9jdW1lbnRfaWQgPSBqc29uSW5mb1snZG9jdW1lbnRfaWQnXSB8fCBlbF9kb2N1bWVudElkO1xuXHRcdFx0XHRcdGxldCBuYW1lID0ganNvbkluZm9bJ25hbWUnXSB8fCBlbF9uYW1lO1xuXHRcdFx0XHRcdGxldCB2YWx1ZSA9IGpzb25JbmZvWyd2YWx1ZSddIHx8IGVsX3ZhbHVlO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChqc29uSW5mb1snZGF0YS1wYXNzX2lkJ10pIHtcblx0XHRcdFx0XHRcdGxldCBwYXNzX2luZm8gPSBzZWxmLl9fY2hlY2tQYXNzSWQoanNvbkluZm9bJ2RhdGEtcGFzc19pZCddKTtcblx0XHRcdFx0XHRcdGlmIChwYXNzX2luZm8pIHtcblx0XHRcdFx0XHRcdFx0Y29sbGVjdGlvbiA9IHBhc3NfaW5mby5jb2xsZWN0aW9uO1xuXHRcdFx0XHRcdFx0XHRkb2N1bWVudF9pZCA9IHBhc3NfaW5mby5kb2N1bWVudF9pZDtcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSBwYXNzX2luZm8udmFsdWU7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9uID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0ZG9jdW1lbnRfaWQgPSBudWxsO1xuXHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG51bGw7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3Qga2V5ID0gc2VsZi5fX21ha2VLZXkoY29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIG5hbWUpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChjb2xsZWN0aW9uICYmIGRvY3VtZW50X2lkICYmIG5hbWUpIHtcblx0XHRcdFx0XHRcdGlmICghc2VsZi5tYWluSW5mb1trZXldKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYubWFpbkluZm9ba2V5XSA9IFtdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c2VsZi5tYWluSW5mb1trZXldLnB1c2goe2VsOiBlbCwgYXR0cjogYXR0cmlidXRlc1tpXS5uYW1lfSlcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aWYgKCFyZXF1ZXN0RGF0YS5zb21lKChkKSA9PiBkWydjb2xsZWN0aW9uJ10gPT09IGNvbGxlY3Rpb24gJiYgZFsnZG9jdW1lbnRfaWQnXSA9PT0gZG9jdW1lbnRfaWQpKSB7XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3REYXRhLnB1c2goe2NvbGxlY3Rpb24sIGRvY3VtZW50X2lkfSlcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KVxuXHRcdHJldHVybiByZXF1ZXN0RGF0YTtcblx0fSxcblx0XG5cdF9fanNvblBhcnNlOiBmdW5jdGlvbihzdHJfZGF0YSkge1xuXHRcdHRyeSB7XG5cdFx0XHRsZXQganNvbl9kYXRhID0gSlNPTi5wYXJzZShzdHJfZGF0YSk7XG5cdFx0XHRpZiAodHlwZW9mIGpzb25fZGF0YSA9PT0gJ29iamVjdCcgJiYganNvbl9kYXRhICE9IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIGpzb25fZGF0YTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fSxcblx0XG5cdF9fY2hlY2tQYXNzSWQ6IGZ1bmN0aW9uKHBhc3NfaWQpIHtcblx0XHR2YXIgZGF0YVBhcmFtcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXRhUGFyYW1zJyk7XG5cdFx0ZGF0YVBhcmFtcyA9IEpTT04ucGFyc2UoZGF0YVBhcmFtcyk7XG5cblx0XHRpZiAoIWRhdGFQYXJhbXMgfHwgZGF0YVBhcmFtcy5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFQYXJhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChkYXRhUGFyYW1zW2ldLnBhc3NfdG8gPT0gcGFzc19pZCkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGNvbGxlY3Rpb246IGRhdGFQYXJhbXNbaV0uY29sbGVjdGlvbiwgXG5cdFx0XHRcdFx0ZG9jdW1lbnRfaWQ6IGRhdGFQYXJhbXNbaV0uZG9jdW1lbnRfaWQsXG5cdFx0XHRcdFx0dmFsdWU6IGRhdGFQYXJhbXNbaV0udmFsdWVcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH0sXG5cdFxuXHRfX21ha2VLZXk6IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSkge1xuXHRcdHJldHVybiBgJHtjb2xsZWN0aW9ufV8ke2RvY3VtZW50X2lkfV8ke25hbWV9YDtcblx0fSwgXG59XG5cblxuQ29DcmVhdGVBdHRyaWJ1dGVzLmluaXQoKTtcblxub2JzZXJ2ZXIuaW5pdCh7IFxuXHRuYW1lOiAnQ29DcmVhdGVBdHRyaWJ1dGVzJywgXG5cdG9ic2VydmU6IFsnc3VidHJlZScsICdjaGlsZExpc3QnXSxcblx0aW5jbHVkZTogJ1tkYXRhLWZvcl0nLCBcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG5cdFx0Q29DcmVhdGVBdHRyaWJ1dGVzLmluaXRFbGVtZW50KG11dGF0aW9uLnRhcmdldClcblx0fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlQXR0cmlidXRlczsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@cocreate/logic/src/attributes.js\n")},"./node_modules/@cocreate/logic/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _cocreate_observer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @cocreate/observer */ \"./node_modules/@cocreate/observer/src/index.js\");\n/* harmony import */ var _cocreate_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @cocreate/action */ \"./node_modules/@cocreate/action/src/index.js\");\n/* harmony import */ var _attributes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attributes.js */ \"./node_modules/@cocreate/logic/src/attributes.js\");\n\n\n\n\nconst CoCreateLogic = {\n\tattributes: _attributes_js__WEBPACK_IMPORTED_MODULE_2__.default,\n\t\n\tinit: function() {\n\t\tthis.__initKeys();\n\t\tthis.__initPassSessionIds();\n\t\tthis.__initPassParams();\n\t\tthis.__initPassValueParams();\n\t\t// this.__initValuePassBtns();\n\t\tthis.__initGetValueInput();\n\t\tthis.initAtagElement();\n\t},\n\t\t\n\t// getKeys\n\t__initKeys: function() {\n\t\tif (window.localStorage.getItem('apiKey')) {\n\t\t\tconfig.apiKey = window.localStorage.getItem('apiKey');\n\t\t}\n\t\tif (window.localStorage.getItem('securityKey')) {\n\t\t\tconfig.securityKey = window.localStorage.getItem('securityKey');\n\t\t}\n\t\tif (window.localStorage.getItem('organization_id')) {\n\t\t\tconfig.organization_Id = window.localStorage.getItem('organization_id');\n\t\t}\n\t},\n\t\n\t//. passSessionIds\n\t__initPassSessionIds: function() {\n\t\tlet orgId = window.localStorage.getItem('organization_id');\n\t\tlet user_id = window.localStorage.getItem('user_id');\n\t\tlet adminUI_id = window.localStorage.getItem('adminUI_id');\n\t\tlet builderUI_id = window.localStorage.getItem('builderUI_id');\n\n\t\tthis.__initPassItems(orgId, \t\t\t\".sessionOrg_Id\", true);\n\t\tthis.__initPassItems(user_id, \t\t\".sessionUser_Id\");\n\t\tthis.__initPassItems(adminUI_id,\t\".sessionAdminUI_Id\");\n\t\tthis.__initPassItems(builderUI_id,\".sessionBuilderUI_Id\");\n\t},\n\t\n\tinitElement: function(container) {\n\t\tconst self = this;\n\t\tlet mainContainer = container || document;\n\t\tif (!mainContainer.querySelectorAll) {\n\t\t\treturn;\n\t\t}\n\t\tlet elements = mainContainer.querySelectorAll('[data-pass_id]');\n\t\telements = Array.from(elements);\n\t\tif (mainContainer != document && mainContainer.hasAttribute('data-pass_id')) {\n\t\t\telements.push(mainContainer)\n\t\t}\n\t\tlet dataParams = window.localStorage.getItem('dataParams');\n\t\tdataParams = JSON.parse(dataParams);\n\t\tif (!dataParams || dataParams.length == 0) return;\n\t\t\n\t\telements.forEach((el) => {\n\t\t\tif (_cocreate_observer__WEBPACK_IMPORTED_MODULE_0__.default.getInitialized(el)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconst pass_id = el.getAttribute('data-pass_id')\n\t\t\tconst paramObj = dataParams.find(x => x.pass_to == pass_id)\n\t\t\tif (!paramObj) return;\n\n\t\t\tconst {collection, document_id, pass_to, prefix} = paramObj;\n\t\t\t_cocreate_observer__WEBPACK_IMPORTED_MODULE_0__.default.setInitialized(el)\n\t\t\t\n\t\t\tif (el.tagName === \"FORM\" && !el.getAttribute('data-colleciton') && collection) {\n\t\t\t\tel.setAttribute('data-colleciton', collection);\n\t\t\t}\n\t\t\tself.__setPassAttributes(el, paramObj);\n\n\n\t\t});\n\t},\n\t\n\tinitAtagElement: function() {\n\t\tconst self = this;\n\t\tdocument.addEventListener('click', function(event) {\n\t\t\tconst target = event.target.closest('a, button')\n\t\t\tif (!target)  return;\n\t\t\t\n\t\t\tif (target.getAttribute('target') === 'modal' && target.getAttribute('data-pass_to')) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t// event.stopImmediatePropagation()\n\t\t\t\tself.setLinkProcess(target);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconst href = target.getAttribute('href');\n\t\t\tif (target.getAttribute('target') !== 'modal') {\n\t\t\t\tif (target.hasAttribute('data-actions')) return;\n\t\t\t\tif (!self.passSubmitProcess(target)) return;\n\t\t\t\tconst pass_to = target.getAttribute('data-pass_to');\n\t\t\t\tif (href) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tself.storePassData(target)\n\t\t\t\t\tself.openAnother(target)\n\t\t\t\t} else {\n\t\t\t\t\tself.storePassData(target)\n\t\t\t\t\tif (pass_to) {\n\t\t\t\t\t\tself.__initPassParams(pass_to);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t})\n\t},\n\t\n\t//. passParams\n\t__initPassParams: function(pass_to) {\n\t\tvar dataParams = window.localStorage.getItem('dataParams');\n\t\tdataParams = JSON.parse(dataParams);\n\n\t\tif (!dataParams || dataParams.length == 0) return;\n\t\tlet self = this;\n\t\t\n\t\tdataParams.forEach(function(dataParam) {\n\t\t\tvar param_collection = dataParam.collection;\n\t\t\tvar param_document_id = dataParam.document_id;\n\t\t\tvar param_prefix = dataParam.prefix;\n\t\t\tvar param_pass_to = dataParam.pass_to;\n\t\t\t\n\t\t\tif (pass_to && param_pass_to != pass_to) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tvar forms = document.querySelectorAll('form');\n\t\t\t\n\t\t\tforms.forEach((form) => {\n\t\t\t\tvar pass_id = form.getAttribute('data-pass_id');\n\t\t\t\tif (pass_id && pass_id == param_pass_to && param_collection && param_collection != \"\") {\n\t\t\t\t\tif (!form.getAttribute('data-collection')) {\n\t\t\t\t\t\tform.setAttribute('data-collection', param_collection);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tvar allTags = document.querySelectorAll('[data-pass_id]');\n\t\t\tallTags.forEach((tag) => {\n\t\t\t\tvar pass_id = tag.getAttribute('data-pass_id');\n\t\t\t\tif (pass_id && pass_id == param_pass_to) {\n\t\t\t\t\tself.__setPassAttributes(tag, dataParam)\n\t\t\t\t}\n\t\t\t})\n\t\t})\t\t\n\t},\n\t\n\t// passValueParams\n\t__initPassValueParams: function(contianer) {\n\t\tvar valueParams = window.localStorage.getItem('valueParams');\n\t\tvalueParams = JSON.parse(valueParams);\n\t\t\n\t\tif (!valueParams || valueParams.length == 0) return;\n\t\t\n\t\tvalueParams.forEach(function(valueParam) {\n\t\t\tvar pass_value_to = valueParam.pass_value_to;\n\t\t\t// var inputs = (contianer || document).querySelectorAll('input, textarea, select');\n\t\t\tvar inputs = (contianer || document).querySelectorAll('[data-pass_value_id]');\n\t\t\t\n\t\t\tinputs.forEach((input) => {\n\t\t\t\tlet pass_value_id = input.getAttribute('data-pass_value_id');\n\t\t\t\t\n\t\t\t\tif (pass_value_id && pass_value_id == pass_value_to) {\n\t\t\t\t\tif (['INPUT', 'TEXTAREA', 'SELECT'].includes(input.tagName)) {\n\t\t\t\t\t\tinput.value = valueParam.value;\n\t\t\t\t\t\tif (CoCreate.floatingLabel) CoCreate.floatingLabel.update(input)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinput.innerHTML = valueParam.value;\n\t\t\t\t\t}\n\t\t\t\t}\t    \t\n\t\t\t})\n\t\t})\t\t\n\t},\n\t\n\t__getPassAttributes: function (element) {\n\t\treturn {\n\t\t\tcollection : element.getAttribute('data-pass_collection') || element.getAttribute('data-pass_fetch_collection'),\n\t\t\tdocument_id : element.getAttribute('data-pass_document_id'),\n\t\t\tname : element.getAttribute('data-pass_name'),\n\t\t\tvalue : element.getAttribute('data-pass_value'),\n\t\t\tpass_to: element.getAttribute('data-pass_to'),\n\t\t\tfilter_name: element.getAttribute('data-pass_filter_name'),\n\t\t\tfilter_value: element.getAttribute('data-pass_filter_value'),\n\t\t\tprefix: element.getAttribute('data-pass_prefix') || \"\"\n\t\t}\t\n\t},\n\t\n\t__setPassAttributes: function(el, param) {\n\t\tconst {collection, document_id, name, value, pass_to, filter_name, filter_value, prefix} = param;\n\t\tconst pass_id = el.getAttribute('data-pass_id')\n\t\tconst isRefresh = el.hasAttribute('data-pass_refresh') ? true: false;\n\t\t\n\t\tif (pass_id != pass_to) return ;\n\t\t\n\t\tif (collection) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-collection', collection, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-fetch_collection', collection, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_fetch_collection', collection, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_collection', collection, isRefresh);\n\t\t}\n\t\t\n\t\tif (document_id) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-document_id', document_id, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-fetch_document_id', document_id, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_fetch_document_id', document_id, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_document_id', document_id, isRefresh);\n\t\t}\n\t\t\n\t\tif (name) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'name', name, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-fetch_name', name, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_name', name, isRefresh);\n\t\t}\n\t\t\n\t\tif (value) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'value', value, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_value', value, isRefresh);\n\t\t}\n\t\t\n\t\tif (prefix) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'name', prefix + el.getAttribute('name'), isRefresh, true);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-fetch_name', prefix + el.getAttribute('data-fetch_name'), isRefresh, true);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_prefix', prefix, isRefresh);\n\t\t}\n\t\t\n\t\tif (filter_name) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-filter_name', filter_name, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_filter_name', filter_name, isRefresh);\n\t\t}\n\t\t\n\t\tif (filter_value) {\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-filter_value', filter_value, isRefresh);\n\t\t\tthis.__setAttributeValueOfElement(el, 'data-pass_filter_value', filter_value, isRefresh);\n\t\t}\n\t},\n\t\n\t__setAttributeValueOfElement: function (el, attrname, value, isRefresh, onlyHas) {\n\t\tif (value) {\n\t\t\tif (el.hasAttribute(attrname) && onlyHas) {\n\t\t\t\tel.setAttribute(attrname, value);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (el.hasAttribute(attrname) && (!el.getAttribute(attrname) || isRefresh)) {\n\t\t\t\tel.setAttribute(attrname, value);\n\t\t\t\treturn \n\t\t\t}\n\t\t}\n\t},\n\t\n\t//. storePassData\n\tstorePassData: function(aTag) {\n\t\tlet dataParams = [];\n\t\tconst self = this;\n\t\tlet param = this.__getPassAttributes(aTag);\n\t\t\n\t\tif (aTag.hasAttribute('data-actions')) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (param.pass_to) {\n\t\t\tdataParams.push(param);\n\t\t}\n\t\t\n\t\tlet tags = aTag.querySelectorAll('[data-pass_to]');\n\n\t\ttags.forEach((tag) => {\n\t\t\tlet passParam = self.__getPassAttributes(tag)\n\t\t\tif (passParam.pass_to) {\n\t\t\t\tdataParams.push(passParam);\n\t\t\t}\t\t\t\n\t\t})\n\t\tif (dataParams.length > 0) localStorage.setItem('dataParams', JSON.stringify(dataParams));\n\t},\n\t\n\n\t//. initValuePassBtns\n\t__initValuePassBtns: function() {\n\t\t// let forms = document.getElementsByTagName('form');\n\t\n\t\t// for (let i=0; i < forms.length; i++) {\n\t\t// \tlet form = forms[i];\n\t\t\t\n\t\t// \tlet valuePassBtn = form.querySelector('.passValueBtn');\n\t\t\t\n\t\t// \tif (valuePassBtn) this.__registerValuePassBtnEvent(form, valuePassBtn);\n\t\t// }\n\t},\n\t\n\t__initGetValueInput: function() {\n\t\tvar inputs = document.querySelectorAll('input, textarea');\n\t\tlet self = this;\n\t\t\n\t\tfor (var i = 0; i < inputs.length; i++) {\n\t\t  var input = inputs[i];\n\t\t  \n\t\t  if (!input.id) {\n\t\t\tcontinue;\n\t\t  }\n\t\t  \n\t\t  input.addEventListener('input', function(e) {\n\t\t\tself.__setGetValueProcess(this.id, this.value)\n\t\t  })\n\t\t  \n\t\t  input.addEventListener('updated_by_fetch', function(e) {\n\t\t\tself.__setGetValueProcess(this.id, this.value);\n\t\t  })\n\t\t}\n\t},\n\t\n\t//. initValuePassBtn\n\t__registerValuePassBtnEvent: function(form, valuePassBtn) {\n\t\t// let self = this;\n\t\t// return;\n\t\t// valuePassBtn.addEventListener('click', function(e) {\n\t\t// \tlet inputs = form.querySelectorAll('input, textarea, select');\n\t\t\t\n\t\t// \tif (valuePassBtn.hasAttribute('data-actions')) {\n\t\t// \t\treturn;\n\t\t// \t}\n\t\t\t\n\t\t// \tlet valueParams = [];\n\t\t\t\n\t\t// \tfor (let i = 0; i < inputs.length; i++) {\n\t\t// \t\tlet input = inputs[i];\n\t\t\t\t\n\t\t// \t\tlet pass_value_to = input.getAttribute('data-pass_value_to');\n\t\t// \t\tlet value = input.value;\n\t\t\t\t\n\t\t// \t\tif (pass_value_to) {\n\t\t// \t\t\tvalueParams.push({\n\t\t// \t\t\t\tpass_value_to: pass_value_to,\n\t\t// \t\t\t\tvalue: value\n\t\t// \t\t\t})\n\t\t// \t\t}\n\t\t// \t}\n\t\t\t\n\t\t// \tif (valueParams.length > 0) localStorage.setItem('valueParams', JSON.stringify(valueParams));\n\t\t\t\n\t\t// \tself.__initPassValueParams();\n\t\t\t\n\t\t// \tlet aTag = valuePassBtn.querySelector('a');\n\t\t\t\n\t\t// \tif (aTag) self.setLinkProcess(aTag);\n\t\t// })\n\t},\n\t\n\tpassProcessAction: function(btn) {\n\t\tlet form = btn.closest('form')\n\t\tif (!form) return;\n\t\t\n\t\tlet inputs = form.querySelectorAll('input, textarea, select');\n\t\tlet valueParams = [];\n\t\t\n\t\tinputs.forEach(el => {\n\t\t\tconst pass_value_to = el.getAttribute('data-pass_value_to');\n\t\t\tconst value = el.value;\n\t\t\tif (pass_value_to) {\n\t\t\t\tvalueParams.push({\n\t\t\t\t\tpass_value_to: pass_value_to,\n\t\t\t\t\tvalue: value\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\t\n\t\tif (valueParams.length > 0) {\n\t\t\twindow.localStorage.setItem('valueParams', JSON.stringify(valueParams));\n\t\t}\n\t\tthis.__initPassValueParams()\n\t\t// let aTag = btn.querySelector('a');\n\t\t// if (aTag) this.setLinkProcess(aTag);\n\t\t\n\t\t//. end event\n\t\tdocument.dispatchEvent(new CustomEvent('passValueActionEnd', {\n\t\t\tdetail: {}\n\t\t}))\n\t},\n\t\n\tsetDataPassValues: function(values) {\n\t\tconst valueParams = []\n\t\tfor ( let key in values) {\n\t\t\tvalueParams.push({\n\t\t\t\tpass_value_to: key,\n\t\t\t\tvalue: values[key]\n\t\t\t})\n\t\t}\n\t\t\n\t\tif (valueParams.length > 0) {\n\t\t\twindow.localStorage.setItem('valueParams', JSON.stringify(valueParams));\n\t\t}\n\t},\n\t\n\tinitDataPassValues: function() {\n\t\twindow.localStorage.removeItem('valueParams');\t\n\t},\n\n\t//. openAnother\n\topenAnother: function(atag) {\n\n\t\tvar href = atag.getAttribute('href');\n\t\tvar target = atag.getAttribute('target');\n\t\t\n\t\tif (target == \"_blank\") {\n\t\t  window.open(href, \"_blank\");  \n\t\t} else if (target == \"_window\") {\n\t\t  window.open(href, '_blank', 'location=yes,height=570,width=520,scrollbars=yes,status=yes');\n\t\t} else {\n\t\t  window.open(href, \"_self\");\n\t\t}\n\t},\n\t\n\t//. clickATaginButton\n\tsetLinkProcess: function(aTag) {\n\t\t\n\t\tif(aTag.hasAttribute('data-actions')) {\n\t\t\treturn;\n\t\t}\n\t\tconst pass_to = aTag.getAttribute('data-pass_to');\n\t\tconst href = aTag.getAttribute('href');\n\t\tthis.storePassData(aTag);\n\t\tif (this.checkOpenCocreateModal(aTag)) {\n\t\t\tif (typeof CoCreate.modal !== 'undefined') {\n\t\t\t\tCoCreate.modal.open(aTag);\n\t\t\t}\n\t\t} else if (href) {\n\t\t\tthis.openAnother(aTag);\n\t\t} else if (pass_to) {\n\t\t\tthis.__initPassParams(pass_to);\n\t\t}\n\t},\n\t\n\tcheckOpenCocreateModal: function(atag) {\n\t  if (atag.getAttribute('target') === \"modal\") {\n\t\treturn true;\n\t  } \n\t  return false;\n\t},\n\t\n\tpassSubmitProcess: function(element) {\n\t\tif (element.parentNode.classList.contains('submitBtn')) {\n\t\t\tif ( element.getAttribute('data-pass_to') && element.getAttribute('data-pass_document_id')) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false\n\t\t\t}\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t},\n\t\n\t\n\t__setGetValueProcess: function(id, value) {\n\t\t\n\t\tif (!id) return;\n  \n\t\tvar targets = document.querySelectorAll('[data-get_value=\"' + id + '\"]');\n\t\t\n\t\ttargets.forEach((target) => {\n\t\t  // target.value = value;\n\t\t  if (typeof(target.value) != \"undefined\") {\n\t\t\ttarget.value = value;\n\t\t  } else if (typeof(target.textContent) != \"undefined\") {\n\t\t\ttarget.textContent = value;\n\t\t  }\n\t\t  \n\t\t  if (CoCreate.floatingLabel) CoCreate.floatingLabel.update(target)\n\t\t  \n\t\t  target.dispatchEvent(new Event(\"input\", {\"bubbles\":true})); \n\t\t  \n\t\t  if (target.classList.contains('searchInput')) {\n\t\t\tlet evt = new KeyboardEvent('keydown', {'keyCode': 13});\n\t\t\ttarget.dispatchEvent(evt);\n\t\t  }\n\t\t})\n\t},\n\t\n\t__initPassItems: function(id, selector, noFetch) {\n\t\tconst self = this;\n\t\tif (id) {\n\t\t\tlet elements = document.querySelectorAll(selector);\n\t\t\telements.forEach(el => {\n\t\t\t\tself.__setAttributeValueOfElement(el, 'data-document_id', id);\n\t\t\t\t// self.__setAttributeValueOfElement(el, 'data-fetch_document_id', id);\n\t\t\t\tself.__setAttributeValueOfElement(el, 'data-filter_value', id);\n\t\t\t})\n\t\t}\n\t},\n}\n\n\nCoCreateLogic.init();\n\n_cocreate_observer__WEBPACK_IMPORTED_MODULE_0__.default.init({ \n\tname: 'CoCreateAttributes', \n\tobserve: ['subtree', 'childList'],\n\tinclude: '[data-for]', \n\tcallback: function(mutation) {\n\t\tCoCreateLogic.attributes.initElement(mutation.target)\n\t}\n});\n\n_cocreate_observer__WEBPACK_IMPORTED_MODULE_0__.default.init({ \n\tname: 'CoCreateLogic', \n\tobserve: ['subtree', 'childList'],\n\tinclude: '[data-pass_id]', \n\tcallback: function(mutation) {\n\t\tCoCreateLogic.initElement(mutation.target)\n\t}\n});\n\n_cocreate_action__WEBPACK_IMPORTED_MODULE_1__.default.init({\n\taction: \"passValueAction\",\n\tendEvent: \"passValueActionEnd\",\n\tcallback: (btn, data) => {\n\t\tCoCreateLogic.passProcessAction(btn)\n\t},\n})\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CoCreateLogic);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mdWxsY2FsZW5kYXIvLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2xvZ2ljL3NyYy9pbmRleC5qcz85YjZjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7QUFDSjtBQUNXOztBQUVoRDtBQUNBLGFBQWEsbURBQWtCOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPLHNFQUF1QjtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLHlDQUF5QztBQUNuRCxHQUFHLHNFQUF1Qjs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7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LENBQUM7O0FBRUQsNERBQWEsRTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsMERBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixDQUFDOztBQUVELGlFQUFlLGFBQWEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL2xvZ2ljL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBvYnNlcnZlciBmcm9tICdAY29jcmVhdGUvb2JzZXJ2ZXInXG5pbXBvcnQgYWN0aW9uIGZyb20gJ0Bjb2NyZWF0ZS9hY3Rpb24nXG5pbXBvcnQgQ29DcmVhdGVBdHRyaWJ1dGVzIGZyb20gXCIuL2F0dHJpYnV0ZXMuanNcIlxuXG5jb25zdCBDb0NyZWF0ZUxvZ2ljID0ge1xuXHRhdHRyaWJ1dGVzOiBDb0NyZWF0ZUF0dHJpYnV0ZXMsXG5cdFxuXHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9faW5pdEtleXMoKTtcblx0XHR0aGlzLl9faW5pdFBhc3NTZXNzaW9uSWRzKCk7XG5cdFx0dGhpcy5fX2luaXRQYXNzUGFyYW1zKCk7XG5cdFx0dGhpcy5fX2luaXRQYXNzVmFsdWVQYXJhbXMoKTtcblx0XHQvLyB0aGlzLl9faW5pdFZhbHVlUGFzc0J0bnMoKTtcblx0XHR0aGlzLl9faW5pdEdldFZhbHVlSW5wdXQoKTtcblx0XHR0aGlzLmluaXRBdGFnRWxlbWVudCgpO1xuXHR9LFxuXHRcdFxuXHQvLyBnZXRLZXlzXG5cdF9faW5pdEtleXM6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FwaUtleScpKSB7XG5cdFx0XHRjb25maWcuYXBpS2V5ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhcGlLZXknKTtcblx0XHR9XG5cdFx0aWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VjdXJpdHlLZXknKSkge1xuXHRcdFx0Y29uZmlnLnNlY3VyaXR5S2V5ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWN1cml0eUtleScpO1xuXHRcdH1cblx0XHRpZiAod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcmdhbml6YXRpb25faWQnKSkge1xuXHRcdFx0Y29uZmlnLm9yZ2FuaXphdGlvbl9JZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnb3JnYW5pemF0aW9uX2lkJyk7XG5cdFx0fVxuXHR9LFxuXHRcblx0Ly8uIHBhc3NTZXNzaW9uSWRzXG5cdF9faW5pdFBhc3NTZXNzaW9uSWRzOiBmdW5jdGlvbigpIHtcblx0XHRsZXQgb3JnSWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ29yZ2FuaXphdGlvbl9pZCcpO1xuXHRcdGxldCB1c2VyX2lkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJyk7XG5cdFx0bGV0IGFkbWluVUlfaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FkbWluVUlfaWQnKTtcblx0XHRsZXQgYnVpbGRlclVJX2lkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdidWlsZGVyVUlfaWQnKTtcblxuXHRcdHRoaXMuX19pbml0UGFzc0l0ZW1zKG9yZ0lkLCBcdFx0XHRcIi5zZXNzaW9uT3JnX0lkXCIsIHRydWUpO1xuXHRcdHRoaXMuX19pbml0UGFzc0l0ZW1zKHVzZXJfaWQsIFx0XHRcIi5zZXNzaW9uVXNlcl9JZFwiKTtcblx0XHR0aGlzLl9faW5pdFBhc3NJdGVtcyhhZG1pblVJX2lkLFx0XCIuc2Vzc2lvbkFkbWluVUlfSWRcIik7XG5cdFx0dGhpcy5fX2luaXRQYXNzSXRlbXMoYnVpbGRlclVJX2lkLFwiLnNlc3Npb25CdWlsZGVyVUlfSWRcIik7XG5cdH0sXG5cdFxuXHRpbml0RWxlbWVudDogZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cdFx0bGV0IG1haW5Db250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cdFx0aWYgKCFtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0bGV0IGVsZW1lbnRzID0gbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYXNzX2lkXScpO1xuXHRcdGVsZW1lbnRzID0gQXJyYXkuZnJvbShlbGVtZW50cyk7XG5cdFx0aWYgKG1haW5Db250YWluZXIgIT0gZG9jdW1lbnQgJiYgbWFpbkNvbnRhaW5lci5oYXNBdHRyaWJ1dGUoJ2RhdGEtcGFzc19pZCcpKSB7XG5cdFx0XHRlbGVtZW50cy5wdXNoKG1haW5Db250YWluZXIpXG5cdFx0fVxuXHRcdGxldCBkYXRhUGFyYW1zID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXRhUGFyYW1zJyk7XG5cdFx0ZGF0YVBhcmFtcyA9IEpTT04ucGFyc2UoZGF0YVBhcmFtcyk7XG5cdFx0aWYgKCFkYXRhUGFyYW1zIHx8IGRhdGFQYXJhbXMubGVuZ3RoID09IDApIHJldHVybjtcblx0XHRcblx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0aWYgKG9ic2VydmVyLmdldEluaXRpYWxpemVkKGVsKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnN0IHBhc3NfaWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19pZCcpXG5cdFx0XHRjb25zdCBwYXJhbU9iaiA9IGRhdGFQYXJhbXMuZmluZCh4ID0+IHgucGFzc190byA9PSBwYXNzX2lkKVxuXHRcdFx0aWYgKCFwYXJhbU9iaikgcmV0dXJuO1xuXG5cdFx0XHRjb25zdCB7Y29sbGVjdGlvbiwgZG9jdW1lbnRfaWQsIHBhc3NfdG8sIHByZWZpeH0gPSBwYXJhbU9iajtcblx0XHRcdG9ic2VydmVyLnNldEluaXRpYWxpemVkKGVsKVxuXHRcdFx0XG5cdFx0XHRpZiAoZWwudGFnTmFtZSA9PT0gXCJGT1JNXCIgJiYgIWVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWNpdG9uJykgJiYgY29sbGVjdGlvbikge1xuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjaXRvbicsIGNvbGxlY3Rpb24pO1xuXHRcdFx0fVxuXHRcdFx0c2VsZi5fX3NldFBhc3NBdHRyaWJ1dGVzKGVsLCBwYXJhbU9iaik7XG5cblxuXHRcdH0pO1xuXHR9LFxuXHRcblx0aW5pdEF0YWdFbGVtZW50OiBmdW5jdGlvbigpIHtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnYSwgYnV0dG9uJylcblx0XHRcdGlmICghdGFyZ2V0KSAgcmV0dXJuO1xuXHRcdFx0XG5cdFx0XHRpZiAodGFyZ2V0LmdldEF0dHJpYnV0ZSgndGFyZ2V0JykgPT09ICdtb2RhbCcgJiYgdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX3RvJykpIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0Ly8gZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcblx0XHRcdFx0c2VsZi5zZXRMaW5rUHJvY2Vzcyh0YXJnZXQpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnN0IGhyZWYgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG5cdFx0XHRpZiAodGFyZ2V0LmdldEF0dHJpYnV0ZSgndGFyZ2V0JykgIT09ICdtb2RhbCcpIHtcblx0XHRcdFx0aWYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9ucycpKSByZXR1cm47XG5cdFx0XHRcdGlmICghc2VsZi5wYXNzU3VibWl0UHJvY2Vzcyh0YXJnZXQpKSByZXR1cm47XG5cdFx0XHRcdGNvbnN0IHBhc3NfdG8gPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfdG8nKTtcblx0XHRcdFx0aWYgKGhyZWYpIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHNlbGYuc3RvcmVQYXNzRGF0YSh0YXJnZXQpXG5cdFx0XHRcdFx0c2VsZi5vcGVuQW5vdGhlcih0YXJnZXQpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2VsZi5zdG9yZVBhc3NEYXRhKHRhcmdldClcblx0XHRcdFx0XHRpZiAocGFzc190bykge1xuXHRcdFx0XHRcdFx0c2VsZi5fX2luaXRQYXNzUGFyYW1zKHBhc3NfdG8pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0fSlcblx0fSxcblx0XG5cdC8vLiBwYXNzUGFyYW1zXG5cdF9faW5pdFBhc3NQYXJhbXM6IGZ1bmN0aW9uKHBhc3NfdG8pIHtcblx0XHR2YXIgZGF0YVBhcmFtcyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF0YVBhcmFtcycpO1xuXHRcdGRhdGFQYXJhbXMgPSBKU09OLnBhcnNlKGRhdGFQYXJhbXMpO1xuXG5cdFx0aWYgKCFkYXRhUGFyYW1zIHx8IGRhdGFQYXJhbXMubGVuZ3RoID09IDApIHJldHVybjtcblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cdFx0XG5cdFx0ZGF0YVBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uKGRhdGFQYXJhbSkge1xuXHRcdFx0dmFyIHBhcmFtX2NvbGxlY3Rpb24gPSBkYXRhUGFyYW0uY29sbGVjdGlvbjtcblx0XHRcdHZhciBwYXJhbV9kb2N1bWVudF9pZCA9IGRhdGFQYXJhbS5kb2N1bWVudF9pZDtcblx0XHRcdHZhciBwYXJhbV9wcmVmaXggPSBkYXRhUGFyYW0ucHJlZml4O1xuXHRcdFx0dmFyIHBhcmFtX3Bhc3NfdG8gPSBkYXRhUGFyYW0ucGFzc190bztcblx0XHRcdFxuXHRcdFx0aWYgKHBhc3NfdG8gJiYgcGFyYW1fcGFzc190byAhPSBwYXNzX3RvKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0dmFyIGZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZm9ybScpO1xuXHRcdFx0XG5cdFx0XHRmb3Jtcy5mb3JFYWNoKChmb3JtKSA9PiB7XG5cdFx0XHRcdHZhciBwYXNzX2lkID0gZm9ybS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19pZCcpO1xuXHRcdFx0XHRpZiAocGFzc19pZCAmJiBwYXNzX2lkID09IHBhcmFtX3Bhc3NfdG8gJiYgcGFyYW1fY29sbGVjdGlvbiAmJiBwYXJhbV9jb2xsZWN0aW9uICE9IFwiXCIpIHtcblx0XHRcdFx0XHRpZiAoIWZvcm0uZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSkge1xuXHRcdFx0XHRcdFx0Zm9ybS5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicsIHBhcmFtX2NvbGxlY3Rpb24pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSlcblxuXHRcdFx0dmFyIGFsbFRhZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYXNzX2lkXScpO1xuXHRcdFx0YWxsVGFncy5mb3JFYWNoKCh0YWcpID0+IHtcblx0XHRcdFx0dmFyIHBhc3NfaWQgPSB0YWcuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfaWQnKTtcblx0XHRcdFx0aWYgKHBhc3NfaWQgJiYgcGFzc19pZCA9PSBwYXJhbV9wYXNzX3RvKSB7XG5cdFx0XHRcdFx0c2VsZi5fX3NldFBhc3NBdHRyaWJ1dGVzKHRhZywgZGF0YVBhcmFtKVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH0pXHRcdFxuXHR9LFxuXHRcblx0Ly8gcGFzc1ZhbHVlUGFyYW1zXG5cdF9faW5pdFBhc3NWYWx1ZVBhcmFtczogZnVuY3Rpb24oY29udGlhbmVyKSB7XG5cdFx0dmFyIHZhbHVlUGFyYW1zID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2YWx1ZVBhcmFtcycpO1xuXHRcdHZhbHVlUGFyYW1zID0gSlNPTi5wYXJzZSh2YWx1ZVBhcmFtcyk7XG5cdFx0XG5cdFx0aWYgKCF2YWx1ZVBhcmFtcyB8fCB2YWx1ZVBhcmFtcy5sZW5ndGggPT0gMCkgcmV0dXJuO1xuXHRcdFxuXHRcdHZhbHVlUGFyYW1zLmZvckVhY2goZnVuY3Rpb24odmFsdWVQYXJhbSkge1xuXHRcdFx0dmFyIHBhc3NfdmFsdWVfdG8gPSB2YWx1ZVBhcmFtLnBhc3NfdmFsdWVfdG87XG5cdFx0XHQvLyB2YXIgaW5wdXRzID0gKGNvbnRpYW5lciB8fCBkb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKTtcblx0XHRcdHZhciBpbnB1dHMgPSAoY29udGlhbmVyIHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYXNzX3ZhbHVlX2lkXScpO1xuXHRcdFx0XG5cdFx0XHRpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcblx0XHRcdFx0bGV0IHBhc3NfdmFsdWVfaWQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc192YWx1ZV9pZCcpO1xuXHRcdFx0XHRcblx0XHRcdFx0aWYgKHBhc3NfdmFsdWVfaWQgJiYgcGFzc192YWx1ZV9pZCA9PSBwYXNzX3ZhbHVlX3RvKSB7XG5cdFx0XHRcdFx0aWYgKFsnSU5QVVQnLCAnVEVYVEFSRUEnLCAnU0VMRUNUJ10uaW5jbHVkZXMoaW5wdXQudGFnTmFtZSkpIHtcblx0XHRcdFx0XHRcdGlucHV0LnZhbHVlID0gdmFsdWVQYXJhbS52YWx1ZTtcblx0XHRcdFx0XHRcdGlmIChDb0NyZWF0ZS5mbG9hdGluZ0xhYmVsKSBDb0NyZWF0ZS5mbG9hdGluZ0xhYmVsLnVwZGF0ZShpbnB1dClcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aW5wdXQuaW5uZXJIVE1MID0gdmFsdWVQYXJhbS52YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cdCAgICBcdFxuXHRcdFx0fSlcblx0XHR9KVx0XHRcblx0fSxcblx0XG5cdF9fZ2V0UGFzc0F0dHJpYnV0ZXM6IGZ1bmN0aW9uIChlbGVtZW50KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGNvbGxlY3Rpb24gOiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2NvbGxlY3Rpb24nKSB8fCBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2ZldGNoX2NvbGxlY3Rpb24nKSxcblx0XHRcdGRvY3VtZW50X2lkIDogZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19kb2N1bWVudF9pZCcpLFxuXHRcdFx0bmFtZSA6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfbmFtZScpLFxuXHRcdFx0dmFsdWUgOiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX3ZhbHVlJyksXG5cdFx0XHRwYXNzX3RvOiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX3RvJyksXG5cdFx0XHRmaWx0ZXJfbmFtZTogZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19maWx0ZXJfbmFtZScpLFxuXHRcdFx0ZmlsdGVyX3ZhbHVlOiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2ZpbHRlcl92YWx1ZScpLFxuXHRcdFx0cHJlZml4OiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX3ByZWZpeCcpIHx8IFwiXCJcblx0XHR9XHRcblx0fSxcblx0XG5cdF9fc2V0UGFzc0F0dHJpYnV0ZXM6IGZ1bmN0aW9uKGVsLCBwYXJhbSkge1xuXHRcdGNvbnN0IHtjb2xsZWN0aW9uLCBkb2N1bWVudF9pZCwgbmFtZSwgdmFsdWUsIHBhc3NfdG8sIGZpbHRlcl9uYW1lLCBmaWx0ZXJfdmFsdWUsIHByZWZpeH0gPSBwYXJhbTtcblx0XHRjb25zdCBwYXNzX2lkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfaWQnKVxuXHRcdGNvbnN0IGlzUmVmcmVzaCA9IGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1wYXNzX3JlZnJlc2gnKSA/IHRydWU6IGZhbHNlO1xuXHRcdFxuXHRcdGlmIChwYXNzX2lkICE9IHBhc3NfdG8pIHJldHVybiA7XG5cdFx0XG5cdFx0aWYgKGNvbGxlY3Rpb24pIHtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtY29sbGVjdGlvbicsIGNvbGxlY3Rpb24sIGlzUmVmcmVzaCk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLWZldGNoX2NvbGxlY3Rpb24nLCBjb2xsZWN0aW9uLCBpc1JlZnJlc2gpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1wYXNzX2ZldGNoX2NvbGxlY3Rpb24nLCBjb2xsZWN0aW9uLCBpc1JlZnJlc2gpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1wYXNzX2NvbGxlY3Rpb24nLCBjb2xsZWN0aW9uLCBpc1JlZnJlc2gpO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoZG9jdW1lbnRfaWQpIHtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtZG9jdW1lbnRfaWQnLCBkb2N1bWVudF9pZCwgaXNSZWZyZXNoKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtZmV0Y2hfZG9jdW1lbnRfaWQnLCBkb2N1bWVudF9pZCwgaXNSZWZyZXNoKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtcGFzc19mZXRjaF9kb2N1bWVudF9pZCcsIGRvY3VtZW50X2lkLCBpc1JlZnJlc2gpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1wYXNzX2RvY3VtZW50X2lkJywgZG9jdW1lbnRfaWQsIGlzUmVmcmVzaCk7XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChuYW1lKSB7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICduYW1lJywgbmFtZSwgaXNSZWZyZXNoKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtZmV0Y2hfbmFtZScsIG5hbWUsIGlzUmVmcmVzaCk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLXBhc3NfbmFtZScsIG5hbWUsIGlzUmVmcmVzaCk7XG5cdFx0fVxuXHRcdFxuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAndmFsdWUnLCB2YWx1ZSwgaXNSZWZyZXNoKTtcblx0XHRcdHRoaXMuX19zZXRBdHRyaWJ1dGVWYWx1ZU9mRWxlbWVudChlbCwgJ2RhdGEtcGFzc192YWx1ZScsIHZhbHVlLCBpc1JlZnJlc2gpO1xuXHRcdH1cblx0XHRcblx0XHRpZiAocHJlZml4KSB7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICduYW1lJywgcHJlZml4ICsgZWwuZ2V0QXR0cmlidXRlKCduYW1lJyksIGlzUmVmcmVzaCwgdHJ1ZSk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLWZldGNoX25hbWUnLCBwcmVmaXggKyBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmV0Y2hfbmFtZScpLCBpc1JlZnJlc2gsIHRydWUpO1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1wYXNzX3ByZWZpeCcsIHByZWZpeCwgaXNSZWZyZXNoKTtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKGZpbHRlcl9uYW1lKSB7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLWZpbHRlcl9uYW1lJywgZmlsdGVyX25hbWUsIGlzUmVmcmVzaCk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLXBhc3NfZmlsdGVyX25hbWUnLCBmaWx0ZXJfbmFtZSwgaXNSZWZyZXNoKTtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKGZpbHRlcl92YWx1ZSkge1xuXHRcdFx0dGhpcy5fX3NldEF0dHJpYnV0ZVZhbHVlT2ZFbGVtZW50KGVsLCAnZGF0YS1maWx0ZXJfdmFsdWUnLCBmaWx0ZXJfdmFsdWUsIGlzUmVmcmVzaCk7XG5cdFx0XHR0aGlzLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLXBhc3NfZmlsdGVyX3ZhbHVlJywgZmlsdGVyX3ZhbHVlLCBpc1JlZnJlc2gpO1xuXHRcdH1cblx0fSxcblx0XG5cdF9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQ6IGZ1bmN0aW9uIChlbCwgYXR0cm5hbWUsIHZhbHVlLCBpc1JlZnJlc2gsIG9ubHlIYXMpIHtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGlmIChlbC5oYXNBdHRyaWJ1dGUoYXR0cm5hbWUpICYmIG9ubHlIYXMpIHtcblx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKGF0dHJuYW1lLCB2YWx1ZSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmIChlbC5oYXNBdHRyaWJ1dGUoYXR0cm5hbWUpICYmICghZWwuZ2V0QXR0cmlidXRlKGF0dHJuYW1lKSB8fCBpc1JlZnJlc2gpKSB7XG5cdFx0XHRcdGVsLnNldEF0dHJpYnV0ZShhdHRybmFtZSwgdmFsdWUpO1xuXHRcdFx0XHRyZXR1cm4gXG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRcblx0Ly8uIHN0b3JlUGFzc0RhdGFcblx0c3RvcmVQYXNzRGF0YTogZnVuY3Rpb24oYVRhZykge1xuXHRcdGxldCBkYXRhUGFyYW1zID0gW107XG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cdFx0bGV0IHBhcmFtID0gdGhpcy5fX2dldFBhc3NBdHRyaWJ1dGVzKGFUYWcpO1xuXHRcdFxuXHRcdGlmIChhVGFnLmhhc0F0dHJpYnV0ZSgnZGF0YS1hY3Rpb25zJykpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKHBhcmFtLnBhc3NfdG8pIHtcblx0XHRcdGRhdGFQYXJhbXMucHVzaChwYXJhbSk7XG5cdFx0fVxuXHRcdFxuXHRcdGxldCB0YWdzID0gYVRhZy5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYXNzX3RvXScpO1xuXG5cdFx0dGFncy5mb3JFYWNoKCh0YWcpID0+IHtcblx0XHRcdGxldCBwYXNzUGFyYW0gPSBzZWxmLl9fZ2V0UGFzc0F0dHJpYnV0ZXModGFnKVxuXHRcdFx0aWYgKHBhc3NQYXJhbS5wYXNzX3RvKSB7XG5cdFx0XHRcdGRhdGFQYXJhbXMucHVzaChwYXNzUGFyYW0pO1xuXHRcdFx0fVx0XHRcdFxuXHRcdH0pXG5cdFx0aWYgKGRhdGFQYXJhbXMubGVuZ3RoID4gMCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RhdGFQYXJhbXMnLCBKU09OLnN0cmluZ2lmeShkYXRhUGFyYW1zKSk7XG5cdH0sXG5cdFxuXG5cdC8vLiBpbml0VmFsdWVQYXNzQnRuc1xuXHRfX2luaXRWYWx1ZVBhc3NCdG5zOiBmdW5jdGlvbigpIHtcblx0XHQvLyBsZXQgZm9ybXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZm9ybScpO1xuXHRcblx0XHQvLyBmb3IgKGxldCBpPTA7IGkgPCBmb3Jtcy5sZW5ndGg7IGkrKykge1xuXHRcdC8vIFx0bGV0IGZvcm0gPSBmb3Jtc1tpXTtcblx0XHRcdFxuXHRcdC8vIFx0bGV0IHZhbHVlUGFzc0J0biA9IGZvcm0ucXVlcnlTZWxlY3RvcignLnBhc3NWYWx1ZUJ0bicpO1xuXHRcdFx0XG5cdFx0Ly8gXHRpZiAodmFsdWVQYXNzQnRuKSB0aGlzLl9fcmVnaXN0ZXJWYWx1ZVBhc3NCdG5FdmVudChmb3JtLCB2YWx1ZVBhc3NCdG4pO1xuXHRcdC8vIH1cblx0fSxcblx0XG5cdF9faW5pdEdldFZhbHVlSW5wdXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgdGV4dGFyZWEnKTtcblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cdFx0XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcblx0XHQgIHZhciBpbnB1dCA9IGlucHV0c1tpXTtcblx0XHQgIFxuXHRcdCAgaWYgKCFpbnB1dC5pZCkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0ICB9XG5cdFx0ICBcblx0XHQgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZSkge1xuXHRcdFx0c2VsZi5fX3NldEdldFZhbHVlUHJvY2Vzcyh0aGlzLmlkLCB0aGlzLnZhbHVlKVxuXHRcdCAgfSlcblx0XHQgIFxuXHRcdCAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigndXBkYXRlZF9ieV9mZXRjaCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdHNlbGYuX19zZXRHZXRWYWx1ZVByb2Nlc3ModGhpcy5pZCwgdGhpcy52YWx1ZSk7XG5cdFx0ICB9KVxuXHRcdH1cblx0fSxcblx0XG5cdC8vLiBpbml0VmFsdWVQYXNzQnRuXG5cdF9fcmVnaXN0ZXJWYWx1ZVBhc3NCdG5FdmVudDogZnVuY3Rpb24oZm9ybSwgdmFsdWVQYXNzQnRuKSB7XG5cdFx0Ly8gbGV0IHNlbGYgPSB0aGlzO1xuXHRcdC8vIHJldHVybjtcblx0XHQvLyB2YWx1ZVBhc3NCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0Ly8gXHRsZXQgaW5wdXRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpO1xuXHRcdFx0XG5cdFx0Ly8gXHRpZiAodmFsdWVQYXNzQnRuLmhhc0F0dHJpYnV0ZSgnZGF0YS1hY3Rpb25zJykpIHtcblx0XHQvLyBcdFx0cmV0dXJuO1xuXHRcdC8vIFx0fVxuXHRcdFx0XG5cdFx0Ly8gXHRsZXQgdmFsdWVQYXJhbXMgPSBbXTtcblx0XHRcdFxuXHRcdC8vIFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcblx0XHQvLyBcdFx0bGV0IGlucHV0ID0gaW5wdXRzW2ldO1xuXHRcdFx0XHRcblx0XHQvLyBcdFx0bGV0IHBhc3NfdmFsdWVfdG8gPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc192YWx1ZV90bycpO1xuXHRcdC8vIFx0XHRsZXQgdmFsdWUgPSBpbnB1dC52YWx1ZTtcblx0XHRcdFx0XG5cdFx0Ly8gXHRcdGlmIChwYXNzX3ZhbHVlX3RvKSB7XG5cdFx0Ly8gXHRcdFx0dmFsdWVQYXJhbXMucHVzaCh7XG5cdFx0Ly8gXHRcdFx0XHRwYXNzX3ZhbHVlX3RvOiBwYXNzX3ZhbHVlX3RvLFxuXHRcdC8vIFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0Ly8gXHRcdFx0fSlcblx0XHQvLyBcdFx0fVxuXHRcdC8vIFx0fVxuXHRcdFx0XG5cdFx0Ly8gXHRpZiAodmFsdWVQYXJhbXMubGVuZ3RoID4gMCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZhbHVlUGFyYW1zJywgSlNPTi5zdHJpbmdpZnkodmFsdWVQYXJhbXMpKTtcblx0XHRcdFxuXHRcdC8vIFx0c2VsZi5fX2luaXRQYXNzVmFsdWVQYXJhbXMoKTtcblx0XHRcdFxuXHRcdC8vIFx0bGV0IGFUYWcgPSB2YWx1ZVBhc3NCdG4ucXVlcnlTZWxlY3RvcignYScpO1xuXHRcdFx0XG5cdFx0Ly8gXHRpZiAoYVRhZykgc2VsZi5zZXRMaW5rUHJvY2VzcyhhVGFnKTtcblx0XHQvLyB9KVxuXHR9LFxuXHRcblx0cGFzc1Byb2Nlc3NBY3Rpb246IGZ1bmN0aW9uKGJ0bikge1xuXHRcdGxldCBmb3JtID0gYnRuLmNsb3Nlc3QoJ2Zvcm0nKVxuXHRcdGlmICghZm9ybSkgcmV0dXJuO1xuXHRcdFxuXHRcdGxldCBpbnB1dHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Jyk7XG5cdFx0bGV0IHZhbHVlUGFyYW1zID0gW107XG5cdFx0XG5cdFx0aW5wdXRzLmZvckVhY2goZWwgPT4ge1xuXHRcdFx0Y29uc3QgcGFzc192YWx1ZV90byA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX3ZhbHVlX3RvJyk7XG5cdFx0XHRjb25zdCB2YWx1ZSA9IGVsLnZhbHVlO1xuXHRcdFx0aWYgKHBhc3NfdmFsdWVfdG8pIHtcblx0XHRcdFx0dmFsdWVQYXJhbXMucHVzaCh7XG5cdFx0XHRcdFx0cGFzc192YWx1ZV90bzogcGFzc192YWx1ZV90byxcblx0XHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHRcdGlmICh2YWx1ZVBhcmFtcy5sZW5ndGggPiAwKSB7XG5cdFx0XHR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZhbHVlUGFyYW1zJywgSlNPTi5zdHJpbmdpZnkodmFsdWVQYXJhbXMpKTtcblx0XHR9XG5cdFx0dGhpcy5fX2luaXRQYXNzVmFsdWVQYXJhbXMoKVxuXHRcdC8vIGxldCBhVGFnID0gYnRuLnF1ZXJ5U2VsZWN0b3IoJ2EnKTtcblx0XHQvLyBpZiAoYVRhZykgdGhpcy5zZXRMaW5rUHJvY2VzcyhhVGFnKTtcblx0XHRcblx0XHQvLy4gZW5kIGV2ZW50XG5cdFx0ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Bhc3NWYWx1ZUFjdGlvbkVuZCcsIHtcblx0XHRcdGRldGFpbDoge31cblx0XHR9KSlcblx0fSxcblx0XG5cdHNldERhdGFQYXNzVmFsdWVzOiBmdW5jdGlvbih2YWx1ZXMpIHtcblx0XHRjb25zdCB2YWx1ZVBhcmFtcyA9IFtdXG5cdFx0Zm9yICggbGV0IGtleSBpbiB2YWx1ZXMpIHtcblx0XHRcdHZhbHVlUGFyYW1zLnB1c2goe1xuXHRcdFx0XHRwYXNzX3ZhbHVlX3RvOiBrZXksXG5cdFx0XHRcdHZhbHVlOiB2YWx1ZXNba2V5XVxuXHRcdFx0fSlcblx0XHR9XG5cdFx0XG5cdFx0aWYgKHZhbHVlUGFyYW1zLmxlbmd0aCA+IDApIHtcblx0XHRcdHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmFsdWVQYXJhbXMnLCBKU09OLnN0cmluZ2lmeSh2YWx1ZVBhcmFtcykpO1xuXHRcdH1cblx0fSxcblx0XG5cdGluaXREYXRhUGFzc1ZhbHVlczogZnVuY3Rpb24oKSB7XG5cdFx0d2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd2YWx1ZVBhcmFtcycpO1x0XG5cdH0sXG5cblx0Ly8uIG9wZW5Bbm90aGVyXG5cdG9wZW5Bbm90aGVyOiBmdW5jdGlvbihhdGFnKSB7XG5cblx0XHR2YXIgaHJlZiA9IGF0YWcuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG5cdFx0dmFyIHRhcmdldCA9IGF0YWcuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKTtcblx0XHRcblx0XHRpZiAodGFyZ2V0ID09IFwiX2JsYW5rXCIpIHtcblx0XHQgIHdpbmRvdy5vcGVuKGhyZWYsIFwiX2JsYW5rXCIpOyAgXG5cdFx0fSBlbHNlIGlmICh0YXJnZXQgPT0gXCJfd2luZG93XCIpIHtcblx0XHQgIHdpbmRvdy5vcGVuKGhyZWYsICdfYmxhbmsnLCAnbG9jYXRpb249eWVzLGhlaWdodD01NzAsd2lkdGg9NTIwLHNjcm9sbGJhcnM9eWVzLHN0YXR1cz15ZXMnKTtcblx0XHR9IGVsc2Uge1xuXHRcdCAgd2luZG93Lm9wZW4oaHJlZiwgXCJfc2VsZlwiKTtcblx0XHR9XG5cdH0sXG5cdFxuXHQvLy4gY2xpY2tBVGFnaW5CdXR0b25cblx0c2V0TGlua1Byb2Nlc3M6IGZ1bmN0aW9uKGFUYWcpIHtcblx0XHRcblx0XHRpZihhVGFnLmhhc0F0dHJpYnV0ZSgnZGF0YS1hY3Rpb25zJykpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgcGFzc190byA9IGFUYWcuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfdG8nKTtcblx0XHRjb25zdCBocmVmID0gYVRhZy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcblx0XHR0aGlzLnN0b3JlUGFzc0RhdGEoYVRhZyk7XG5cdFx0aWYgKHRoaXMuY2hlY2tPcGVuQ29jcmVhdGVNb2RhbChhVGFnKSkge1xuXHRcdFx0aWYgKHR5cGVvZiBDb0NyZWF0ZS5tb2RhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0Q29DcmVhdGUubW9kYWwub3BlbihhVGFnKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGhyZWYpIHtcblx0XHRcdHRoaXMub3BlbkFub3RoZXIoYVRhZyk7XG5cdFx0fSBlbHNlIGlmIChwYXNzX3RvKSB7XG5cdFx0XHR0aGlzLl9faW5pdFBhc3NQYXJhbXMocGFzc190byk7XG5cdFx0fVxuXHR9LFxuXHRcblx0Y2hlY2tPcGVuQ29jcmVhdGVNb2RhbDogZnVuY3Rpb24oYXRhZykge1xuXHQgIGlmIChhdGFnLmdldEF0dHJpYnV0ZSgndGFyZ2V0JykgPT09IFwibW9kYWxcIikge1xuXHRcdHJldHVybiB0cnVlO1xuXHQgIH0gXG5cdCAgcmV0dXJuIGZhbHNlO1xuXHR9LFxuXHRcblx0cGFzc1N1Ym1pdFByb2Nlc3M6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRpZiAoZWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnc3VibWl0QnRuJykpIHtcblx0XHRcdGlmICggZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc190bycpICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfZG9jdW1lbnRfaWQnKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0sXG5cdFxuXHRcblx0X19zZXRHZXRWYWx1ZVByb2Nlc3M6IGZ1bmN0aW9uKGlkLCB2YWx1ZSkge1xuXHRcdFxuXHRcdGlmICghaWQpIHJldHVybjtcbiAgXG5cdFx0dmFyIHRhcmdldHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1nZXRfdmFsdWU9XCInICsgaWQgKyAnXCJdJyk7XG5cdFx0XG5cdFx0dGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IHtcblx0XHQgIC8vIHRhcmdldC52YWx1ZSA9IHZhbHVlO1xuXHRcdCAgaWYgKHR5cGVvZih0YXJnZXQudmFsdWUpICE9IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHRhcmdldC52YWx1ZSA9IHZhbHVlO1xuXHRcdCAgfSBlbHNlIGlmICh0eXBlb2YodGFyZ2V0LnRleHRDb250ZW50KSAhPSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR0YXJnZXQudGV4dENvbnRlbnQgPSB2YWx1ZTtcblx0XHQgIH1cblx0XHQgIFxuXHRcdCAgaWYgKENvQ3JlYXRlLmZsb2F0aW5nTGFiZWwpIENvQ3JlYXRlLmZsb2F0aW5nTGFiZWwudXBkYXRlKHRhcmdldClcblx0XHQgIFxuXHRcdCAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiaW5wdXRcIiwge1wiYnViYmxlc1wiOnRydWV9KSk7IFxuXHRcdCAgXG5cdFx0ICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2VhcmNoSW5wdXQnKSkge1xuXHRcdFx0bGV0IGV2dCA9IG5ldyBLZXlib2FyZEV2ZW50KCdrZXlkb3duJywgeydrZXlDb2RlJzogMTN9KTtcblx0XHRcdHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cdFx0ICB9XG5cdFx0fSlcblx0fSxcblx0XG5cdF9faW5pdFBhc3NJdGVtczogZnVuY3Rpb24oaWQsIHNlbGVjdG9yLCBub0ZldGNoKSB7XG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cdFx0aWYgKGlkKSB7XG5cdFx0XHRsZXQgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcblx0XHRcdGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuXHRcdFx0XHRzZWxmLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLWRvY3VtZW50X2lkJywgaWQpO1xuXHRcdFx0XHQvLyBzZWxmLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLWZldGNoX2RvY3VtZW50X2lkJywgaWQpO1xuXHRcdFx0XHRzZWxmLl9fc2V0QXR0cmlidXRlVmFsdWVPZkVsZW1lbnQoZWwsICdkYXRhLWZpbHRlcl92YWx1ZScsIGlkKTtcblx0XHRcdH0pXG5cdFx0fVxuXHR9LFxufVxuXG5cbkNvQ3JlYXRlTG9naWMuaW5pdCgpO1xuXG5vYnNlcnZlci5pbml0KHsgXG5cdG5hbWU6ICdDb0NyZWF0ZUF0dHJpYnV0ZXMnLCBcblx0b2JzZXJ2ZTogWydzdWJ0cmVlJywgJ2NoaWxkTGlzdCddLFxuXHRpbmNsdWRlOiAnW2RhdGEtZm9yXScsIFxuXHRjYWxsYmFjazogZnVuY3Rpb24obXV0YXRpb24pIHtcblx0XHRDb0NyZWF0ZUxvZ2ljLmF0dHJpYnV0ZXMuaW5pdEVsZW1lbnQobXV0YXRpb24udGFyZ2V0KVxuXHR9XG59KTtcblxub2JzZXJ2ZXIuaW5pdCh7IFxuXHRuYW1lOiAnQ29DcmVhdGVMb2dpYycsIFxuXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0J10sXG5cdGluY2x1ZGU6ICdbZGF0YS1wYXNzX2lkXScsIFxuXHRjYWxsYmFjazogZnVuY3Rpb24obXV0YXRpb24pIHtcblx0XHRDb0NyZWF0ZUxvZ2ljLmluaXRFbGVtZW50KG11dGF0aW9uLnRhcmdldClcblx0fVxufSk7XG5cbmFjdGlvbi5pbml0KHtcblx0YWN0aW9uOiBcInBhc3NWYWx1ZUFjdGlvblwiLFxuXHRlbmRFdmVudDogXCJwYXNzVmFsdWVBY3Rpb25FbmRcIixcblx0Y2FsbGJhY2s6IChidG4sIGRhdGEpID0+IHtcblx0XHRDb0NyZWF0ZUxvZ2ljLnBhc3NQcm9jZXNzQWN0aW9uKGJ0bilcblx0fSxcbn0pXG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlTG9naWM7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@cocreate/logic/src/index.js\n")},"./node_modules/@cocreate/observer/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// window.addEventListener("load", () => {\n\n/*\nCoCreate.observer.init({ \n\tname: \'CoCreateFetchInit\', // no usage, just to provide for console debugging \n\tobserve: [\'subtree\', \'childList\',\'attributes\'], // the same parameters of options in #https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/observe\n\tattributes: [\'data-fetch_collection\'], // it doesn\'t count added nodes or remove nodes\n\tinclude: ".classname", // a selector to select only elements that matches\n\texclude: ".classname", // a selector to exclude elements from processing\n\tcallback: function(mutation) { // a function which gets a mutation object according to #https://developer.mozilla.org/en-US/docs/Web/API/MutationRecord\n\t\tCoCreateFetch.initElement(mutation.target)\n\t}\n})\n*/\n\n\n/**\n * description\n * \n * @param {String} [name] - an optional name to provide for debugging console\n * @param {Array} observe - a list of mutation type to be observerd, a mix of possible `attributes`, `childList` or `subtree`\n * ... and other params can be here \n * \n * @return null\n */\nwindow.profiler = {}\nwindow.counter = 0;\nwindow.counter2 = 0;\nwindow.targets = {};\nwindow.attributeName = {};\nif (!Element.prototype.matches) {\n  Element.prototype.matches =\n    Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    function(s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n        i = matches.length;\n      while (--i >= 0 && matches.item(i) !== this) {}\n      return i > -1;\n    };\n}\n\nconst CoCreateObserver = {\n  initTasks: new Map(),\n  attrTasks: new Map(),\n  rules: new Map(),\n  rulesArray: [],\n\n  __init: function() {\n    const self = this;\n    const observer = new MutationObserver((mutationsList, observer) => self.__callback(mutationsList, observer));\n\n    // setTimeout(()=>{\n    observer.observe(document.body, {\n      attributes: true,\n      childList: true,\n      subtree: true,\n      characterData: false,\n      attributeOldValue: true,\n      characterData: true,\n    });\n  },\n\n  // init: function(data) {\n  //   this.add(data);\n  // },\n\n  init: function({ observe, include, exclude, attributes, name, callback }) {\n    console.log(\' aaaaaaaaaaaaaa observer init \',name)\n\n    // if (name == \'ccAttribute\' || name == \'ccCss\') {\n      if (observe.some(x => x == "childList")) {\n        this.initTasks.set(callback, { observe, include, exclude, attributes, name });\n      }\n\n      if (observe.some(x => x == "attributes")) {\n        this.attrTasks.set(callback, { observe, include, exclude, attributes, name });\n      }\n    // }\n\n  },\n  remove: function(callback) {\n    this.initTasks.delete(callback)\n    this.attrTasks.delete(callback)\n  },\n\n  addRule: function({ include, exclude, name }) {\n    this.rules.set(name, { include, exclude });\n    this.rulesArray = Array.from(this.rules);\n  },\n\n  removeRule: function({ name }) {\n    this.rules.delete(name);\n    this.rulesArray = Array.from(this.rules);\n  },\n\n  __callback: function(mutationsList, observer) {\n    // console.log(this)\n    window.counter++;\n    for (let mutation of mutationsList) {\n      if (mutation.type == "childList" && mutation.addedNodes.length > 0) {\n        //. run init functions\n        this.__initCallback(mutation)\n      }\n\n      if (mutation.type == "attributes") {\n        //. run attributes functions\n        this.__attrCallback(mutation);\n      }\n    }\n  },\n\n  __initCallback: function(mutation) {\n    let addedNodes = Array.from(mutation.addedNodes);\n\n    this.initTasks.forEach(({ observe, include, exclude, attributes, name }, callback) => {\n\n      mutation.addedNodes.forEach((el) => {\n        if (!el.tagName) return;\n\n        if (include && !(el.matches(include) || el.querySelector(include))) {\n          return\n        }\n        if (exclude && (el.matches(exclude) || el.querySelector(exclude))) {\n          return;\n        }\n\n        // if (el.created) return;\n        // window.counter2++;\n        // window.profiler[name] = window.profiler[name] != undefined ? window.profiler[name] + 1 : 0;\n        // window.targets[mutation.target.id || mutation.target.tagName] =\n        //   window.targets[mutation.target.id || mutation.target.tagName] != undefined ?\n        //   window.targets[mutation.target.id || mutation.target.tagName] + 1 :\n        //   0;\n\n        // window.attributeName[mutation.attributeName] =\n        //   window.attributeName[mutation.attributeName] != undefined ?\n        //   window.attributeName[mutation.attributeName] + 1 :\n        //   0;\n        callback.apply(null, [{ type: mutation.type, target: el }]);\n      })\n    });\n\n    // addedNodes.map(el => el.created = true);\n  },\n\n  __attrCallback: function(mutation) {\n    for (let [name, { include, exclude }] of this.rulesArray) {\n      if (include && !mutation.target.matches(include)) return;\n      if (exclude && mutation.target.matches(exclude)) return;\n    }\n    this.attrTasks.forEach(({ observe, include, exclude, attributes, name }, callback) => {\n      if (attributes && mutation.attributeName && !attributes.includes(mutation.attributeName)) {\n        return;\n      }\n      if (include && !mutation.target.matches(include)) return;\n      if (exclude && mutation.target.matches(exclude)) return;\n\n      if (mutation.attributeName) {\n        let newValue = mutation.target.getAttribute(mutation.attributeName);\n        if (newValue != mutation.oldValue) {\n          // window.counter2++;\n          // window.profiler[name] = window.profiler[name] != undefined ? window.profiler[name] + 1 : 0;\n          // window.targets[mutation.target.id || mutation.target.tagName] =\n          //   window.targets[mutation.target.id || mutation.target.tagName] != undefined ?\n          //   window.targets[mutation.target.id || mutation.target.tagName] + 1 :\n          //   0;\n\n          // window.attributeName[mutation.attributeName] =\n          //   window.attributeName[mutation.attributeName] != undefined ?\n          //   window.attributeName[mutation.attributeName] + 1 :\n          //   0;\n          callback.apply(null, [mutation]);\n        }\n      }\n\n    })\n  },\n\n  setInitialized: function(element, type) {\n    // element.setAttribute(`initialized_${type}`, "true");\n    type = type || "";\n    let key = "co_initialized_" + type;\n    element[key] = true;\n  },\n\n  getInitialized: function(element, type) {\n    type = type || "";\n    let key = "co_initialized_" + type;\n    if (!element[key]) {\n      return false;\n    }\n    else {\n      return true;\n    }\n  }\n}\n\nCoCreateObserver.__init();\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CoCreateObserver);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mdWxsY2FsZW5kYXIvLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL29ic2VydmVyL3NyYy9pbmRleC5qcz9lZDJhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFFQTtBQUNBLHdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQSxNQUFNOztBQUVOLGtCQUFrQix3REFBd0Q7QUFDMUU7O0FBRUE7QUFDQTtBQUNBLHNDQUFzQyw4Q0FBOEM7QUFDcEY7O0FBRUE7QUFDQSxzQ0FBc0MsOENBQThDO0FBQ3BGO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgscUJBQXFCLHlCQUF5QjtBQUM5QywwQkFBMEIsbUJBQW1CO0FBQzdDO0FBQ0EsR0FBRzs7QUFFSCx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUEsNkJBQTZCLDhDQUE4Qzs7QUFFM0U7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isa0NBQWtDO0FBQ2pFLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLHFCQUFxQixtQkFBbUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDhDQUE4QztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBLDJDQUEyQyxLQUFLO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0EsaUVBQWUsZ0JBQWdCLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL29ic2VydmVyL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG5cbi8qXG5Db0NyZWF0ZS5vYnNlcnZlci5pbml0KHsgXG5cdG5hbWU6ICdDb0NyZWF0ZUZldGNoSW5pdCcsIC8vIG5vIHVzYWdlLCBqdXN0IHRvIHByb3ZpZGUgZm9yIGNvbnNvbGUgZGVidWdnaW5nIFxuXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0JywnYXR0cmlidXRlcyddLCAvLyB0aGUgc2FtZSBwYXJhbWV0ZXJzIG9mIG9wdGlvbnMgaW4gI2h0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NdXRhdGlvbk9ic2VydmVyL29ic2VydmVcblx0YXR0cmlidXRlczogWydkYXRhLWZldGNoX2NvbGxlY3Rpb24nXSwgLy8gaXQgZG9lc24ndCBjb3VudCBhZGRlZCBub2RlcyBvciByZW1vdmUgbm9kZXNcblx0aW5jbHVkZTogXCIuY2xhc3NuYW1lXCIsIC8vIGEgc2VsZWN0b3IgdG8gc2VsZWN0IG9ubHkgZWxlbWVudHMgdGhhdCBtYXRjaGVzXG5cdGV4Y2x1ZGU6IFwiLmNsYXNzbmFtZVwiLCAvLyBhIHNlbGVjdG9yIHRvIGV4Y2x1ZGUgZWxlbWVudHMgZnJvbSBwcm9jZXNzaW5nXG5cdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikgeyAvLyBhIGZ1bmN0aW9uIHdoaWNoIGdldHMgYSBtdXRhdGlvbiBvYmplY3QgYWNjb3JkaW5nIHRvICNodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTXV0YXRpb25SZWNvcmRcblx0XHRDb0NyZWF0ZUZldGNoLmluaXRFbGVtZW50KG11dGF0aW9uLnRhcmdldClcblx0fVxufSlcbiovXG5cblxuLyoqXG4gKiBkZXNjcmlwdGlvblxuICogXG4gKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gYW4gb3B0aW9uYWwgbmFtZSB0byBwcm92aWRlIGZvciBkZWJ1Z2dpbmcgY29uc29sZVxuICogQHBhcmFtIHtBcnJheX0gb2JzZXJ2ZSAtIGEgbGlzdCBvZiBtdXRhdGlvbiB0eXBlIHRvIGJlIG9ic2VydmVyZCwgYSBtaXggb2YgcG9zc2libGUgYGF0dHJpYnV0ZXNgLCBgY2hpbGRMaXN0YCBvciBgc3VidHJlZWBcbiAqIC4uLiBhbmQgb3RoZXIgcGFyYW1zIGNhbiBiZSBoZXJlIFxuICogXG4gKiBAcmV0dXJuIG51bGxcbiAqL1xud2luZG93LnByb2ZpbGVyID0ge31cbndpbmRvdy5jb3VudGVyID0gMDtcbndpbmRvdy5jb3VudGVyMiA9IDA7XG53aW5kb3cudGFyZ2V0cyA9IHt9O1xud2luZG93LmF0dHJpYnV0ZU5hbWUgPSB7fTtcbmlmICghRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID1cbiAgICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fFxuICAgIEVsZW1lbnQucHJvdG90eXBlLm9NYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBmdW5jdGlvbihzKSB7XG4gICAgICB2YXIgbWF0Y2hlcyA9ICh0aGlzLmRvY3VtZW50IHx8IHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzKSxcbiAgICAgICAgaSA9IG1hdGNoZXMubGVuZ3RoO1xuICAgICAgd2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cbiAgICAgIHJldHVybiBpID4gLTE7XG4gICAgfTtcbn1cblxuY29uc3QgQ29DcmVhdGVPYnNlcnZlciA9IHtcbiAgaW5pdFRhc2tzOiBuZXcgTWFwKCksXG4gIGF0dHJUYXNrczogbmV3IE1hcCgpLFxuICBydWxlczogbmV3IE1hcCgpLFxuICBydWxlc0FycmF5OiBbXSxcblxuICBfX2luaXQ6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiBzZWxmLl9fY2FsbGJhY2sobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpKTtcblxuICAgIC8vIHNldFRpbWVvdXQoKCk9PntcbiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogZmFsc2UsXG4gICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgfSk7XG4gIH0sXG5cbiAgLy8gaW5pdDogZnVuY3Rpb24oZGF0YSkge1xuICAvLyAgIHRoaXMuYWRkKGRhdGEpO1xuICAvLyB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uKHsgb2JzZXJ2ZSwgaW5jbHVkZSwgZXhjbHVkZSwgYXR0cmlidXRlcywgbmFtZSwgY2FsbGJhY2sgfSkge1xuICAgIGNvbnNvbGUubG9nKCcgYWFhYWFhYWFhYWFhYWEgb2JzZXJ2ZXIgaW5pdCAnLG5hbWUpXG5cbiAgICAvLyBpZiAobmFtZSA9PSAnY2NBdHRyaWJ1dGUnIHx8IG5hbWUgPT0gJ2NjQ3NzJykge1xuICAgICAgaWYgKG9ic2VydmUuc29tZSh4ID0+IHggPT0gXCJjaGlsZExpc3RcIikpIHtcbiAgICAgICAgdGhpcy5pbml0VGFza3Muc2V0KGNhbGxiYWNrLCB7IG9ic2VydmUsIGluY2x1ZGUsIGV4Y2x1ZGUsIGF0dHJpYnV0ZXMsIG5hbWUgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvYnNlcnZlLnNvbWUoeCA9PiB4ID09IFwiYXR0cmlidXRlc1wiKSkge1xuICAgICAgICB0aGlzLmF0dHJUYXNrcy5zZXQoY2FsbGJhY2ssIHsgb2JzZXJ2ZSwgaW5jbHVkZSwgZXhjbHVkZSwgYXR0cmlidXRlcywgbmFtZSB9KTtcbiAgICAgIH1cbiAgICAvLyB9XG5cbiAgfSxcbiAgcmVtb3ZlOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMuaW5pdFRhc2tzLmRlbGV0ZShjYWxsYmFjaylcbiAgICB0aGlzLmF0dHJUYXNrcy5kZWxldGUoY2FsbGJhY2spXG4gIH0sXG5cbiAgYWRkUnVsZTogZnVuY3Rpb24oeyBpbmNsdWRlLCBleGNsdWRlLCBuYW1lIH0pIHtcbiAgICB0aGlzLnJ1bGVzLnNldChuYW1lLCB7IGluY2x1ZGUsIGV4Y2x1ZGUgfSk7XG4gICAgdGhpcy5ydWxlc0FycmF5ID0gQXJyYXkuZnJvbSh0aGlzLnJ1bGVzKTtcbiAgfSxcblxuICByZW1vdmVSdWxlOiBmdW5jdGlvbih7IG5hbWUgfSkge1xuICAgIHRoaXMucnVsZXMuZGVsZXRlKG5hbWUpO1xuICAgIHRoaXMucnVsZXNBcnJheSA9IEFycmF5LmZyb20odGhpcy5ydWxlcyk7XG4gIH0sXG5cbiAgX19jYWxsYmFjazogZnVuY3Rpb24obXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpIHtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzKVxuICAgIHdpbmRvdy5jb3VudGVyKys7XG4gICAgZm9yIChsZXQgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkge1xuICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT0gXCJjaGlsZExpc3RcIiAmJiBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8uIHJ1biBpbml0IGZ1bmN0aW9uc1xuICAgICAgICB0aGlzLl9faW5pdENhbGxiYWNrKG11dGF0aW9uKVxuICAgICAgfVxuXG4gICAgICBpZiAobXV0YXRpb24udHlwZSA9PSBcImF0dHJpYnV0ZXNcIikge1xuICAgICAgICAvLy4gcnVuIGF0dHJpYnV0ZXMgZnVuY3Rpb25zXG4gICAgICAgIHRoaXMuX19hdHRyQ2FsbGJhY2sobXV0YXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBfX2luaXRDYWxsYmFjazogZnVuY3Rpb24obXV0YXRpb24pIHtcbiAgICBsZXQgYWRkZWROb2RlcyA9IEFycmF5LmZyb20obXV0YXRpb24uYWRkZWROb2Rlcyk7XG5cbiAgICB0aGlzLmluaXRUYXNrcy5mb3JFYWNoKCh7IG9ic2VydmUsIGluY2x1ZGUsIGV4Y2x1ZGUsIGF0dHJpYnV0ZXMsIG5hbWUgfSwgY2FsbGJhY2spID0+IHtcblxuICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBpZiAoIWVsLnRhZ05hbWUpIHJldHVybjtcblxuICAgICAgICBpZiAoaW5jbHVkZSAmJiAhKGVsLm1hdGNoZXMoaW5jbHVkZSkgfHwgZWwucXVlcnlTZWxlY3RvcihpbmNsdWRlKSkpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhjbHVkZSAmJiAoZWwubWF0Y2hlcyhleGNsdWRlKSB8fCBlbC5xdWVyeVNlbGVjdG9yKGV4Y2x1ZGUpKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIChlbC5jcmVhdGVkKSByZXR1cm47XG4gICAgICAgIC8vIHdpbmRvdy5jb3VudGVyMisrO1xuICAgICAgICAvLyB3aW5kb3cucHJvZmlsZXJbbmFtZV0gPSB3aW5kb3cucHJvZmlsZXJbbmFtZV0gIT0gdW5kZWZpbmVkID8gd2luZG93LnByb2ZpbGVyW25hbWVdICsgMSA6IDA7XG4gICAgICAgIC8vIHdpbmRvdy50YXJnZXRzW211dGF0aW9uLnRhcmdldC5pZCB8fCBtdXRhdGlvbi50YXJnZXQudGFnTmFtZV0gPVxuICAgICAgICAvLyAgIHdpbmRvdy50YXJnZXRzW211dGF0aW9uLnRhcmdldC5pZCB8fCBtdXRhdGlvbi50YXJnZXQudGFnTmFtZV0gIT0gdW5kZWZpbmVkID9cbiAgICAgICAgLy8gICB3aW5kb3cudGFyZ2V0c1ttdXRhdGlvbi50YXJnZXQuaWQgfHwgbXV0YXRpb24udGFyZ2V0LnRhZ05hbWVdICsgMSA6XG4gICAgICAgIC8vICAgMDtcblxuICAgICAgICAvLyB3aW5kb3cuYXR0cmlidXRlTmFtZVttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSA9XG4gICAgICAgIC8vICAgd2luZG93LmF0dHJpYnV0ZU5hbWVbbXV0YXRpb24uYXR0cmlidXRlTmFtZV0gIT0gdW5kZWZpbmVkID9cbiAgICAgICAgLy8gICB3aW5kb3cuYXR0cmlidXRlTmFtZVttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSArIDEgOlxuICAgICAgICAvLyAgIDA7XG4gICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIFt7IHR5cGU6IG11dGF0aW9uLnR5cGUsIHRhcmdldDogZWwgfV0pO1xuICAgICAgfSlcbiAgICB9KTtcblxuICAgIC8vIGFkZGVkTm9kZXMubWFwKGVsID0+IGVsLmNyZWF0ZWQgPSB0cnVlKTtcbiAgfSxcblxuICBfX2F0dHJDYWxsYmFjazogZnVuY3Rpb24obXV0YXRpb24pIHtcbiAgICBmb3IgKGxldCBbbmFtZSwgeyBpbmNsdWRlLCBleGNsdWRlIH1dIG9mIHRoaXMucnVsZXNBcnJheSkge1xuICAgICAgaWYgKGluY2x1ZGUgJiYgIW11dGF0aW9uLnRhcmdldC5tYXRjaGVzKGluY2x1ZGUpKSByZXR1cm47XG4gICAgICBpZiAoZXhjbHVkZSAmJiBtdXRhdGlvbi50YXJnZXQubWF0Y2hlcyhleGNsdWRlKSkgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmF0dHJUYXNrcy5mb3JFYWNoKCh7IG9ic2VydmUsIGluY2x1ZGUsIGV4Y2x1ZGUsIGF0dHJpYnV0ZXMsIG5hbWUgfSwgY2FsbGJhY2spID0+IHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzICYmIG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgJiYgIWF0dHJpYnV0ZXMuaW5jbHVkZXMobXV0YXRpb24uYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGluY2x1ZGUgJiYgIW11dGF0aW9uLnRhcmdldC5tYXRjaGVzKGluY2x1ZGUpKSByZXR1cm47XG4gICAgICBpZiAoZXhjbHVkZSAmJiBtdXRhdGlvbi50YXJnZXQubWF0Y2hlcyhleGNsdWRlKSkgcmV0dXJuO1xuXG4gICAgICBpZiAobXV0YXRpb24uYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBsZXQgbmV3VmFsdWUgPSBtdXRhdGlvbi50YXJnZXQuZ2V0QXR0cmlidXRlKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAobmV3VmFsdWUgIT0gbXV0YXRpb24ub2xkVmFsdWUpIHtcbiAgICAgICAgICAvLyB3aW5kb3cuY291bnRlcjIrKztcbiAgICAgICAgICAvLyB3aW5kb3cucHJvZmlsZXJbbmFtZV0gPSB3aW5kb3cucHJvZmlsZXJbbmFtZV0gIT0gdW5kZWZpbmVkID8gd2luZG93LnByb2ZpbGVyW25hbWVdICsgMSA6IDA7XG4gICAgICAgICAgLy8gd2luZG93LnRhcmdldHNbbXV0YXRpb24udGFyZ2V0LmlkIHx8IG11dGF0aW9uLnRhcmdldC50YWdOYW1lXSA9XG4gICAgICAgICAgLy8gICB3aW5kb3cudGFyZ2V0c1ttdXRhdGlvbi50YXJnZXQuaWQgfHwgbXV0YXRpb24udGFyZ2V0LnRhZ05hbWVdICE9IHVuZGVmaW5lZCA/XG4gICAgICAgICAgLy8gICB3aW5kb3cudGFyZ2V0c1ttdXRhdGlvbi50YXJnZXQuaWQgfHwgbXV0YXRpb24udGFyZ2V0LnRhZ05hbWVdICsgMSA6XG4gICAgICAgICAgLy8gICAwO1xuXG4gICAgICAgICAgLy8gd2luZG93LmF0dHJpYnV0ZU5hbWVbbXV0YXRpb24uYXR0cmlidXRlTmFtZV0gPVxuICAgICAgICAgIC8vICAgd2luZG93LmF0dHJpYnV0ZU5hbWVbbXV0YXRpb24uYXR0cmlidXRlTmFtZV0gIT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAvLyAgIHdpbmRvdy5hdHRyaWJ1dGVOYW1lW211dGF0aW9uLmF0dHJpYnV0ZU5hbWVdICsgMSA6XG4gICAgICAgICAgLy8gICAwO1xuICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIFttdXRhdGlvbl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9KVxuICB9LFxuXG4gIHNldEluaXRpYWxpemVkOiBmdW5jdGlvbihlbGVtZW50LCB0eXBlKSB7XG4gICAgLy8gZWxlbWVudC5zZXRBdHRyaWJ1dGUoYGluaXRpYWxpemVkXyR7dHlwZX1gLCBcInRydWVcIik7XG4gICAgdHlwZSA9IHR5cGUgfHwgXCJcIjtcbiAgICBsZXQga2V5ID0gXCJjb19pbml0aWFsaXplZF9cIiArIHR5cGU7XG4gICAgZWxlbWVudFtrZXldID0gdHJ1ZTtcbiAgfSxcblxuICBnZXRJbml0aWFsaXplZDogZnVuY3Rpb24oZWxlbWVudCwgdHlwZSkge1xuICAgIHR5cGUgPSB0eXBlIHx8IFwiXCI7XG4gICAgbGV0IGtleSA9IFwiY29faW5pdGlhbGl6ZWRfXCIgKyB0eXBlO1xuICAgIGlmICghZWxlbWVudFtrZXldKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG59XG5cbkNvQ3JlYXRlT2JzZXJ2ZXIuX19pbml0KCk7XG5cblxuZXhwb3J0IGRlZmF1bHQgQ29DcmVhdGVPYnNlcnZlcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cocreate/observer/src/index.js\n')},"./node_modules/@cocreate/socket-client/src/common-fun.js":function(module,exports){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {\n    if (true) {\n        // AMD. Register as an anonymous module.\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n        \treturn factory(window)\n        }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n}(typeof self !== \'undefined\' ? self : this, function (wnd) {\n  function getCommonParams() \n  {\n    let config = {};\n    if (wnd && wnd.config) {\n      config = wnd.config\n    }\n    \n    return {\n      "apiKey":           config.apiKey,\n      "securityKey":      config.securityKey,\n      "organization_id":  config.organization_Id,\n    }\n  }\n  \n  function getCommonParamsExtend(info) \n  {\n    let config = {};\n    if (wnd && wnd.config) config = wnd.config\n    \n    return {\n      "apiKey":           info.apiKey || config.apiKey,\n      "securityKey":      info.securityKey || config.securityKey,\n      "organization_id":  info.organization_id || config.organization_Id,\n    }\n  }\n  \n  function generateSocketClient (namespace, room) \n  {\n    let config = {};\n    if (wnd && wnd.config) config = wnd.config\n    \n    let ns = namespace || config.organization_Id\n    let rr = room || \'\';\n    if (rr) {\n      return `${ns}/${rr}`\n    } else {\n      return ns;\n    }\n  }\n  \n  function GenerateUUID(length = 36) {\n    let d = new Date().getTime();\n    let d2 = 0;\n    let pattern = "uxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";\n  \n    if (length <= pattern.length) {\n      pattern = pattern.substr(0, length);\n    } else {\n      let add_len = length - pattern.length;\n      let sub_pattern = "-xxxyyxxx";\n  \n      let group_n = Math.floor(add_len / sub_pattern.length);\n  \n      for (let i = 0; i < group_n; i++) {\n        pattern += sub_pattern;\n      }\n  \n      group_n = add_len - group_n * sub_pattern.length;\n      pattern += sub_pattern.substr(0, group_n);\n    }\n  \n    let uuid = pattern.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16;\n      if (d > 0) {\n        var r = (d + r) % 16 | 0;\n        d = Math.floor(d / 16);\n      } else {\n        var r = (d2 + r) % 16 | 0;\n        d2 = Math.floor(d2 / 16);\n      }\n      return (c == "x" ? r : (r & 0x7) | 0x8).toString(16);\n    });\n    return uuid;\n  }\n  \n  return {getCommonParams, getCommonParamsExtend, generateSocketClient, GenerateUUID};\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mdWxsY2FsZW5kYXIvLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL3NvY2tldC1jbGllbnQvc3JjL2NvbW1vbi1mdW4uanM/NjkxMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLFFBQVEsSUFBMEM7QUFDbEQ7QUFDQSxRQUFRLGlDQUFPLEVBQUUsbUNBQUU7QUFDbkI7QUFDQSxTQUFTO0FBQUEsa0dBQUM7QUFDVixLQUFLLE1BQU0sRUFRUjtBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsR0FBRyxHQUFHLEdBQUc7QUFDekIsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUEscUJBQXFCLGFBQWE7QUFDbEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBLFVBQVU7QUFDVixDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9zb2NrZXQtY2xpZW50L3NyYy9jb21tb24tZnVuLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIFx0cmV0dXJuIGZhY3Rvcnkod2luZG93KVxuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAgICAgLy8gbGlrZSBOb2RlLlxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkobnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5yZXR1cm5FeHBvcnRzID0gZmFjdG9yeSh3aW5kb3cpO1xuICB9XG59KHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAod25kKSB7XG4gIGZ1bmN0aW9uIGdldENvbW1vblBhcmFtcygpIFxuICB7XG4gICAgbGV0IGNvbmZpZyA9IHt9O1xuICAgIGlmICh3bmQgJiYgd25kLmNvbmZpZykge1xuICAgICAgY29uZmlnID0gd25kLmNvbmZpZ1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgXCJhcGlLZXlcIjogICAgICAgICAgIGNvbmZpZy5hcGlLZXksXG4gICAgICBcInNlY3VyaXR5S2V5XCI6ICAgICAgY29uZmlnLnNlY3VyaXR5S2V5LFxuICAgICAgXCJvcmdhbml6YXRpb25faWRcIjogIGNvbmZpZy5vcmdhbml6YXRpb25fSWQsXG4gICAgfVxuICB9XG4gIFxuICBmdW5jdGlvbiBnZXRDb21tb25QYXJhbXNFeHRlbmQoaW5mbykgXG4gIHtcbiAgICBsZXQgY29uZmlnID0ge307XG4gICAgaWYgKHduZCAmJiB3bmQuY29uZmlnKSBjb25maWcgPSB3bmQuY29uZmlnXG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIFwiYXBpS2V5XCI6ICAgICAgICAgICBpbmZvLmFwaUtleSB8fCBjb25maWcuYXBpS2V5LFxuICAgICAgXCJzZWN1cml0eUtleVwiOiAgICAgIGluZm8uc2VjdXJpdHlLZXkgfHwgY29uZmlnLnNlY3VyaXR5S2V5LFxuICAgICAgXCJvcmdhbml6YXRpb25faWRcIjogIGluZm8ub3JnYW5pemF0aW9uX2lkIHx8IGNvbmZpZy5vcmdhbml6YXRpb25fSWQsXG4gICAgfVxuICB9XG4gIFxuICBmdW5jdGlvbiBnZW5lcmF0ZVNvY2tldENsaWVudCAobmFtZXNwYWNlLCByb29tKSBcbiAge1xuICAgIGxldCBjb25maWcgPSB7fTtcbiAgICBpZiAod25kICYmIHduZC5jb25maWcpIGNvbmZpZyA9IHduZC5jb25maWdcbiAgICBcbiAgICBsZXQgbnMgPSBuYW1lc3BhY2UgfHwgY29uZmlnLm9yZ2FuaXphdGlvbl9JZFxuICAgIGxldCByciA9IHJvb20gfHwgJyc7XG4gICAgaWYgKHJyKSB7XG4gICAgICByZXR1cm4gYCR7bnN9LyR7cnJ9YFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnM7XG4gICAgfVxuICB9XG4gIFxuICBmdW5jdGlvbiBHZW5lcmF0ZVVVSUQobGVuZ3RoID0gMzYpIHtcbiAgICBsZXQgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGxldCBkMiA9IDA7XG4gICAgbGV0IHBhdHRlcm4gPSBcInV4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiO1xuICBcbiAgICBpZiAobGVuZ3RoIDw9IHBhdHRlcm4ubGVuZ3RoKSB7XG4gICAgICBwYXR0ZXJuID0gcGF0dGVybi5zdWJzdHIoMCwgbGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGFkZF9sZW4gPSBsZW5ndGggLSBwYXR0ZXJuLmxlbmd0aDtcbiAgICAgIGxldCBzdWJfcGF0dGVybiA9IFwiLXh4eHl5eHh4XCI7XG4gIFxuICAgICAgbGV0IGdyb3VwX24gPSBNYXRoLmZsb29yKGFkZF9sZW4gLyBzdWJfcGF0dGVybi5sZW5ndGgpO1xuICBcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBfbjsgaSsrKSB7XG4gICAgICAgIHBhdHRlcm4gKz0gc3ViX3BhdHRlcm47XG4gICAgICB9XG4gIFxuICAgICAgZ3JvdXBfbiA9IGFkZF9sZW4gLSBncm91cF9uICogc3ViX3BhdHRlcm4ubGVuZ3RoO1xuICAgICAgcGF0dGVybiArPSBzdWJfcGF0dGVybi5zdWJzdHIoMCwgZ3JvdXBfbik7XG4gICAgfVxuICBcbiAgICBsZXQgdXVpZCA9IHBhdHRlcm4ucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpICogMTY7XG4gICAgICBpZiAoZCA+IDApIHtcbiAgICAgICAgdmFyIHIgPSAoZCArIHIpICUgMTYgfCAwO1xuICAgICAgICBkID0gTWF0aC5mbG9vcihkIC8gMTYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHIgPSAoZDIgKyByKSAlIDE2IHwgMDtcbiAgICAgICAgZDIgPSBNYXRoLmZsb29yKGQyIC8gMTYpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChjID09IFwieFwiID8gciA6IChyICYgMHg3KSB8IDB4OCkudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xuICAgIHJldHVybiB1dWlkO1xuICB9XG4gIFxuICByZXR1cm4ge2dldENvbW1vblBhcmFtcywgZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kLCBnZW5lcmF0ZVNvY2tldENsaWVudCwgR2VuZXJhdGVVVUlEfTtcbn0pKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cocreate/socket-client/src/common-fun.js\n')},"./node_modules/@cocreate/socket-client/src/index.js":function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n(function (root, factory) {\n    if (true) {\n        // AMD. Register as an anonymous module.\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./common-fun.js */ \"./node_modules/@cocreate/socket-client/src/common-fun.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(commonFunc) {\n        \treturn factory(commonFunc, window, WebSocket, Blob)\n        }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n}(typeof self !== 'undefined' ? self : this, function (commonFunc, wnd, WebSocket, Blob) {\n\n    class CoCreateSocketClient\n\t{\n\t\tconstructor(prefix = \"crud\") {\n\t\t\tthis.prefix = prefix || \"crud\";\n\t\t\tthis.sockets = new Map();\n\t\t\tthis.listeners = new Map();\n\t\t\tthis.messageQueue =  new Map();\n\t\t\tthis.saveFileName =  '';\n\t\t\tthis.globalScope =  \"\";\n\t\t}\n\t\n\t\tsetGlobalScope(scope) {\n\t\t\tthis.globalScope = `${this.prefix}/${scope}`;\n\t\t}\n\t\t\n\t\tgetGlobalScope() {\n\t\t\treturn this.globalScope;\n\t\t}\n\t\t\n\t\t/**\n\t\t * config: {namespace, room, host}\n\t\t */\n\t\tcreate (config) {\n\t\t\t\n\t\t\tconst {namespace, room} = config;\n\t\t\tconst key = this.getKey(namespace, room);\n\t\t\tlet _this = this;\n\t\t\tif (namespace) {\n\t\t\t\tthis.setGlobalScope(namespace)\n\t\t\t}\n\t\t\t\n\t\t\tlet socket;\n\t\t\tif (this.sockets.get(key)) {\n\t\t\t\tsocket = this.sockets.get(key);\n\t\t\t\tconsole.log('SOcket already has been register');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tlet w_protocol = wnd.location.protocol;\t\t\n\t\t\tif (wnd.location.protocol === \"about:\") {\n\t\t\t\tw_protocol = wnd.parent.location.protocol;\n\t\t\t\tif (!config.host) {\n\t\t\t\t\tconfig.host = wnd.parent.location.host;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet protocol = w_protocol === 'http:' ? 'ws' : 'wss';\n\t\t\t\n\t\t\tconst port = config.port ? config.port : 8088;\n\t\t\t\n\t\t\tlet socket_url = `${protocol}://${wnd.location.host}:${port}/${key}`;\n\t\t\t\n\t\t\tif (config.host) {\n\t\t\t\tif (config.host.includes(\"://\")) {\n\t\t\t\t\tsocket_url = `${config.host}/${key}`;\n\t\t\t\t} else {\n\t\t\t\t\tif (config.host.includes(\":\")) {\n\t\t\t\t\t\tsocket_url = `${protocol}://${config.host}/${key}`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsocket_url = `${protocol}://${config.host}:${port}/${key}`;\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tsocket = new WebSocket(socket_url);\n\t\t\t} catch(error) {\n\t\t\t\tconsole.log(error)\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsocket.onopen = function(event) {\n\t\t\t\tconst messages = _this.messageQueue.get(key) || [];\n\t\t\t\tmessages.forEach(msg => socket.send(JSON.stringify(msg)));\n\t\t\t\t\n\t\t\t\t_this.sockets.set(key, socket);\n\t\t\t\t_this.messageQueue.set(key, []);\n\t\t\t}\n\t\t\t\n\t\t\tsocket.onclose = function(event) {\n\t\t\t\tswitch(event.code) {\n\t\t\t\t\tcase 1000: // close normal\n\t\t\t\t\t\tconsole.log(\"websocket: closed\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault: \n\t\t\t\t\t\t_this.destroy(socket, key);\n\t\t\t\t\t\t_this.reconnect(socket, config);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tsocket.onerror = function(err) {\n\t\t\t\t_this.destroy(socket, key);\n\t\t\t\t_this.reconnect(socket, config);\n\t\t\t}\n\t\n\t\t\tsocket.onmessage = function(data) {\n\t\t\t\ttry {\n\t\t\t\t\tif (wnd.Blob) {\n\t\t\t\t\t\tif (data.data instanceof Blob) {\n\t\t\t\t\t\t\t_this.saveFile(data.data);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet rev_data = JSON.parse(data.data);\n\n\t\t\t\t\tif (rev_data.data.event) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (wnd.CustomEvent) {\n\t\t\t\t\t\t\tvar event = new wnd.CustomEvent(rev_data.data.event, {\n\t\t\t\t\t\t\t\tdetail: rev_data.data\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\twnd.document.dispatchEvent(event);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tprocess.emit(rev_data.data.event, rev_data.data)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\tlet action = rev_data.action;\n\t\t\t\t\tconst listeners = _this.listeners.get(rev_data.action);\n\t\t\t\t\tif (!listeners) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlisteners.forEach(listener => {\n\t\t\t\t\t\tlistener(rev_data.data, key);\n\t\t\t\t\t})\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t/**\n\t\t * \n\t\t */\n\t\tsend (action, data, room) {\n\t\t\tconst obj = {\n\t\t\t\taction: action,\n\t\t\t\tdata: {...data, uid: commonFunc.GenerateUUID()}\n\t\t\t}\n\t\t\tconst key = this.getKeyByRoom(room);\n\t\t\tconst socket = this.getByRoom(room);\n\n\t\t\tif (socket) {\n\t\t\t\tsocket.send(JSON.stringify(obj));\n\t\t\t} else {\n\t\t\t\tif (this.messageQueue.get(key)) {\n\t\t\t\t\tthis.messageQueue.get(key).push(obj);\n\t\t\t\t} else {\n\t\t\t\t\tthis.messageQueue.set(key, [obj]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tsendFile (file, room) {\n\t\t\tconst socket = this.getByRoom(room);\n\t\t\tif (socket) {\n\t\t\t\tsocket.send(file);\n\t\t\t}\n\t\t}\n\t\n\t\t/**\n\t\t * scope: ns/room\n\t\t */\n\t\tlisten(type, callback) {\n\t\t\tif (!this.listeners.get(type)) {\n\t\t\t\tthis.listeners.set(type, [callback]);\n\t\t\t} else {\n\t\t\t\tthis.listeners.get(type).push(callback);\n\t\t\t}\n\t\t}\n\t\t\n\t\treconnect(socket, config) {\n\t\t\tlet _this = this;\n\t\t\tsetTimeout(function() {\n\t\t\t\t_this.create(config);\n\t\t\t}, 1000)\n\t\t}\n\t\t\n\t\tdestroy(socket, key) {\n\t\t\tif (socket) {\n\t\t\t\tsocket.onerror = socket.onopen = socket.onclose = null;\n\t\t\t\tsocket.close();\n\t\t\t\tsocket = null;\n\t\t\t}\n\t\t\t\n\t\t\tif (this.sockets.get(key)) {\n\t\t\t\tthis.sockets.delete(key);\n\t\t\t}\n\t\t}\n\t\t\n\t\tdestroyByKey(key) {\n\t\t\tlet socket = this.sockets.get(key) \n\t\t\tif (socket) {\n\t\t\t\tthis.destroy(socket, key);\n\t\t\t}\n\t\t}\n\t\t\n\t\tgetKey(namespace, room) {\n\t\t\tlet key = `${this.prefix}`;\n\t\t\tif (namespace && namespace != '') {\n\t\t\t\tif (room &&  room != '') {\n\t\t\t\t\tkey += `/${namespace}/${room}`;\n\t\t\t\t} else {\n\t\t\t\t\tkey +=`/${namespace}`;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn key;\n\t\t}\n\t\t\n\t\tgetByRoom(room) {\n\t\t\tlet key = this.getKeyByRoom(room)\n\t\t\treturn this.sockets.get(key);\t\n\t\t}\n\t\t\n\t\tgetKeyByRoom(room) {\n\t\t\tlet key = this.globalScope;\n\t\t\tif (room) {\n\t\t\t\tkey = `${this.prefix}/${room}`;\n\t\t\t}\n\t\t\treturn key;\t\t\n\t\t}\n\t\t\n\t\t\n\t\tsaveFile(blob) {\n\t\t\tif (wnd.document) {\n\t\t\t\tconst file_name = this.saveFileName || 'downloadFile';\n\t\t\t\tvar a = wnd.document.createElement(\"a\");\n\t\t        wnd.document.body.appendChild(a);\n\t\t        a.style = \"display: none\";\n\t\t\n\t\t        let url = window.URL.createObjectURL(blob);\n\t\t        a.href = url;\n\t\t        a.download = file_name;\n\t\t        a.click();\n\t\t        wnd.URL.revokeObjectURL(url);\n\t\t\n\t\t        this.saveFileName = ''\n\t\t\t}\n\t\t}\n\t\t\n\t\tlistenAsync(eventname) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tif (wnd.document) { //. browser case\n\t\t\t\t\twnd.document.addEventListener(eventname, function(event) {\n\t\t\t\t\t    resolve(event.detail);\n\t\t\t\t\t}, { once: true })\n\t\t\t\t} else { //. node case\n\t\t\t\t\tprocess.once(eventname, (data) => {\n\t\t\t\t\t\tresolve(data)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n    return CoCreateSocketClient\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mdWxsY2FsZW5kYXIvLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL3NvY2tldC1jbGllbnQvc3JjL2luZGV4LmpzP2E5MDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQTtBQUNBLFFBQVEsSUFBMEM7QUFDbEQ7QUFDQSxRQUFRLGlDQUFPLENBQUMsc0dBQWlCLENBQUMsbUNBQUU7QUFDcEM7QUFDQSxTQUFTO0FBQUEsa0dBQUM7QUFDVixLQUFLLE1BQU0sRUFZUjtBQUNILENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUIsWUFBWSxHQUFHLE1BQU07QUFDOUM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUEsVUFBVSxnQkFBZ0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx1QkFBdUIsU0FBUyxLQUFLLGtCQUFrQixHQUFHLEtBQUssR0FBRyxJQUFJOztBQUV0RTtBQUNBO0FBQ0EscUJBQXFCLFlBQVksR0FBRyxJQUFJO0FBQ3hDLEtBQUs7QUFDTDtBQUNBLHNCQUFzQixTQUFTLEtBQUssWUFBWSxHQUFHLElBQUk7QUFDdkQsTUFBTTtBQUNOLHNCQUFzQixTQUFTLEtBQUssWUFBWSxHQUFHLEtBQUssR0FBRyxJQUFJLEU7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixZQUFZO0FBQzVCO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVSxHQUFHLEtBQUs7QUFDbEMsS0FBSztBQUNMLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFlBQVksR0FBRyxLQUFLO0FBQ2pDO0FBQ0EsYztBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EsTUFBTSxHQUFHLGFBQWE7QUFDdEIsS0FBSyxPQUFPO0FBQ1o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS9zb2NrZXQtY2xpZW50L3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKFsnLi9jb21tb24tZnVuLmpzJ10sIGZ1bmN0aW9uKGNvbW1vbkZ1bmMpIHtcbiAgICAgICAgXHRyZXR1cm4gZmFjdG9yeShjb21tb25GdW5jLCB3aW5kb3csIFdlYlNvY2tldCwgQmxvYilcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBsZXQgd25kT2JqID0ge1xuICAgICAgICBcdGxvY2F0aW9uOiB7XG4gICAgICAgIFx0XHRwcm90b2NvbDogXCJcIlxuICAgICAgICBcdH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3cyA9IHJlcXVpcmUoXCJ3c1wiKVxuICAgICAgICBjb25zdCBjb21tb25GdW5jID0gcmVxdWlyZShcIi4vY29tbW9uLWZ1bi5qc1wiKVxuICAgIFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KGNvbW1vbkZ1bmMsIHduZE9iaiwgd3MsIG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QucmV0dXJuRXhwb3J0cyA9IGZhY3Rvcnkocm9vdFtcIi4vY29tbW9uLWZ1bi5qc1wiXSwgd2luZG93LCBXZWJTb2NrZXQsIEJsb2IpO1xuICB9XG59KHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAoY29tbW9uRnVuYywgd25kLCBXZWJTb2NrZXQsIEJsb2IpIHtcblxuICAgIGNsYXNzIENvQ3JlYXRlU29ja2V0Q2xpZW50XG5cdHtcblx0XHRjb25zdHJ1Y3RvcihwcmVmaXggPSBcImNydWRcIikge1xuXHRcdFx0dGhpcy5wcmVmaXggPSBwcmVmaXggfHwgXCJjcnVkXCI7XG5cdFx0XHR0aGlzLnNvY2tldHMgPSBuZXcgTWFwKCk7XG5cdFx0XHR0aGlzLmxpc3RlbmVycyA9IG5ldyBNYXAoKTtcblx0XHRcdHRoaXMubWVzc2FnZVF1ZXVlID0gIG5ldyBNYXAoKTtcblx0XHRcdHRoaXMuc2F2ZUZpbGVOYW1lID0gICcnO1xuXHRcdFx0dGhpcy5nbG9iYWxTY29wZSA9ICBcIlwiO1xuXHRcdH1cblx0XG5cdFx0c2V0R2xvYmFsU2NvcGUoc2NvcGUpIHtcblx0XHRcdHRoaXMuZ2xvYmFsU2NvcGUgPSBgJHt0aGlzLnByZWZpeH0vJHtzY29wZX1gO1xuXHRcdH1cblx0XHRcblx0XHRnZXRHbG9iYWxTY29wZSgpIHtcblx0XHRcdHJldHVybiB0aGlzLmdsb2JhbFNjb3BlO1xuXHRcdH1cblx0XHRcblx0XHQvKipcblx0XHQgKiBjb25maWc6IHtuYW1lc3BhY2UsIHJvb20sIGhvc3R9XG5cdFx0ICovXG5cdFx0Y3JlYXRlIChjb25maWcpIHtcblx0XHRcdFxuXHRcdFx0Y29uc3Qge25hbWVzcGFjZSwgcm9vbX0gPSBjb25maWc7XG5cdFx0XHRjb25zdCBrZXkgPSB0aGlzLmdldEtleShuYW1lc3BhY2UsIHJvb20pO1xuXHRcdFx0bGV0IF90aGlzID0gdGhpcztcblx0XHRcdGlmIChuYW1lc3BhY2UpIHtcblx0XHRcdFx0dGhpcy5zZXRHbG9iYWxTY29wZShuYW1lc3BhY2UpXG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGxldCBzb2NrZXQ7XG5cdFx0XHRpZiAodGhpcy5zb2NrZXRzLmdldChrZXkpKSB7XG5cdFx0XHRcdHNvY2tldCA9IHRoaXMuc29ja2V0cy5nZXQoa2V5KTtcblx0XHRcdFx0Y29uc29sZS5sb2coJ1NPY2tldCBhbHJlYWR5IGhhcyBiZWVuIHJlZ2lzdGVyJyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0bGV0IHdfcHJvdG9jb2wgPSB3bmQubG9jYXRpb24ucHJvdG9jb2w7XHRcdFxuXHRcdFx0aWYgKHduZC5sb2NhdGlvbi5wcm90b2NvbCA9PT0gXCJhYm91dDpcIikge1xuXHRcdFx0XHR3X3Byb3RvY29sID0gd25kLnBhcmVudC5sb2NhdGlvbi5wcm90b2NvbDtcblx0XHRcdFx0aWYgKCFjb25maWcuaG9zdCkge1xuXHRcdFx0XHRcdGNvbmZpZy5ob3N0ID0gd25kLnBhcmVudC5sb2NhdGlvbi5ob3N0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRsZXQgcHJvdG9jb2wgPSB3X3Byb3RvY29sID09PSAnaHR0cDonID8gJ3dzJyA6ICd3c3MnO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBwb3J0ID0gY29uZmlnLnBvcnQgPyBjb25maWcucG9ydCA6IDgwODg7XG5cdFx0XHRcblx0XHRcdGxldCBzb2NrZXRfdXJsID0gYCR7cHJvdG9jb2x9Oi8vJHt3bmQubG9jYXRpb24uaG9zdH06JHtwb3J0fS8ke2tleX1gO1xuXHRcdFx0XG5cdFx0XHRpZiAoY29uZmlnLmhvc3QpIHtcblx0XHRcdFx0aWYgKGNvbmZpZy5ob3N0LmluY2x1ZGVzKFwiOi8vXCIpKSB7XG5cdFx0XHRcdFx0c29ja2V0X3VybCA9IGAke2NvbmZpZy5ob3N0fS8ke2tleX1gO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChjb25maWcuaG9zdC5pbmNsdWRlcyhcIjpcIikpIHtcblx0XHRcdFx0XHRcdHNvY2tldF91cmwgPSBgJHtwcm90b2NvbH06Ly8ke2NvbmZpZy5ob3N0fS8ke2tleX1gO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzb2NrZXRfdXJsID0gYCR7cHJvdG9jb2x9Oi8vJHtjb25maWcuaG9zdH06JHtwb3J0fS8ke2tleX1gO1x0XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHNvY2tldF91cmwpO1xuXHRcdFx0fSBjYXRjaChlcnJvcikge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcilcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRzb2NrZXQub25vcGVuID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0Y29uc3QgbWVzc2FnZXMgPSBfdGhpcy5tZXNzYWdlUXVldWUuZ2V0KGtleSkgfHwgW107XG5cdFx0XHRcdG1lc3NhZ2VzLmZvckVhY2gobXNnID0+IHNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KG1zZykpKTtcblx0XHRcdFx0XG5cdFx0XHRcdF90aGlzLnNvY2tldHMuc2V0KGtleSwgc29ja2V0KTtcblx0XHRcdFx0X3RoaXMubWVzc2FnZVF1ZXVlLnNldChrZXksIFtdKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0c29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRzd2l0Y2goZXZlbnQuY29kZSkge1xuXHRcdFx0XHRcdGNhc2UgMTAwMDogLy8gY2xvc2Ugbm9ybWFsXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIndlYnNvY2tldDogY2xvc2VkXCIpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDogXG5cdFx0XHRcdFx0XHRfdGhpcy5kZXN0cm95KHNvY2tldCwga2V5KTtcblx0XHRcdFx0XHRcdF90aGlzLnJlY29ubmVjdChzb2NrZXQsIGNvbmZpZyk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRzb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uKGVycikge1xuXHRcdFx0XHRfdGhpcy5kZXN0cm95KHNvY2tldCwga2V5KTtcblx0XHRcdFx0X3RoaXMucmVjb25uZWN0KHNvY2tldCwgY29uZmlnKTtcblx0XHRcdH1cblx0XG5cdFx0XHRzb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGlmICh3bmQuQmxvYikge1xuXHRcdFx0XHRcdFx0aWYgKGRhdGEuZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcblx0XHRcdFx0XHRcdFx0X3RoaXMuc2F2ZUZpbGUoZGF0YS5kYXRhKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRsZXQgcmV2X2RhdGEgPSBKU09OLnBhcnNlKGRhdGEuZGF0YSk7XG5cblx0XHRcdFx0XHRpZiAocmV2X2RhdGEuZGF0YS5ldmVudCkge1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRpZiAod25kLkN1c3RvbUV2ZW50KSB7XG5cdFx0XHRcdFx0XHRcdHZhciBldmVudCA9IG5ldyB3bmQuQ3VzdG9tRXZlbnQocmV2X2RhdGEuZGF0YS5ldmVudCwge1xuXHRcdFx0XHRcdFx0XHRcdGRldGFpbDogcmV2X2RhdGEuZGF0YVxuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHR3bmQuZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHByb2Nlc3MuZW1pdChyZXZfZGF0YS5kYXRhLmV2ZW50LCByZXZfZGF0YS5kYXRhKVxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGV0IGFjdGlvbiA9IHJldl9kYXRhLmFjdGlvbjtcblx0XHRcdFx0XHRjb25zdCBsaXN0ZW5lcnMgPSBfdGhpcy5saXN0ZW5lcnMuZ2V0KHJldl9kYXRhLmFjdGlvbik7XG5cdFx0XHRcdFx0aWYgKCFsaXN0ZW5lcnMpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXIocmV2X2RhdGEuZGF0YSwga2V5KTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogXG5cdFx0ICovXG5cdFx0c2VuZCAoYWN0aW9uLCBkYXRhLCByb29tKSB7XG5cdFx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHRcdGFjdGlvbjogYWN0aW9uLFxuXHRcdFx0XHRkYXRhOiB7Li4uZGF0YSwgdWlkOiBjb21tb25GdW5jLkdlbmVyYXRlVVVJRCgpfVxuXHRcdFx0fVxuXHRcdFx0Y29uc3Qga2V5ID0gdGhpcy5nZXRLZXlCeVJvb20ocm9vbSk7XG5cdFx0XHRjb25zdCBzb2NrZXQgPSB0aGlzLmdldEJ5Um9vbShyb29tKTtcblxuXHRcdFx0aWYgKHNvY2tldCkge1xuXHRcdFx0XHRzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShvYmopKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICh0aGlzLm1lc3NhZ2VRdWV1ZS5nZXQoa2V5KSkge1xuXHRcdFx0XHRcdHRoaXMubWVzc2FnZVF1ZXVlLmdldChrZXkpLnB1c2gob2JqKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLm1lc3NhZ2VRdWV1ZS5zZXQoa2V5LCBbb2JqXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0c2VuZEZpbGUgKGZpbGUsIHJvb20pIHtcblx0XHRcdGNvbnN0IHNvY2tldCA9IHRoaXMuZ2V0QnlSb29tKHJvb20pO1xuXHRcdFx0aWYgKHNvY2tldCkge1xuXHRcdFx0XHRzb2NrZXQuc2VuZChmaWxlKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8qKlxuXHRcdCAqIHNjb3BlOiBucy9yb29tXG5cdFx0ICovXG5cdFx0bGlzdGVuKHR5cGUsIGNhbGxiYWNrKSB7XG5cdFx0XHRpZiAoIXRoaXMubGlzdGVuZXJzLmdldCh0eXBlKSkge1xuXHRcdFx0XHR0aGlzLmxpc3RlbmVycy5zZXQodHlwZSwgW2NhbGxiYWNrXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmxpc3RlbmVycy5nZXQodHlwZSkucHVzaChjYWxsYmFjayk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdHJlY29ubmVjdChzb2NrZXQsIGNvbmZpZykge1xuXHRcdFx0bGV0IF90aGlzID0gdGhpcztcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdF90aGlzLmNyZWF0ZShjb25maWcpO1xuXHRcdFx0fSwgMTAwMClcblx0XHR9XG5cdFx0XG5cdFx0ZGVzdHJveShzb2NrZXQsIGtleSkge1xuXHRcdFx0aWYgKHNvY2tldCkge1xuXHRcdFx0XHRzb2NrZXQub25lcnJvciA9IHNvY2tldC5vbm9wZW4gPSBzb2NrZXQub25jbG9zZSA9IG51bGw7XG5cdFx0XHRcdHNvY2tldC5jbG9zZSgpO1xuXHRcdFx0XHRzb2NrZXQgPSBudWxsO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAodGhpcy5zb2NrZXRzLmdldChrZXkpKSB7XG5cdFx0XHRcdHRoaXMuc29ja2V0cy5kZWxldGUoa2V5KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0ZGVzdHJveUJ5S2V5KGtleSkge1xuXHRcdFx0bGV0IHNvY2tldCA9IHRoaXMuc29ja2V0cy5nZXQoa2V5KSBcblx0XHRcdGlmIChzb2NrZXQpIHtcblx0XHRcdFx0dGhpcy5kZXN0cm95KHNvY2tldCwga2V5KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Z2V0S2V5KG5hbWVzcGFjZSwgcm9vbSkge1xuXHRcdFx0bGV0IGtleSA9IGAke3RoaXMucHJlZml4fWA7XG5cdFx0XHRpZiAobmFtZXNwYWNlICYmIG5hbWVzcGFjZSAhPSAnJykge1xuXHRcdFx0XHRpZiAocm9vbSAmJiAgcm9vbSAhPSAnJykge1xuXHRcdFx0XHRcdGtleSArPSBgLyR7bmFtZXNwYWNlfS8ke3Jvb219YDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRrZXkgKz1gLyR7bmFtZXNwYWNlfWA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBrZXk7XG5cdFx0fVxuXHRcdFxuXHRcdGdldEJ5Um9vbShyb29tKSB7XG5cdFx0XHRsZXQga2V5ID0gdGhpcy5nZXRLZXlCeVJvb20ocm9vbSlcblx0XHRcdHJldHVybiB0aGlzLnNvY2tldHMuZ2V0KGtleSk7XHRcblx0XHR9XG5cdFx0XG5cdFx0Z2V0S2V5QnlSb29tKHJvb20pIHtcblx0XHRcdGxldCBrZXkgPSB0aGlzLmdsb2JhbFNjb3BlO1xuXHRcdFx0aWYgKHJvb20pIHtcblx0XHRcdFx0a2V5ID0gYCR7dGhpcy5wcmVmaXh9LyR7cm9vbX1gO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGtleTtcdFx0XG5cdFx0fVxuXHRcdFxuXHRcdFxuXHRcdHNhdmVGaWxlKGJsb2IpIHtcblx0XHRcdGlmICh3bmQuZG9jdW1lbnQpIHtcblx0XHRcdFx0Y29uc3QgZmlsZV9uYW1lID0gdGhpcy5zYXZlRmlsZU5hbWUgfHwgJ2Rvd25sb2FkRmlsZSc7XG5cdFx0XHRcdHZhciBhID0gd25kLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuXHRcdCAgICAgICAgd25kLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG5cdFx0ICAgICAgICBhLnN0eWxlID0gXCJkaXNwbGF5OiBub25lXCI7XG5cdFx0XG5cdFx0ICAgICAgICBsZXQgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0ICAgICAgICBhLmhyZWYgPSB1cmw7XG5cdFx0ICAgICAgICBhLmRvd25sb2FkID0gZmlsZV9uYW1lO1xuXHRcdCAgICAgICAgYS5jbGljaygpO1xuXHRcdCAgICAgICAgd25kLlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcblx0XHRcblx0XHQgICAgICAgIHRoaXMuc2F2ZUZpbGVOYW1lID0gJydcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0bGlzdGVuQXN5bmMoZXZlbnRuYW1lKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRpZiAod25kLmRvY3VtZW50KSB7IC8vLiBicm93c2VyIGNhc2Vcblx0XHRcdFx0XHR3bmQuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudG5hbWUsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdFx0ICAgIHJlc29sdmUoZXZlbnQuZGV0YWlsKTtcblx0XHRcdFx0XHR9LCB7IG9uY2U6IHRydWUgfSlcblx0XHRcdFx0fSBlbHNlIHsgLy8uIG5vZGUgY2FzZVxuXHRcdFx0XHRcdHByb2Nlc3Mub25jZShldmVudG5hbWUsIChkYXRhKSA9PiB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGRhdGEpXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9XG5cdH1cbiAgICByZXR1cm4gQ29DcmVhdGVTb2NrZXRDbGllbnRcbn0pKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cocreate/socket-client/src/index.js\n")},"./node_modules/@cocreate/utils/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "generateUUID": () => (/* binding */ generateUUID),\n/* harmony export */   "getParentFromElement": () => (/* binding */ getParentFromElement),\n/* harmony export */   "isJsonString": () => (/* binding */ isJsonString),\n/* harmony export */   "getAttributes": () => (/* binding */ getAttributes),\n/* harmony export */   "checkValue": () => (/* binding */ checkValue),\n/* harmony export */   "allFrame": () => (/* binding */ allFrame),\n/* harmony export */   "cssPath": () => (/* binding */ cssPath),\n/* harmony export */   "getTopMostWindow": () => (/* binding */ getTopMostWindow),\n/* harmony export */   "findIframeFromElement": () => (/* binding */ findIframeFromElement),\n/* harmony export */   "getIframeFromPath": () => (/* binding */ getIframeFromPath),\n/* harmony export */   "configMatch": () => (/* binding */ configMatch),\n/* harmony export */   "configExecuter": () => (/* binding */ configExecuter),\n/* harmony export */   "UUID": () => (/* binding */ UUID),\n/* harmony export */   "parseTextToHtml": () => (/* binding */ parseTextToHtml),\n/* harmony export */   "splitBydelimiter": () => (/* binding */ splitBydelimiter),\n/* harmony export */   "joinBydelimiter": () => (/* binding */ joinBydelimiter),\n/* harmony export */   "isValidSelector": () => (/* binding */ isValidSelector),\n/* harmony export */   "getElementPath": () => (/* binding */ getElementPath),\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Created by jin\n * 2020-04-03\n */\n\n\nfunction generateUUID(length = 36) {\n  // if (length == 10) {\n  //   var result           = \'\';\n  //   var characters       = \'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\';\n  //   var charactersLength = characters.length;\n  //   for ( var i = 0; i < length; i++ ) {\n  //     result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  //   }\n\n  //   var dd = new Date().toTimeString();\n  //   var random = dd.replace(/[\\W_]+/g, "").substr(0,6);\n  //   result += random;\n  //   return result;\n  // }\n\n  let d = new Date().getTime();\n  let d2 =\n    (window.performance &&\n      window.performance.now &&\n      window.performance.now() * 1000) ||\n    0;\n  let pattern = "uxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";\n\n  if (length <= pattern.length) {\n    pattern = pattern.substr(0, length);\n  }\n  else {\n    let add_len = length - pattern.length;\n    let sub_pattern = "-xxxyyxxx";\n\n    let group_n = Math.floor(add_len / sub_pattern.length);\n\n    for (let i = 0; i < group_n; i++) {\n      pattern += sub_pattern;\n    }\n\n    group_n = add_len - group_n * sub_pattern.length;\n    pattern += sub_pattern.substr(0, group_n);\n  }\n\n  let uuid = pattern.replace(/[xy]/g, function(c) {\n    var r = Math.random() * 16;\n    if (d > 0) {\n      var r = (d + r) % 16 | 0;\n      d = Math.floor(d / 16);\n    }\n    else {\n      var r = (d2 + r) % 16 | 0;\n      d2 = Math.floor(d2 / 16);\n    }\n    return (c == "x" ? r : (r & 0x7) | 0x8).toString(16);\n  });\n  return uuid;\n}\n\nfunction getParentFromElement(element, parent_class, attributes) {\n  if (parent_class) {\n    if (element.classList.contains(parent_class)) {\n      return element;\n    }\n\n    let node = element.parentNode;\n    while (node != null && node.classList) {\n      if (node.classList.contains(parent_class)) {\n        return node;\n      }\n      node = node.parentNode;\n    }\n  }\n  else if (attributes) {\n    if (attributes.every((attr) => element.attributes.hasOwnProperty(attr))) {\n      return element;\n    }\n\n    let node = element.parentNode;\n    while (node != null && node.attributes) {\n      if (attributes.every((attr) => node.attributes.hasOwnProperty(attr))) {\n        return node;\n      }\n      node = node.parentNode;\n    }\n  }\n\n  return false;\n}\n\n\nfunction isJsonString(str_data) {\n  try {\n    let json_data = JSON.parse(str_data);\n    if (typeof json_data === "object" && json_data != null) {\n      return true;\n    }\n    else {\n      return false;\n    }\n  }\n  catch (e) {\n    return false;\n  }\n}\n\nfunction getAttributes(element) {\n  return element.getAttributeNames().reduce((attrMap, name) => {\n    attrMap[name] = element.getAttribute(name);\n    return attrMap;\n  }, {});\n}\n\nfunction checkValue(value) {\n  if (!value) return false;\n  if (/{{\\s*([\\w\\W]+)\\s*}}/g.test(value)) {\n    return false;\n  }\n\n  return true;\n}\n// hosseins utills\n\n// function to go through all frames\nfunction allFrame(callback) {\n  let allFrames = [{ document, window }];\n  for (let frame of document.querySelectorAll("iframe")) {\n    let frameDocument = frame.contentDocument || frame.contentWindow.document;\n    let frameWindow = frame.contentWindow;\n    allFrames.push({\n      document: frameDocument,\n      window: frameWindow,\n      frameElement: frame,\n    });\n  }\n  let result = new Set();\n  for (let frame of allFrames) {\n    let callbackResult = callback(frame);\n    if (\n      callbackResult &&\n      typeof callbackResult[Symbol.iterator] === "function"\n    )\n      callbackResult.forEach((el) => result.add(el));\n    else if (callbackResult) result.add(callbackResult);\n  }\n\n  return Array.from(result);\n}\n\nfunction cssPath(node) {\n  let pathSplits = [];\n  do {\n    if (!node || !node.tagName) return false;\n    let pathSplit = node.tagName.toLowerCase();\n    if (node.id && node.tagName !== "BODY") pathSplit += "#" + node.id;\n\n    if (node.classList.length && node.tagName !== "BODY") {\n      node.classList.forEach((item) => {\n        if (item.indexOf(":") === -1) pathSplit += "." + item;\n      });\n    }\n\n    if (node.tagName !== "BODY" && node.parentNode) {\n      let index = Array.prototype.indexOf.call(\n        node.parentNode.children,\n        node\n      );\n      pathSplit += `:nth-child(${index + 1})`;\n    }\n\n    pathSplits.unshift(pathSplit);\n    node = node.parentNode;\n  } while (node.tagName !== "HTML");\n\n  return pathSplits.join(" > ");\n}\n\nfunction getTopMostWindow() {\n  let parentWindow = window;\n  while (parentWindow !== window.parent) parentWindow = window.parent;\n  return parentWindow;\n}\n\nfunction findIframeFromElement(windowObject, element) {\n  let frameElement;\n  allFrame((frame) => {\n    if (frame.document.contains(element)) frameElement = frame.frameElement;\n    // window.cc.findIframeFromElement(frame.window, element);\n  });\n  return frameElement;\n}\n\nfunction getIframeFromPath(path) {\n  let topWindow = getTopMostWindow;\n\n  path.forEach((selector) => {\n    if (topWindow) topWindow = topWindow.querySelector(selector);\n  });\n  return topWindow;\n}\n// DO NOT REMOVE\n\nfunction* configMatch(elementConfig, element) {\n  for (let config of elementConfig) {\n    // if (!Array.isArray(config.selector))\n    //   config.selector = [config.selector];\n\n    if (config.selector && element.matches(config.selector)) yield config;\n  }\n  return;\n}\n\n\n// export function configMatch2(elementConfig, element) {\n//   let result = [];\n//   for (let config of elementConfig) {\n//     if (config.selector && element.matches(config.selector)) result.push(config);\n//   }\n//   return result;\n// }\n\n// DO NOT REMOVE\n\n// an opiniated function uses configMatch2 to read configs\n// WARNING: the config iterated from top to bottom. for deseired effect elementConfig should be reveresed\n// typeof elementConfig: array of objects and every objects containing keys as false, true or a selector \n// element: the element to read attributes\n// key: the key in which is in elementConfig and on match onSuccess callback will be called\nfunction configExecuter(element, key, onSuccess, elementConfig) {\n  for (let config of configMatch(elementConfig || window.elementConfig, element))\n    if (config[key] === true) return onSuccess(element, config);\n    else if (config[key] === false) return false;\n  else if (config[key] === undefined) continue;\n  else if (isValidSelector(config[key]))\n    return onSuccess(element, config, true);\n  else console.warn("builder: wrong element config ", config);\n\n  return false;\n}\n\nfunction UUID(length = 10) {\n  var result = "";\n  var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";\n\n  var charactersLength = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n\n  var d = new Date().toTimeString();\n  var random = d.replace(/[\\W_]+/g, "").substr(0, 6);\n  result += random;\n  return result;\n}\n\nfunction parseTextToHtml(text) {\n  let doc = new DOMParser().parseFromString(text, "text/html");\n  if (doc.head.children[0]) return doc.head.children[0];\n  else return doc.body.children[0];\n}\n\nfunction splitBydelimiter(str, delimiter) {\n  return str.split(delimiter).map((s) => s.trim());\n}\n\nfunction joinBydelimiter(str, delimiter) {\n  return str.map((s) => s.trim()).join(delimiter);\n}\n\nfunction isValidSelector(selector) {\n  try {\n    document.createDocumentFragment().querySelector(selector);\n  }\n  catch (error) {\n    return false;\n  }\n  return true;\n}\n\nfunction getElementPath(element, returnContext) {\n  let path = [];\n\n  let topWindow = window;\n  let iframeElement = findIframeFromElement(topWindow, element);\n  let p = cssPath(iframeElement);\n  if (p) path.unshift(p);\n\n  return returnContext ? { path, document: iframeElement || document } : path;\n  //todo: support for nested iframe\n  // while(iframeElement !== findIframeFromElement(topWindow,iframeElement))\n  // {\n  //   iframeElement = findIframeFromElement(topWindow,iframeElement);\n  //   path.unshift(cssPath(iframeElement))\n  // }\n}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  getElementPath,\n  isValidSelector,\n  joinBydelimiter,\n  splitBydelimiter,\n  parseTextToHtml,\n  UUID,\n  configExecuter,\n  configMatch,\n  getIframeFromPath,\n  findIframeFromElement,\n  getTopMostWindow,\n  cssPath,\n  allFrame,\n  checkValue,\n  getAttributes,\n  isJsonString,\n  getParentFromElement,\n  generateUUID\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mdWxsY2FsZW5kYXIvLi9ub2RlX21vZHVsZXMvQGNvY3JlYXRlL3V0aWxzL3NyYy9pbmRleC5qcz82YjE4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixZQUFZO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsbUJBQW1CLGFBQWE7QUFDaEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUcsSUFBSTtBQUNQOztBQUVPO0FBQ1A7QUFDQSxTQUFTLGlCQUFpQjtBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNPO0FBQ1Asb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLFVBQVU7QUFDM0M7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTs7QUFFTztBQUNQO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCLDRDQUE0QztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0EsaUVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0Bjb2NyZWF0ZS91dGlscy9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgamluXG4gKiAyMDIwLTA0LTAzXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKGxlbmd0aCA9IDM2KSB7XG4gIC8vIGlmIChsZW5ndGggPT0gMTApIHtcbiAgLy8gICB2YXIgcmVzdWx0ICAgICAgICAgICA9ICcnO1xuICAvLyAgIHZhciBjaGFyYWN0ZXJzICAgICAgID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgLy8gICB2YXIgY2hhcmFjdGVyc0xlbmd0aCA9IGNoYXJhY3RlcnMubGVuZ3RoO1xuICAvLyAgIGZvciAoIHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrICkge1xuICAvLyAgICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnNMZW5ndGgpKTtcbiAgLy8gICB9XG5cbiAgLy8gICB2YXIgZGQgPSBuZXcgRGF0ZSgpLnRvVGltZVN0cmluZygpO1xuICAvLyAgIHZhciByYW5kb20gPSBkZC5yZXBsYWNlKC9bXFxXX10rL2csIFwiXCIpLnN1YnN0cigwLDYpO1xuICAvLyAgIHJlc3VsdCArPSByYW5kb207XG4gIC8vICAgcmV0dXJuIHJlc3VsdDtcbiAgLy8gfVxuXG4gIGxldCBkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGxldCBkMiA9XG4gICAgKHdpbmRvdy5wZXJmb3JtYW5jZSAmJlxuICAgICAgd2luZG93LnBlcmZvcm1hbmNlLm5vdyAmJlxuICAgICAgd2luZG93LnBlcmZvcm1hbmNlLm5vdygpICogMTAwMCkgfHxcbiAgICAwO1xuICBsZXQgcGF0dGVybiA9IFwidXh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCI7XG5cbiAgaWYgKGxlbmd0aCA8PSBwYXR0ZXJuLmxlbmd0aCkge1xuICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnN1YnN0cigwLCBsZW5ndGgpO1xuICB9XG4gIGVsc2Uge1xuICAgIGxldCBhZGRfbGVuID0gbGVuZ3RoIC0gcGF0dGVybi5sZW5ndGg7XG4gICAgbGV0IHN1Yl9wYXR0ZXJuID0gXCIteHh4eXl4eHhcIjtcblxuICAgIGxldCBncm91cF9uID0gTWF0aC5mbG9vcihhZGRfbGVuIC8gc3ViX3BhdHRlcm4ubGVuZ3RoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBfbjsgaSsrKSB7XG4gICAgICBwYXR0ZXJuICs9IHN1Yl9wYXR0ZXJuO1xuICAgIH1cblxuICAgIGdyb3VwX24gPSBhZGRfbGVuIC0gZ3JvdXBfbiAqIHN1Yl9wYXR0ZXJuLmxlbmd0aDtcbiAgICBwYXR0ZXJuICs9IHN1Yl9wYXR0ZXJuLnN1YnN0cigwLCBncm91cF9uKTtcbiAgfVxuXG4gIGxldCB1dWlkID0gcGF0dGVybi5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uKGMpIHtcbiAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNjtcbiAgICBpZiAoZCA+IDApIHtcbiAgICAgIHZhciByID0gKGQgKyByKSAlIDE2IHwgMDtcbiAgICAgIGQgPSBNYXRoLmZsb29yKGQgLyAxNik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIHIgPSAoZDIgKyByKSAlIDE2IHwgMDtcbiAgICAgIGQyID0gTWF0aC5mbG9vcihkMiAvIDE2KTtcbiAgICB9XG4gICAgcmV0dXJuIChjID09IFwieFwiID8gciA6IChyICYgMHg3KSB8IDB4OCkudG9TdHJpbmcoMTYpO1xuICB9KTtcbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRGcm9tRWxlbWVudChlbGVtZW50LCBwYXJlbnRfY2xhc3MsIGF0dHJpYnV0ZXMpIHtcbiAgaWYgKHBhcmVudF9jbGFzcykge1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhwYXJlbnRfY2xhc3MpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBsZXQgbm9kZSA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAobm9kZSAhPSBudWxsICYmIG5vZGUuY2xhc3NMaXN0KSB7XG4gICAgICBpZiAobm9kZS5jbGFzc0xpc3QuY29udGFpbnMocGFyZW50X2NsYXNzKSkge1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICB9XG4gIGVsc2UgaWYgKGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAoYXR0cmlidXRlcy5ldmVyeSgoYXR0cikgPT4gZWxlbWVudC5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGF0dHIpKSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgbGV0IG5vZGUgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKG5vZGUgIT0gbnVsbCAmJiBub2RlLmF0dHJpYnV0ZXMpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzLmV2ZXJ5KChhdHRyKSA9PiBub2RlLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoYXR0cikpKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSnNvblN0cmluZyhzdHJfZGF0YSkge1xuICB0cnkge1xuICAgIGxldCBqc29uX2RhdGEgPSBKU09OLnBhcnNlKHN0cl9kYXRhKTtcbiAgICBpZiAodHlwZW9mIGpzb25fZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBqc29uX2RhdGEgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXR0cmlidXRlcyhlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZU5hbWVzKCkucmVkdWNlKChhdHRyTWFwLCBuYW1lKSA9PiB7XG4gICAgYXR0ck1hcFtuYW1lXSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHJldHVybiBhdHRyTWFwO1xuICB9LCB7fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1ZhbHVlKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHJldHVybiBmYWxzZTtcbiAgaWYgKC97e1xccyooW1xcd1xcV10rKVxccyp9fS9nLnRlc3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG4vLyBob3NzZWlucyB1dGlsbHNcblxuLy8gZnVuY3Rpb24gdG8gZ28gdGhyb3VnaCBhbGwgZnJhbWVzXG5leHBvcnQgZnVuY3Rpb24gYWxsRnJhbWUoY2FsbGJhY2spIHtcbiAgbGV0IGFsbEZyYW1lcyA9IFt7IGRvY3VtZW50LCB3aW5kb3cgfV07XG4gIGZvciAobGV0IGZyYW1lIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpZnJhbWVcIikpIHtcbiAgICBsZXQgZnJhbWVEb2N1bWVudCA9IGZyYW1lLmNvbnRlbnREb2N1bWVudCB8fCBmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICAgIGxldCBmcmFtZVdpbmRvdyA9IGZyYW1lLmNvbnRlbnRXaW5kb3c7XG4gICAgYWxsRnJhbWVzLnB1c2goe1xuICAgICAgZG9jdW1lbnQ6IGZyYW1lRG9jdW1lbnQsXG4gICAgICB3aW5kb3c6IGZyYW1lV2luZG93LFxuICAgICAgZnJhbWVFbGVtZW50OiBmcmFtZSxcbiAgICB9KTtcbiAgfVxuICBsZXQgcmVzdWx0ID0gbmV3IFNldCgpO1xuICBmb3IgKGxldCBmcmFtZSBvZiBhbGxGcmFtZXMpIHtcbiAgICBsZXQgY2FsbGJhY2tSZXN1bHQgPSBjYWxsYmFjayhmcmFtZSk7XG4gICAgaWYgKFxuICAgICAgY2FsbGJhY2tSZXN1bHQgJiZcbiAgICAgIHR5cGVvZiBjYWxsYmFja1Jlc3VsdFtTeW1ib2wuaXRlcmF0b3JdID09PSBcImZ1bmN0aW9uXCJcbiAgICApXG4gICAgICBjYWxsYmFja1Jlc3VsdC5mb3JFYWNoKChlbCkgPT4gcmVzdWx0LmFkZChlbCkpO1xuICAgIGVsc2UgaWYgKGNhbGxiYWNrUmVzdWx0KSByZXN1bHQuYWRkKGNhbGxiYWNrUmVzdWx0KTtcbiAgfVxuXG4gIHJldHVybiBBcnJheS5mcm9tKHJlc3VsdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjc3NQYXRoKG5vZGUpIHtcbiAgbGV0IHBhdGhTcGxpdHMgPSBbXTtcbiAgZG8ge1xuICAgIGlmICghbm9kZSB8fCAhbm9kZS50YWdOYW1lKSByZXR1cm4gZmFsc2U7XG4gICAgbGV0IHBhdGhTcGxpdCA9IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChub2RlLmlkICYmIG5vZGUudGFnTmFtZSAhPT0gXCJCT0RZXCIpIHBhdGhTcGxpdCArPSBcIiNcIiArIG5vZGUuaWQ7XG5cbiAgICBpZiAobm9kZS5jbGFzc0xpc3QubGVuZ3RoICYmIG5vZGUudGFnTmFtZSAhPT0gXCJCT0RZXCIpIHtcbiAgICAgIG5vZGUuY2xhc3NMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKGl0ZW0uaW5kZXhPZihcIjpcIikgPT09IC0xKSBwYXRoU3BsaXQgKz0gXCIuXCIgKyBpdGVtO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUudGFnTmFtZSAhPT0gXCJCT0RZXCIgJiYgbm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICBsZXQgaW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKFxuICAgICAgICBub2RlLnBhcmVudE5vZGUuY2hpbGRyZW4sXG4gICAgICAgIG5vZGVcbiAgICAgICk7XG4gICAgICBwYXRoU3BsaXQgKz0gYDpudGgtY2hpbGQoJHtpbmRleCArIDF9KWA7XG4gICAgfVxuXG4gICAgcGF0aFNwbGl0cy51bnNoaWZ0KHBhdGhTcGxpdCk7XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgfSB3aGlsZSAobm9kZS50YWdOYW1lICE9PSBcIkhUTUxcIik7XG5cbiAgcmV0dXJuIHBhdGhTcGxpdHMuam9pbihcIiA+IFwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRvcE1vc3RXaW5kb3coKSB7XG4gIGxldCBwYXJlbnRXaW5kb3cgPSB3aW5kb3c7XG4gIHdoaWxlIChwYXJlbnRXaW5kb3cgIT09IHdpbmRvdy5wYXJlbnQpIHBhcmVudFdpbmRvdyA9IHdpbmRvdy5wYXJlbnQ7XG4gIHJldHVybiBwYXJlbnRXaW5kb3c7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSWZyYW1lRnJvbUVsZW1lbnQod2luZG93T2JqZWN0LCBlbGVtZW50KSB7XG4gIGxldCBmcmFtZUVsZW1lbnQ7XG4gIGFsbEZyYW1lKChmcmFtZSkgPT4ge1xuICAgIGlmIChmcmFtZS5kb2N1bWVudC5jb250YWlucyhlbGVtZW50KSkgZnJhbWVFbGVtZW50ID0gZnJhbWUuZnJhbWVFbGVtZW50O1xuICAgIC8vIHdpbmRvdy5jYy5maW5kSWZyYW1lRnJvbUVsZW1lbnQoZnJhbWUud2luZG93LCBlbGVtZW50KTtcbiAgfSk7XG4gIHJldHVybiBmcmFtZUVsZW1lbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJZnJhbWVGcm9tUGF0aChwYXRoKSB7XG4gIGxldCB0b3BXaW5kb3cgPSBnZXRUb3BNb3N0V2luZG93O1xuXG4gIHBhdGguZm9yRWFjaCgoc2VsZWN0b3IpID0+IHtcbiAgICBpZiAodG9wV2luZG93KSB0b3BXaW5kb3cgPSB0b3BXaW5kb3cucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gIH0pO1xuICByZXR1cm4gdG9wV2luZG93O1xufVxuLy8gRE8gTk9UIFJFTU9WRVxuXG5leHBvcnQgZnVuY3Rpb24qIGNvbmZpZ01hdGNoKGVsZW1lbnRDb25maWcsIGVsZW1lbnQpIHtcbiAgZm9yIChsZXQgY29uZmlnIG9mIGVsZW1lbnRDb25maWcpIHtcbiAgICAvLyBpZiAoIUFycmF5LmlzQXJyYXkoY29uZmlnLnNlbGVjdG9yKSlcbiAgICAvLyAgIGNvbmZpZy5zZWxlY3RvciA9IFtjb25maWcuc2VsZWN0b3JdO1xuXG4gICAgaWYgKGNvbmZpZy5zZWxlY3RvciAmJiBlbGVtZW50Lm1hdGNoZXMoY29uZmlnLnNlbGVjdG9yKSkgeWllbGQgY29uZmlnO1xuICB9XG4gIHJldHVybjtcbn1cblxuXG4vLyBleHBvcnQgZnVuY3Rpb24gY29uZmlnTWF0Y2gyKGVsZW1lbnRDb25maWcsIGVsZW1lbnQpIHtcbi8vICAgbGV0IHJlc3VsdCA9IFtdO1xuLy8gICBmb3IgKGxldCBjb25maWcgb2YgZWxlbWVudENvbmZpZykge1xuLy8gICAgIGlmIChjb25maWcuc2VsZWN0b3IgJiYgZWxlbWVudC5tYXRjaGVzKGNvbmZpZy5zZWxlY3RvcikpIHJlc3VsdC5wdXNoKGNvbmZpZyk7XG4vLyAgIH1cbi8vICAgcmV0dXJuIHJlc3VsdDtcbi8vIH1cblxuLy8gRE8gTk9UIFJFTU9WRVxuXG4vLyBhbiBvcGluaWF0ZWQgZnVuY3Rpb24gdXNlcyBjb25maWdNYXRjaDIgdG8gcmVhZCBjb25maWdzXG4vLyBXQVJOSU5HOiB0aGUgY29uZmlnIGl0ZXJhdGVkIGZyb20gdG9wIHRvIGJvdHRvbS4gZm9yIGRlc2VpcmVkIGVmZmVjdCBlbGVtZW50Q29uZmlnIHNob3VsZCBiZSByZXZlcmVzZWRcbi8vIHR5cGVvZiBlbGVtZW50Q29uZmlnOiBhcnJheSBvZiBvYmplY3RzIGFuZCBldmVyeSBvYmplY3RzIGNvbnRhaW5pbmcga2V5cyBhcyBmYWxzZSwgdHJ1ZSBvciBhIHNlbGVjdG9yIFxuLy8gZWxlbWVudDogdGhlIGVsZW1lbnQgdG8gcmVhZCBhdHRyaWJ1dGVzXG4vLyBrZXk6IHRoZSBrZXkgaW4gd2hpY2ggaXMgaW4gZWxlbWVudENvbmZpZyBhbmQgb24gbWF0Y2ggb25TdWNjZXNzIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkXG5leHBvcnQgZnVuY3Rpb24gY29uZmlnRXhlY3V0ZXIoZWxlbWVudCwga2V5LCBvblN1Y2Nlc3MsIGVsZW1lbnRDb25maWcpIHtcbiAgZm9yIChsZXQgY29uZmlnIG9mIGNvbmZpZ01hdGNoKGVsZW1lbnRDb25maWcgfHwgd2luZG93LmVsZW1lbnRDb25maWcsIGVsZW1lbnQpKVxuICAgIGlmIChjb25maWdba2V5XSA9PT0gdHJ1ZSkgcmV0dXJuIG9uU3VjY2VzcyhlbGVtZW50LCBjb25maWcpO1xuICAgIGVsc2UgaWYgKGNvbmZpZ1trZXldID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICBlbHNlIGlmIChjb25maWdba2V5XSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgZWxzZSBpZiAoaXNWYWxpZFNlbGVjdG9yKGNvbmZpZ1trZXldKSlcbiAgICByZXR1cm4gb25TdWNjZXNzKGVsZW1lbnQsIGNvbmZpZywgdHJ1ZSk7XG4gIGVsc2UgY29uc29sZS53YXJuKFwiYnVpbGRlcjogd3JvbmcgZWxlbWVudCBjb25maWcgXCIsIGNvbmZpZyk7XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVVVJRChsZW5ndGggPSAxMCkge1xuICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgdmFyIGNoYXJhY3RlcnMgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIjtcblxuICB2YXIgY2hhcmFjdGVyc0xlbmd0aCA9IGNoYXJhY3RlcnMubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnNMZW5ndGgpKTtcbiAgfVxuXG4gIHZhciBkID0gbmV3IERhdGUoKS50b1RpbWVTdHJpbmcoKTtcbiAgdmFyIHJhbmRvbSA9IGQucmVwbGFjZSgvW1xcV19dKy9nLCBcIlwiKS5zdWJzdHIoMCwgNik7XG4gIHJlc3VsdCArPSByYW5kb207XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVRleHRUb0h0bWwodGV4dCkge1xuICBsZXQgZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCBcInRleHQvaHRtbFwiKTtcbiAgaWYgKGRvYy5oZWFkLmNoaWxkcmVuWzBdKSByZXR1cm4gZG9jLmhlYWQuY2hpbGRyZW5bMF07XG4gIGVsc2UgcmV0dXJuIGRvYy5ib2R5LmNoaWxkcmVuWzBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRCeWRlbGltaXRlcihzdHIsIGRlbGltaXRlcikge1xuICByZXR1cm4gc3RyLnNwbGl0KGRlbGltaXRlcikubWFwKChzKSA9PiBzLnRyaW0oKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqb2luQnlkZWxpbWl0ZXIoc3RyLCBkZWxpbWl0ZXIpIHtcbiAgcmV0dXJuIHN0ci5tYXAoKHMpID0+IHMudHJpbSgpKS5qb2luKGRlbGltaXRlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkU2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFBhdGgoZWxlbWVudCwgcmV0dXJuQ29udGV4dCkge1xuICBsZXQgcGF0aCA9IFtdO1xuXG4gIGxldCB0b3BXaW5kb3cgPSB3aW5kb3c7XG4gIGxldCBpZnJhbWVFbGVtZW50ID0gZmluZElmcmFtZUZyb21FbGVtZW50KHRvcFdpbmRvdywgZWxlbWVudCk7XG4gIGxldCBwID0gY3NzUGF0aChpZnJhbWVFbGVtZW50KTtcbiAgaWYgKHApIHBhdGgudW5zaGlmdChwKTtcblxuICByZXR1cm4gcmV0dXJuQ29udGV4dCA/IHsgcGF0aCwgZG9jdW1lbnQ6IGlmcmFtZUVsZW1lbnQgfHwgZG9jdW1lbnQgfSA6IHBhdGg7XG4gIC8vdG9kbzogc3VwcG9ydCBmb3IgbmVzdGVkIGlmcmFtZVxuICAvLyB3aGlsZShpZnJhbWVFbGVtZW50ICE9PSBmaW5kSWZyYW1lRnJvbUVsZW1lbnQodG9wV2luZG93LGlmcmFtZUVsZW1lbnQpKVxuICAvLyB7XG4gIC8vICAgaWZyYW1lRWxlbWVudCA9IGZpbmRJZnJhbWVGcm9tRWxlbWVudCh0b3BXaW5kb3csaWZyYW1lRWxlbWVudCk7XG4gIC8vICAgcGF0aC51bnNoaWZ0KGNzc1BhdGgoaWZyYW1lRWxlbWVudCkpXG4gIC8vIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldEVsZW1lbnRQYXRoLFxuICBpc1ZhbGlkU2VsZWN0b3IsXG4gIGpvaW5CeWRlbGltaXRlcixcbiAgc3BsaXRCeWRlbGltaXRlcixcbiAgcGFyc2VUZXh0VG9IdG1sLFxuICBVVUlELFxuICBjb25maWdFeGVjdXRlcixcbiAgY29uZmlnTWF0Y2gsXG4gIGdldElmcmFtZUZyb21QYXRoLFxuICBmaW5kSWZyYW1lRnJvbUVsZW1lbnQsXG4gIGdldFRvcE1vc3RXaW5kb3csXG4gIGNzc1BhdGgsXG4gIGFsbEZyYW1lLFxuICBjaGVja1ZhbHVlLFxuICBnZXRBdHRyaWJ1dGVzLFxuICBpc0pzb25TdHJpbmcsXG4gIGdldFBhcmVudEZyb21FbGVtZW50LFxuICBnZW5lcmF0ZVVVSURcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@cocreate/utils/src/index.js\n')},"./src/index.js":(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar _crudClient = _interopRequireDefault(__webpack_require__(/*! @cocreate/crud-client */ \"./node_modules/@cocreate/crud-client/src/index.js\"));\n\nvar _filter = _interopRequireDefault(__webpack_require__(/*! @cocreate/filter */ \"./node_modules/@cocreate/filter/src/index.js\"));\n\nvar _observer = _interopRequireDefault(__webpack_require__(/*! @cocreate/observer */ \"./node_modules/@cocreate/observer/src/index.js\"));\n\nvar _logic = _interopRequireDefault(__webpack_require__(/*! @cocreate/logic */ \"./node_modules/@cocreate/logic/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar calOBJs = [];\nvar calendarElClass = 'cal-container';\nconst bgColors = ['#09efc6', '#09ef1a', '#efec09', '#ef8609', '#ef6009', '#b609ef', '#ef0986', '#09efec', '#ecef09', '#09a6ef', '#076692', '#c0b507', '#c04807', '#6b07c0', '#72aeb5', '#69811e', '#8d2b23'];\nconst textColors = ['#8c489f', '#f610e5', '#1013f6', '#1079f6', '#109ff6', '#49f610', '#10f679', '#f61013', '#1310f6', '#f65910', '#f8996c', '#3f4af8', '#3fb7f8', '#94f83f', '#8d514a', '#fff', '#72d4dc'];\n\nfunction initSocketsForCalendars() {\n  _crudClient.default.listen('updateDocument', function (data) {\n    updateCalendar(data);\n  });\n\n  _crudClient.default.listen('deleteDocument', function (data) {\n    deleteDocumentForCalendar(data);\n  });\n\n  _crudClient.default.listen('readDocumentList', function (data) {\n    fetchedCalendarData(data);\n  });\n}\n\nfunction fetchedCalendarData(data) {\n  let calObject = _filter.default.getObjectByFilterId(calOBJs, data['element']);\n\n  if (calObject) {\n    renderDataToCalendar(calObject, data);\n  }\n} ///////////////////////////////////////////////////////////////////////\n\n\nfunction initCalendars(container) {\n  let process_container = container || document;\n\n  if (!process_container.querySelectorAll) {\n    return;\n  }\n\n  let calContainers = process_container.querySelectorAll('.' + calendarElClass);\n\n  if (calContainers.length == 0 && process_container != document && process_container.hasAttribute(calendarElClass)) {\n    calContainers = [process_container];\n  }\n\n  for (var i = 0; i < calContainers.length; i++) {\n    var calContainer = calContainers[i];\n    var id = calContainer.id;\n    if (!id) continue;\n    var cal_id = calContainer.getAttribute('data-calendar_id');\n    var displayName = calContainer.getAttribute('data-dispaly_field');\n\n    let filter = _filter.default.setFilter(calContainer, \"data-calendar_id\", \"calendar\");\n\n    if (!filter) continue;\n\n    if (_observer.default.getInitialized(calContainer)) {\n      continue;\n    }\n\n    _observer.default.setInitialized(calContainer);\n\n    var calendar = new FullCalendar.Calendar(calContainer, {\n      plugins: ['interaction', 'dayGrid', 'timeGrid', 'resourceTimeline', 'timeline', 'list'],\n      height: '100%',\n      editable: true,\n      timeZone: 'local',\n      eventResizableFromStart: true,\n      eventLimit: true,\n      selectable: true,\n      selectMirror: true,\n      // contentHeight: 1200,\n      nowIndicator: true,\n      selectMinDistance: 100,\n      header: {\n        left: 'prev,',\n        center: 'title',\n        right: 'next'\n      },\n      defaultView: 'dayGridMonth',\n      // eventRender: function(event, element, view) {\n      //   return $(event.el);\n      // },\n      eventClick: function (info) {\n        eventClicked(info);\n      },\n      eventResize: function (info) {\n        changedEvent(info);\n      },\n      eventDrop: function (info) {\n        changedEvent(info);\n      },\n      select: function (info) {\n        selectedDates(info);\n      }\n    });\n    calendar.render();\n    var calObj = {\n      eId: id,\n      calendar_id: cal_id,\n      calendar: calendar,\n      displayName: displayName,\n      filter: filter\n    };\n    calContainer.addEventListener(\"changeFilterInput\", function (e) {\n      // removeOldData(eObj.el)\n      //. calenar init\n      calObj.filter.startIndex = 0;\n      CoCreate.filter.fetchData(calObj.filter);\n    });\n    CoCreate.filter.fetchData(filter);\n    calOBJs.push(calObj);\n  }\n}\n\nfunction renderDataToCalendar(calObj, data) {\n  var eventSource = new Array();\n  data['data'].forEach(function (item, index) {\n    var newEvent = {};\n    const {\n      bg_color,\n      text_color\n    } = getRandomColor();\n    newEvent.id = item['_id'];\n    newEvent.title = getTitle(item, calObj.displayName);\n    newEvent.textColor = text_color;\n    newEvent.backgroundColor = bg_color;\n    newEvent.start = item.start_date;\n    newEvent.end = convertEndDateForRender(item.end_date, item.end_time, item.allDay);\n    newEvent.allDay = item.allDay;\n    if (item.start_time) newEvent.start += 'T' + item.start_time;\n    if (item.end_time) newEvent.end += 'T' + item.end_time;\n    if (item.start_date && item.end_date) eventSource.push(newEvent);\n  });\n  calObj.calendar.addEventSource(eventSource);\n}\n\nfunction getRandomColor() {\n  var number = Math.floor(Math.random() * bgColors.length);\n  return {\n    bg_color: bgColors[number],\n    text_color: textColors[number]\n  };\n}\n\nfunction getTitle(doc, displayName) {\n  var title = '';\n\n  if (doc[displayName] && displayName) {\n    title = doc[displayName];\n  }\n\n  return title;\n}\n\nfunction updateCalendar(data) {\n  var collection = data['collection'];\n\n  for (var i = 0; i < calOBJs.length; i++) {\n    var calObj = calOBJs[i];\n\n    if (calObj.filter.collection == collection) {\n      var calendar = calObj.calendar;\n      var eventSource = [];\n      var event = calendar.getEventById(data['document_id']);\n\n      if (event) {\n        var start = event.start;\n        var end = event.end;\n        var start_date = getDateString(start);\n        var start_time = getTimeString(start);\n        var end_date = getDateString(end);\n        var end_time = getTimeString(end);\n        var allDay = event.allDay;\n        var backgroundColor = event.backgroundColor;\n        var textColor = event.textColor;\n        const main_data = data['data'];\n\n        for (var key in main_data) {\n          if (key == calObj.displayName) {\n            var newTitle = main_data[key];\n            event.setProp('title', newTitle);\n          }\n\n          if (key == 'start_date') {\n            start_date = main_data[key];\n          }\n\n          if (key == 'end_date') {\n            end_date = main_data[key];\n          }\n\n          if (key == 'start_time') {\n            start_time = main_data[key];\n          }\n\n          if (key == 'end_time') {\n            end_time = main_data[key];\n          }\n\n          if (key === 'allDay') {\n            allDay = main_data[key];\n          }\n        }\n\n        end_date = convertEndDateForRender(end_date, end_time, allDay);\n        event.setAllDay(allDay);\n        event.setStart(start_date + 'T' + start_time);\n        event.setEnd(end_date + 'T' + end_time);\n      } else {\n        let newEvent = createEventItem(data['data'], calObj.displayName);\n\n        if (newEvent) {\n          eventSource.push(newEvent);\n          calendar.addEventSource(eventSource);\n        }\n      }\n    }\n  }\n}\n\nfunction createEventItem(data, displayName) {\n  var newEvent = new Object();\n  const {\n    bg_color,\n    text_color\n  } = getRandomColor();\n  newEvent.id = data['_id'];\n  newEvent.title = getTitle(data, displayName);\n  newEvent.textColor = 'black';\n  newEvent.backgroundColor = bg_color;\n  newEvent.textColor = text_color;\n  newEvent.start = data.start_date;\n  newEvent.end = convertEndDateForRender(data.end_date, data.end_time, data.allDay);\n  newEvent.allDay = data.allDay;\n  if (data.start_time) newEvent.start += 'T' + data.start_time;\n  if (data.end_time) newEvent.end += 'T' + data.end_time;\n\n  if (!data.start_date || !data.end_date) {\n    return null;\n  }\n\n  return newEvent;\n}\n\nfunction deleteDocumentForCalendar(data) {\n  const document_id = data['document_id'];\n\n  for (var i = 0; i < calOBJs.length; i++) {\n    var calObj = calOBJs[i];\n\n    if (calObj.filter.collection == data['collection']) {\n      removeEvent(calObj.calendar, document_id);\n    }\n  }\n}\n\nfunction removeEvent(calendar, id) {\n  var eventSource = calendar.getEventById(id);\n  eventSource.remove();\n}\n\nfunction eventClicked(info) {\n  console.log(info);\n  var event = info.event;\n  var eventId = event.id;\n  var calendar = event._calendar;\n  var cal_el = calendar.el;\n  var eventLink = cal_el.querySelector('.eventLink');\n  let els = eventLink.querySelectorAll(\"[data-pass_document_id]\");\n  els.forEach(el => {\n    if (!el.getAttribute('data-pass_document_id')) {\n      el.setAttribute('data-pass_document_id', eventId);\n    }\n  });\n\n  _logic.default.initDataPassValues();\n\n  _logic.default.setLinkProcess(eventLink);\n}\n\nfunction changedEvent(info) {\n  var event = info.event;\n  var startDate = getDateString(event.start);\n  var endDate = getDateString(event.end);\n  var startTime = getTimeString(event.start);\n  var endTime = getTimeString(event.end);\n  var cal_id = event._calendar.el.id;\n  var calObj = getCalObjById(cal_id);\n\n  if (calObj) {\n    _crudClient.default.updateDocument({\n      'collection': calObj.filter.collection,\n      'element': cal_id,\n      'metadata': \"\",\n      'document_id': event.id,\n      'data': {\n        start_date: startDate,\n        end_date: endDate,\n        start_time: startTime,\n        end_time: endTime\n      }\n    });\n  }\n}\n\nfunction getDateString(date) {\n  var year = date.getFullYear();\n  var month = date.getMonth() + 1;\n  var dt = date.getDate();\n\n  if (dt < 10) {\n    dt = '0' + dt;\n  }\n\n  if (month < 10) {\n    month = '0' + month;\n  }\n\n  return year + '-' + month + '-' + dt;\n}\n\nfunction getTimeString(date) {\n  var hour = date.getHours();\n  var min = date.getMinutes();\n\n  if (hour < 10) {\n    hour = '0' + hour;\n  }\n\n  if (min < 10) {\n    min = '0' + min;\n  }\n\n  return hour + ':' + min;\n}\n\nfunction getCalObjById(id) {\n  for (var i = 0; i < calOBJs.length; i++) {\n    var calObj = calOBJs[i];\n    if (id == calObj.eId) return calObj;\n  }\n\n  return null;\n}\n\nfunction selectedDates(info) {\n  var startDate = getDateString(info.start);\n  var endDate = getDateString(info.end);\n  var startTime = getTimeString(info.start);\n  var endTime = getTimeString(info.end);\n  var cal_id = info.view.calendar.el.id;\n  var calObj = getCalObjById(cal_id);\n\n  if (calObj) {\n    const eventLink = info.view.calendar.el.querySelector('.eventLink');\n    let els = eventLink.querySelectorAll(\"[data-pass_document_id]\");\n    els.forEach(el => {\n      if (!el.getAttribute('data-pass_document_id')) {\n        el.setAttribute('data-pass_document_id', \"\");\n      }\n    });\n\n    _logic.default.setDataPassValues({\n      start_date: startDate,\n      end_date: endDate,\n      start_time: startTime,\n      end_time: endTime\n    });\n\n    _logic.default.setLinkProcess(eventLink);\n  }\n}\n\nfunction initCalendarButtons(container) {\n  let main_container = container || document;\n\n  if (!main_container.querySelectorAll) {\n    return;\n  }\n\n  var btns = main_container.querySelectorAll('[data-calendar_id][data-btn_type]');\n\n  if (btns.length === 0 && main_container != document && main_container.hasAttribute('data-btn_type') && main_container.hasAttribute('data-calendar_id')) {\n    btns = [main_container];\n  }\n\n  for (var i = 0; i < btns.length; i++) {\n    var btn = btns[i];\n\n    if (_observer.default.getInitialized(btn)) {\n      continue;\n    }\n\n    _observer.default.setInitialized(btn);\n\n    btn.addEventListener('click', function (e) {\n      e.preventDefault();\n      var type = this.getAttribute('data-btn_type');\n      var calId = this.getAttribute('data-calendar_id');\n      calendarBtnClicked(calId, type);\n    });\n  }\n}\n\nfunction convertEndDateForRender(end, end_time, allDay) {\n  if (!allDay) {\n    return end;\n  }\n\n  return end;\n  let endDate = new Date(end);\n  endDate.setDate(endDate.getDate() + 1);\n  return endDate.toISOString().split('T')[0];\n}\n\nfunction calendarBtnClicked(calId, type) {\n  if (!calId) return;\n\n  for (var i = 0; i < calOBJs.length; i++) {\n    var calObj = calOBJs[i];\n\n    if (calObj.eId == calId) {\n      var calendar = calObj.calendar;\n      console.log(type);\n\n      switch (type) {\n        case 'dayGridDay':\n          // code\n          calendar.changeView('dayGridDay'); ////   dayGridDay\n\n          break;\n\n        case 'dayGridWeek':\n          // code\n          calendar.changeView('dayGridWeek'); ////  dayGridWeek\n\n          break;\n\n        case 'dayGridMonth':\n          // code\n          calendar.changeView('dayGridMonth'); ///   dayGridMonth\n\n          break;\n\n        case 'resourceTimelineDay':\n          // code\n          calendar.changeView('resourceTimelineDay'); ///   resourceTimelineDay\n\n          break;\n\n        case 'resourceTimelineThreeDays':\n          // code\n          calendar.changeView('resourceTimelineThreeDays'); ///   resourceTimelineThreeDays\n\n          break;\n\n        case 'resourceTimelineFiveDays':\n          // code\n          calendar.changeView('resourceTimelineFiveDays'); ///   resourceTimelineFiveDays\n\n          break;\n\n        case 'timeGridWeek':\n          // code\n          calendar.changeView('timeGridWeek'); ///   timeGridWeek\n\n          break;\n\n        case 'timeGridDay':\n          // code\n          calendar.changeView('timeGridDay'); ///   timeGridDay\n\n          break;\n\n        case 'listDay':\n          // code\n          calendar.changeView('listDay'); ///   listDay\n\n          break;\n\n        case 'listWeek':\n          // code\n          calendar.changeView('listWeek'); ///   listWeek\n\n          break;\n\n        case 'listMonth':\n          // code\n          calendar.changeView('listMonth'); ///   listMonth\n\n          break;\n\n        case 'listYear':\n          // code\n          calendar.changeView('listYear'); ///   listYear\n\n          break;\n\n        case 'timelineWeek':\n          // code\n          calendar.changeView('timelineWeek'); ///   timelineWeek\n\n          break;\n\n        case 'today':\n          // code\n          calendar.today(); ///   today\n\n          break;\n\n        default: // code\n\n      }\n    }\n  }\n}\n/** init **/\n\n\ninitSocketsForCalendars();\ninitCalendars();\ninitCalendarButtons();\n\n_observer.default.register('CoCreateCalendar', window, initCalendars); // CoCreate.observer.init({\n// \tname: 'CoCreateCalendar', \n// \tobserve: ['subtree', 'childList'],\n// \tinclude: '[data-calendar_id]', \n// \tcallback: function(mutation) {\n// \t\tinitCalendars(mutation.target)\n// \t}\n// })\n\n\n_observer.default.register('CoCreateCalendar_btn', window, initCalendarButtons); // CoCreate.observer.init({\n// \tname: 'CoCreateCalendarBtn', \n// \tobserve: ['subtree', 'childList'],\n// \tinclude: '[data-calendar_id][data-btn_type]', \n// \tcallback: function(mutation) {\n// \t\tinitCalendarButtons(mutation.target)\n// \t}\n// })//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mdWxsY2FsZW5kYXIvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJjYWxPQkpzIiwiY2FsZW5kYXJFbENsYXNzIiwiYmdDb2xvcnMiLCJ0ZXh0Q29sb3JzIiwiaW5pdFNvY2tldHNGb3JDYWxlbmRhcnMiLCJjcnVkIiwibGlzdGVuIiwiZGF0YSIsInVwZGF0ZUNhbGVuZGFyIiwiZGVsZXRlRG9jdW1lbnRGb3JDYWxlbmRhciIsImZldGNoZWRDYWxlbmRhckRhdGEiLCJjYWxPYmplY3QiLCJjY2ZpbHRlciIsImdldE9iamVjdEJ5RmlsdGVySWQiLCJyZW5kZXJEYXRhVG9DYWxlbmRhciIsImluaXRDYWxlbmRhcnMiLCJjb250YWluZXIiLCJwcm9jZXNzX2NvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImNhbENvbnRhaW5lcnMiLCJsZW5ndGgiLCJoYXNBdHRyaWJ1dGUiLCJpIiwiY2FsQ29udGFpbmVyIiwiaWQiLCJjYWxfaWQiLCJnZXRBdHRyaWJ1dGUiLCJkaXNwbGF5TmFtZSIsImZpbHRlciIsInNldEZpbHRlciIsIm9ic2VydmVyIiwiZ2V0SW5pdGlhbGl6ZWQiLCJzZXRJbml0aWFsaXplZCIsImNhbGVuZGFyIiwiRnVsbENhbGVuZGFyIiwiQ2FsZW5kYXIiLCJwbHVnaW5zIiwiaGVpZ2h0IiwiZWRpdGFibGUiLCJ0aW1lWm9uZSIsImV2ZW50UmVzaXphYmxlRnJvbVN0YXJ0IiwiZXZlbnRMaW1pdCIsInNlbGVjdGFibGUiLCJzZWxlY3RNaXJyb3IiLCJub3dJbmRpY2F0b3IiLCJzZWxlY3RNaW5EaXN0YW5jZSIsImhlYWRlciIsImxlZnQiLCJjZW50ZXIiLCJyaWdodCIsImRlZmF1bHRWaWV3IiwiZXZlbnRDbGljayIsImluZm8iLCJldmVudENsaWNrZWQiLCJldmVudFJlc2l6ZSIsImNoYW5nZWRFdmVudCIsImV2ZW50RHJvcCIsInNlbGVjdCIsInNlbGVjdGVkRGF0ZXMiLCJyZW5kZXIiLCJjYWxPYmoiLCJlSWQiLCJjYWxlbmRhcl9pZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic3RhcnRJbmRleCIsIkNvQ3JlYXRlIiwiZmV0Y2hEYXRhIiwicHVzaCIsImV2ZW50U291cmNlIiwiQXJyYXkiLCJmb3JFYWNoIiwiaXRlbSIsImluZGV4IiwibmV3RXZlbnQiLCJiZ19jb2xvciIsInRleHRfY29sb3IiLCJnZXRSYW5kb21Db2xvciIsInRpdGxlIiwiZ2V0VGl0bGUiLCJ0ZXh0Q29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzdGFydCIsInN0YXJ0X2RhdGUiLCJlbmQiLCJjb252ZXJ0RW5kRGF0ZUZvclJlbmRlciIsImVuZF9kYXRlIiwiZW5kX3RpbWUiLCJhbGxEYXkiLCJzdGFydF90aW1lIiwiYWRkRXZlbnRTb3VyY2UiLCJudW1iZXIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJkb2MiLCJjb2xsZWN0aW9uIiwiZXZlbnQiLCJnZXRFdmVudEJ5SWQiLCJnZXREYXRlU3RyaW5nIiwiZ2V0VGltZVN0cmluZyIsIm1haW5fZGF0YSIsImtleSIsIm5ld1RpdGxlIiwic2V0UHJvcCIsInNldEFsbERheSIsInNldFN0YXJ0Iiwic2V0RW5kIiwiY3JlYXRlRXZlbnRJdGVtIiwiT2JqZWN0IiwiZG9jdW1lbnRfaWQiLCJyZW1vdmVFdmVudCIsInJlbW92ZSIsImNvbnNvbGUiLCJsb2ciLCJldmVudElkIiwiX2NhbGVuZGFyIiwiY2FsX2VsIiwiZWwiLCJldmVudExpbmsiLCJxdWVyeVNlbGVjdG9yIiwiZWxzIiwic2V0QXR0cmlidXRlIiwibG9naWMiLCJpbml0RGF0YVBhc3NWYWx1ZXMiLCJzZXRMaW5rUHJvY2VzcyIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZ2V0Q2FsT2JqQnlJZCIsInVwZGF0ZURvY3VtZW50IiwiZGF0ZSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiZ2V0TW9udGgiLCJkdCIsImdldERhdGUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW4iLCJnZXRNaW51dGVzIiwidmlldyIsInNldERhdGFQYXNzVmFsdWVzIiwiaW5pdENhbGVuZGFyQnV0dG9ucyIsIm1haW5fY29udGFpbmVyIiwiYnRucyIsImJ0biIsInByZXZlbnREZWZhdWx0IiwidHlwZSIsImNhbElkIiwiY2FsZW5kYXJCdG5DbGlja2VkIiwiRGF0ZSIsInNldERhdGUiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwiY2hhbmdlVmlldyIsInRvZGF5IiwicmVnaXN0ZXIiLCJ3aW5kb3ciXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxJQUFJQSxPQUFPLEdBQUcsRUFBZDtBQUNBLElBQUlDLGVBQWUsR0FBRyxlQUF0QjtBQUNBLE1BQU1DLFFBQVEsR0FBSSxDQUFDLFNBQUQsRUFBWSxTQUFaLEVBQXVCLFNBQXZCLEVBQWtDLFNBQWxDLEVBQTZDLFNBQTdDLEVBQXdELFNBQXhELEVBQW1FLFNBQW5FLEVBQThFLFNBQTlFLEVBQXlGLFNBQXpGLEVBQW9HLFNBQXBHLEVBQStHLFNBQS9HLEVBQTJILFNBQTNILEVBQXNJLFNBQXRJLEVBQWlKLFNBQWpKLEVBQTRKLFNBQTVKLEVBQXVLLFNBQXZLLEVBQWtMLFNBQWxMLENBQWxCO0FBQ0EsTUFBTUMsVUFBVSxHQUFNLENBQUMsU0FBRCxFQUFZLFNBQVosRUFBdUIsU0FBdkIsRUFBa0MsU0FBbEMsRUFBNkMsU0FBN0MsRUFBd0QsU0FBeEQsRUFBbUUsU0FBbkUsRUFBOEUsU0FBOUUsRUFBeUYsU0FBekYsRUFBb0csU0FBcEcsRUFBK0csU0FBL0csRUFBMkgsU0FBM0gsRUFBc0ksU0FBdEksRUFBaUosU0FBakosRUFBNEosU0FBNUosRUFBdUssTUFBdkssRUFBK0ssU0FBL0ssQ0FBdEI7O0FBR0EsU0FBU0MsdUJBQVQsR0FBbUM7QUFFL0JDLHNCQUFLQyxNQUFMLENBQVksZ0JBQVosRUFBOEIsVUFBU0MsSUFBVCxFQUFlO0FBQzNDQyxrQkFBYyxDQUFDRCxJQUFELENBQWQ7QUFDRCxH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O0FBQ0U7QUFDQTVILGtCQUFRLENBQUM0SCxVQUFULENBQXFCLFVBQXJCLEVBRkYsQ0FFd0M7O0FBQ3RDOztBQUNGLGFBQUssV0FBTDtBQUNFO0FBQ0E1SCxrQkFBUSxDQUFDNEgsVUFBVCxDQUFxQixXQUFyQixFQUZGLENBRXlDOztBQUN2Qzs7QUFDRixhQUFLLFVBQUw7QUFDRTtBQUNBNUgsa0JBQVEsQ0FBQzRILFVBQVQsQ0FBcUIsVUFBckIsRUFGRixDQUV3Qzs7QUFDdEM7O0FBQ0YsYUFBSyxjQUFMO0FBQ0U7QUFDQTVILGtCQUFRLENBQUM0SCxVQUFULENBQXFCLGNBQXJCLEVBRkYsQ0FFNEM7O0FBQzFDOztBQUNGLGFBQUssT0FBTDtBQUNFO0FBQ0E1SCxrQkFBUSxDQUFDNkgsS0FBVCxHQUZGLENBRXdCOztBQUN0Qjs7QUFDRixnQkF6REYsQ0EwRE07O0FBMUROO0FBNEREO0FBQ0Y7QUFDRjtBQUVEOzs7QUFDQTNKLHVCQUF1QjtBQUN2QlcsYUFBYTtBQUNibUksbUJBQW1COztBQUVuQm5ILGtCQUFTaUksUUFBVCxDQUFrQixrQkFBbEIsRUFBc0NDLE1BQXRDLEVBQThDbEosYUFBOUMsRSxDQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBZ0Isa0JBQVNpSSxRQUFULENBQWtCLHNCQUFsQixFQUEwQ0MsTUFBMUMsRUFBa0RmLG1CQUFsRCxFLENBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnVkIGZyb20gJ0Bjb2NyZWF0ZS9jcnVkLWNsaWVudCc7XG5pbXBvcnQgY2NmaWx0ZXIgZnJvbSAnQGNvY3JlYXRlL2ZpbHRlcidcbmltcG9ydCBvYnNlcnZlciBmcm9tICdAY29jcmVhdGUvb2JzZXJ2ZXInXG5pbXBvcnQgbG9naWMgZnJvbSAnQGNvY3JlYXRlL2xvZ2ljJztcblxudmFyIGNhbE9CSnMgPSBbXTtcbnZhciBjYWxlbmRhckVsQ2xhc3MgPSAnY2FsLWNvbnRhaW5lcic7XG5jb25zdCBiZ0NvbG9ycyA9ICBbJyMwOWVmYzYnLCAnIzA5ZWYxYScsICcjZWZlYzA5JywgJyNlZjg2MDknLCAnI2VmNjAwOScsICcjYjYwOWVmJywgJyNlZjA5ODYnLCAnIzA5ZWZlYycsICcjZWNlZjA5JywgJyMwOWE2ZWYnLCAnIzA3NjY5MicsICAnI2MwYjUwNycsICcjYzA0ODA3JywgJyM2YjA3YzAnLCAnIzcyYWViNScsICcjNjk4MTFlJywgJyM4ZDJiMjMnXTtcbmNvbnN0IHRleHRDb2xvcnMgPSAgICBbJyM4YzQ4OWYnLCAnI2Y2MTBlNScsICcjMTAxM2Y2JywgJyMxMDc5ZjYnLCAnIzEwOWZmNicsICcjNDlmNjEwJywgJyMxMGY2NzknLCAnI2Y2MTAxMycsICcjMTMxMGY2JywgJyNmNjU5MTAnLCAnI2Y4OTk2YycsICAnIzNmNGFmOCcsICcjM2ZiN2Y4JywgJyM5NGY4M2YnLCAnIzhkNTE0YScsICcjZmZmJywgJyM3MmQ0ZGMnXTtcblxuXG5mdW5jdGlvbiBpbml0U29ja2V0c0ZvckNhbGVuZGFycygpIHtcblxuICAgIGNydWQubGlzdGVuKCd1cGRhdGVEb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHVwZGF0ZUNhbGVuZGFyKGRhdGEpO1xuICAgIH0pXG4gICAgXG4gICAgY3J1ZC5saXN0ZW4oJ2RlbGV0ZURvY3VtZW50JywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGRlbGV0ZURvY3VtZW50Rm9yQ2FsZW5kYXIoZGF0YSk7XG4gICAgfSlcbiAgICBcbiAgICBjcnVkLmxpc3RlbigncmVhZERvY3VtZW50TGlzdCcsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGZldGNoZWRDYWxlbmRhckRhdGEoZGF0YSk7XG4gICAgfSlcbn1cblxuXG5mdW5jdGlvbiBmZXRjaGVkQ2FsZW5kYXJEYXRhKGRhdGEpIHtcbiAgXG4gIGxldCBjYWxPYmplY3QgPSBjY2ZpbHRlci5nZXRPYmplY3RCeUZpbHRlcklkKGNhbE9CSnMsIGRhdGFbJ2VsZW1lbnQnXSk7XG4gIGlmIChjYWxPYmplY3QpIHtcbiAgICByZW5kZXJEYXRhVG9DYWxlbmRhcihjYWxPYmplY3QsIGRhdGEpXG4gIH1cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gaW5pdENhbGVuZGFycyhjb250YWluZXIpIHtcblxuICBsZXQgcHJvY2Vzc19jb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG4gIGlmICghcHJvY2Vzc19jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgY2FsQ29udGFpbmVycyA9IHByb2Nlc3NfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgY2FsZW5kYXJFbENsYXNzKTtcbiAgXG4gIGlmIChjYWxDb250YWluZXJzLmxlbmd0aCA9PSAwICYmICBwcm9jZXNzX2NvbnRhaW5lciAhPSBkb2N1bWVudCAmJiBwcm9jZXNzX2NvbnRhaW5lci5oYXNBdHRyaWJ1dGUoY2FsZW5kYXJFbENsYXNzKSkge1xuICAgIGNhbENvbnRhaW5lcnMgPSBbcHJvY2Vzc19jb250YWluZXJdO1xuICB9IFxuICBcbiAgXG4gIGZvciAodmFyIGk9MDsgaSA8IGNhbENvbnRhaW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2FsQ29udGFpbmVyID0gY2FsQ29udGFpbmVyc1tpXTtcbiAgICBcbiAgICB2YXIgaWQgPSBjYWxDb250YWluZXIuaWQ7XG4gICAgaWYgKCFpZCkgY29udGludWU7XG4gICAgXG4gICAgdmFyIGNhbF9pZCA9IGNhbENvbnRhaW5lci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2FsZW5kYXJfaWQnKTtcbiAgICBcbiAgICB2YXIgZGlzcGxheU5hbWUgPSBjYWxDb250YWluZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWRpc3BhbHlfZmllbGQnKTtcbiAgICBcbiAgICBsZXQgZmlsdGVyID0gY2NmaWx0ZXIuc2V0RmlsdGVyKGNhbENvbnRhaW5lciwgXCJkYXRhLWNhbGVuZGFyX2lkXCIsIFwiY2FsZW5kYXJcIik7XG4gICAgaWYgKCFmaWx0ZXIpIGNvbnRpbnVlO1xuICAgIFxuICAgIGlmIChvYnNlcnZlci5nZXRJbml0aWFsaXplZChjYWxDb250YWluZXIpKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0b2JzZXJ2ZXIuc2V0SW5pdGlhbGl6ZWQoY2FsQ29udGFpbmVyKVxuXHRcdFxuICAgIFxuICAgIHZhciBjYWxlbmRhciA9IG5ldyBGdWxsQ2FsZW5kYXIuQ2FsZW5kYXIoY2FsQ29udGFpbmVyLCB7XG4gICAgICBwbHVnaW5zOiBbICdpbnRlcmFjdGlvbicsICdkYXlHcmlkJywgJ3RpbWVHcmlkJywgJ3Jlc291cmNlVGltZWxpbmUnLCAndGltZWxpbmUnLCAnbGlzdCcgXSxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICB0aW1lWm9uZTogJ2xvY2FsJyxcbiAgICAgIGV2ZW50UmVzaXphYmxlRnJvbVN0YXJ0OiB0cnVlLCBcbiAgICAgIGV2ZW50TGltaXQ6IHRydWUsXG4gICAgICBzZWxlY3RhYmxlOiB0cnVlLFxuICAgICAgc2VsZWN0TWlycm9yOiB0cnVlLFxuICAgICAgLy8gY29udGVudEhlaWdodDogMTIwMCxcbiAgICAgIG5vd0luZGljYXRvcjogdHJ1ZSxcbiAgICAgIHNlbGVjdE1pbkRpc3RhbmNlOiAxMDAsXG4gICAgICBoZWFkZXI6IHtcbiAgICAgICAgbGVmdDogJ3ByZXYsJyxcbiAgICAgICAgY2VudGVyOiAndGl0bGUnLFxuICAgICAgICByaWdodDogJ25leHQnXG4gICAgICB9LFxuICAgICAgZGVmYXVsdFZpZXc6ICdkYXlHcmlkTW9udGgnLFxuICAgICAgXG4gICAgICAvLyBldmVudFJlbmRlcjogZnVuY3Rpb24oZXZlbnQsIGVsZW1lbnQsIHZpZXcpIHtcbiAgICAgIC8vICAgcmV0dXJuICQoZXZlbnQuZWwpO1xuICAgICAgLy8gfSxcbiAgICAgIFxuICAgICAgZXZlbnRDbGljazogZnVuY3Rpb24oaW5mbykge1xuICAgICAgICBldmVudENsaWNrZWQoaW5mbyk7XG4gICAgICB9LFxuICAgICAgXG4gICAgICBldmVudFJlc2l6ZTogZnVuY3Rpb24oaW5mbykge1xuICAgICAgICBjaGFuZ2VkRXZlbnQoaW5mbyk7XG4gICAgICB9LFxuICAgICAgXG4gICAgICBldmVudERyb3A6IGZ1bmN0aW9uKGluZm8pIHtcbiAgICAgICAgY2hhbmdlZEV2ZW50KGluZm8pO1xuICAgICAgfSxcbiAgICAgIFxuICAgICAgc2VsZWN0OiBmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICBzZWxlY3RlZERhdGVzKGluZm8pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGNhbGVuZGFyLnJlbmRlcigpO1xuICAgIFxuICAgIHZhciBjYWxPYmogPSB7XG4gICAgICBlSWQ6IGlkLFxuICAgICAgY2FsZW5kYXJfaWQ6IGNhbF9pZCxcbiAgICAgIGNhbGVuZGFyOiBjYWxlbmRhcixcbiAgICAgIGRpc3BsYXlOYW1lOiBkaXNwbGF5TmFtZSxcbiAgICAgIGZpbHRlcjogZmlsdGVyXG4gICAgfVxuICAgIFxuICAgIGNhbENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlRmlsdGVySW5wdXRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gcmVtb3ZlT2xkRGF0YShlT2JqLmVsKVxuICAgICAgLy8uIGNhbGVuYXIgaW5pdFxuICAgICAgY2FsT2JqLmZpbHRlci5zdGFydEluZGV4ID0gMDtcbiAgICAgIENvQ3JlYXRlLmZpbHRlci5mZXRjaERhdGEoY2FsT2JqLmZpbHRlcik7XG4gICAgfSlcbiAgICBcbiAgICBDb0NyZWF0ZS5maWx0ZXIuZmV0Y2hEYXRhKGZpbHRlcik7XG5cbiAgICBjYWxPQkpzLnB1c2goY2FsT2JqKTtcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIHJlbmRlckRhdGFUb0NhbGVuZGFyKGNhbE9iaiwgZGF0YSkge1xuICB2YXIgZXZlbnRTb3VyY2UgPSBuZXcgQXJyYXkoKTtcbiAgXG4gIGRhdGFbJ2RhdGEnXS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgdmFyIG5ld0V2ZW50ID0ge307XG4gICAgY29uc3Qge2JnX2NvbG9yLCB0ZXh0X2NvbG9yfSA9IGdldFJhbmRvbUNvbG9yKClcbiAgICBuZXdFdmVudC5pZCA9IGl0ZW1bJ19pZCddO1xuICAgIG5ld0V2ZW50LnRpdGxlID0gZ2V0VGl0bGUoaXRlbSwgY2FsT2JqLmRpc3BsYXlOYW1lKTtcbiAgICBcbiAgICBuZXdFdmVudC50ZXh0Q29sb3IgPSB0ZXh0X2NvbG9yO1xuICAgIG5ld0V2ZW50LmJhY2tncm91bmRDb2xvciA9IGJnX2NvbG9yO1xuXG4gICAgbmV3RXZlbnQuc3RhcnQgPSBpdGVtLnN0YXJ0X2RhdGU7XG4gICAgbmV3RXZlbnQuZW5kID0gY29udmVydEVuZERhdGVGb3JSZW5kZXIoaXRlbS5lbmRfZGF0ZSwgaXRlbS5lbmRfdGltZSwgaXRlbS5hbGxEYXkpO1xuICAgIG5ld0V2ZW50LmFsbERheSA9IGl0ZW0uYWxsRGF5O1xuICAgIGlmIChpdGVtLnN0YXJ0X3RpbWUpIG5ld0V2ZW50LnN0YXJ0Kz0gJ1QnICsgaXRlbS5zdGFydF90aW1lO1xuICAgIGlmIChpdGVtLmVuZF90aW1lKSBuZXdFdmVudC5lbmQrPSAnVCcgKyBpdGVtLmVuZF90aW1lOyBcbiAgICBcbiAgICBpZiAoaXRlbS5zdGFydF9kYXRlICYmIGl0ZW0uZW5kX2RhdGUpIGV2ZW50U291cmNlLnB1c2gobmV3RXZlbnQpO1xuICB9KVxuICBcbiAgY2FsT2JqLmNhbGVuZGFyLmFkZEV2ZW50U291cmNlKGV2ZW50U291cmNlKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmFuZG9tQ29sb3IoKSB7XG4gIHZhciBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBiZ0NvbG9ycy5sZW5ndGgpO1xuICByZXR1cm4ge2JnX2NvbG9yOiBiZ0NvbG9yc1tudW1iZXJdLCB0ZXh0X2NvbG9yOiB0ZXh0Q29sb3JzW251bWJlcl19O1xufVxuXG5mdW5jdGlvbiBnZXRUaXRsZShkb2MsIGRpc3BsYXlOYW1lKSB7XG4gIHZhciB0aXRsZSA9ICcnO1xuICBcbiAgaWYgKGRvY1tkaXNwbGF5TmFtZV0gJiYgZGlzcGxheU5hbWUpIHtcbiAgICB0aXRsZSA9IGRvY1tkaXNwbGF5TmFtZV07XG4gIH1cbiAgXG4gIHJldHVybiB0aXRsZTtcbiAgXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNhbGVuZGFyKGRhdGEpIHtcbiAgdmFyIGNvbGxlY3Rpb24gPSBkYXRhWydjb2xsZWN0aW9uJ107XG4gIFxuICBmb3IgKHZhciBpPTA7IGk8Y2FsT0JKcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjYWxPYmogPSBjYWxPQkpzW2ldO1xuICAgIFxuICAgIGlmIChjYWxPYmouZmlsdGVyLmNvbGxlY3Rpb24gPT0gIGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBjYWxlbmRhciA9IGNhbE9iai5jYWxlbmRhcjtcbiAgICAgIHZhciBldmVudFNvdXJjZSA9IFtdO1xuICAgICAgXG4gICAgICB2YXIgZXZlbnQgPSBjYWxlbmRhci5nZXRFdmVudEJ5SWQoZGF0YVsnZG9jdW1lbnRfaWQnXSk7XG4gICAgICBpZiAoZXZlbnQpIHtcblxuICAgICAgICB2YXIgc3RhcnQgPSBldmVudC5zdGFydDtcbiAgICAgICAgdmFyIGVuZCA9IGV2ZW50LmVuZDtcbiAgICAgICAgdmFyIHN0YXJ0X2RhdGUgPSBnZXREYXRlU3RyaW5nKHN0YXJ0KTtcbiAgICAgICAgdmFyIHN0YXJ0X3RpbWUgPSBnZXRUaW1lU3RyaW5nKHN0YXJ0KTtcbiAgICAgICAgdmFyIGVuZF9kYXRlID0gZ2V0RGF0ZVN0cmluZyhlbmQpO1xuICAgICAgICB2YXIgZW5kX3RpbWUgPSBnZXRUaW1lU3RyaW5nKGVuZCk7XG4gICAgICAgIHZhciBhbGxEYXkgPSBldmVudC5hbGxEYXk7XG4gICAgICBcbiAgICAgICAgdmFyIGJhY2tncm91bmRDb2xvciA9IGV2ZW50LmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgdmFyIHRleHRDb2xvciA9IGV2ZW50LnRleHRDb2xvcjtcbiAgICAgICAgY29uc3QgbWFpbl9kYXRhID0gZGF0YVsnZGF0YSddO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gbWFpbl9kYXRhKSB7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGtleSA9PSAgY2FsT2JqLmRpc3BsYXlOYW1lKSB7XG4gICAgICAgICAgICB2YXIgbmV3VGl0bGUgPSBtYWluX2RhdGFba2V5XTtcbiAgICAgICAgICAgIGV2ZW50LnNldFByb3AoJ3RpdGxlJywgbmV3VGl0bGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoa2V5ID09ICAnc3RhcnRfZGF0ZScpIHtcbiAgICAgICAgICAgIHN0YXJ0X2RhdGUgPSBtYWluX2RhdGFba2V5XTtcbiAgICAgICAgICB9IFxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChrZXkgPT0gICdlbmRfZGF0ZScpIHtcbiAgICAgICAgICAgIGVuZF9kYXRlID0gbWFpbl9kYXRhW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChrZXkgPT0gJ3N0YXJ0X3RpbWUnKSB7XG4gICAgICAgICAgICBzdGFydF90aW1lID0gbWFpbl9kYXRhW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChrZXkgPT0gJ2VuZF90aW1lJykge1xuICAgICAgICAgICAgZW5kX3RpbWUgPSBtYWluX2RhdGFba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGtleSA9PT0gJ2FsbERheScpIHtcbiAgICAgICAgICAgIGFsbERheSA9IG1haW5fZGF0YVtrZXldXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBlbmRfZGF0ZSA9IGNvbnZlcnRFbmREYXRlRm9yUmVuZGVyKGVuZF9kYXRlLCBlbmRfdGltZSwgYWxsRGF5KTtcbiAgICAgICAgZXZlbnQuc2V0QWxsRGF5KGFsbERheSk7XG4gICAgICAgIGV2ZW50LnNldFN0YXJ0KHN0YXJ0X2RhdGUgKyAnVCcgKyBzdGFydF90aW1lKTtcbiAgICAgICAgZXZlbnQuc2V0RW5kKGVuZF9kYXRlICsgJ1QnICsgZW5kX3RpbWUpO1xuICAgICAgICBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBuZXdFdmVudCA9IGNyZWF0ZUV2ZW50SXRlbShkYXRhWydkYXRhJ10sIGNhbE9iai5kaXNwbGF5TmFtZSk7XG4gICAgICAgIGlmIChuZXdFdmVudCkge1xuICAgICAgICAgIGV2ZW50U291cmNlLnB1c2gobmV3RXZlbnQpXG4gICAgICAgICAgY2FsZW5kYXIuYWRkRXZlbnRTb3VyY2UoZXZlbnRTb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVFdmVudEl0ZW0oZGF0YSwgZGlzcGxheU5hbWUpIHtcbiAgdmFyIG5ld0V2ZW50ID0gbmV3IE9iamVjdCgpO1xuICBjb25zdCB7YmdfY29sb3IsIHRleHRfY29sb3J9ID0gZ2V0UmFuZG9tQ29sb3IoKVxuICBuZXdFdmVudC5pZCA9IGRhdGFbJ19pZCddO1xuICBuZXdFdmVudC50aXRsZSA9IGdldFRpdGxlKGRhdGEsIGRpc3BsYXlOYW1lKTtcbiAgbmV3RXZlbnQudGV4dENvbG9yID0gJ2JsYWNrJztcbiAgbmV3RXZlbnQuYmFja2dyb3VuZENvbG9yID0gYmdfY29sb3I7XG4gIG5ld0V2ZW50LnRleHRDb2xvciA9IHRleHRfY29sb3I7XG4gIG5ld0V2ZW50LnN0YXJ0ID0gZGF0YS5zdGFydF9kYXRlO1xuICBuZXdFdmVudC5lbmQgPSBjb252ZXJ0RW5kRGF0ZUZvclJlbmRlcihkYXRhLmVuZF9kYXRlLCBkYXRhLmVuZF90aW1lLCBkYXRhLmFsbERheSk7XG4gIG5ld0V2ZW50LmFsbERheSA9IGRhdGEuYWxsRGF5O1xuICBpZiAoZGF0YS5zdGFydF90aW1lKSBuZXdFdmVudC5zdGFydCs9ICdUJyArIGRhdGEuc3RhcnRfdGltZTtcbiAgaWYgKGRhdGEuZW5kX3RpbWUpIG5ld0V2ZW50LmVuZCs9ICdUJyArIGRhdGEuZW5kX3RpbWU7XG4gIFxuICBpZiAoIWRhdGEuc3RhcnRfZGF0ZSB8fCAhZGF0YS5lbmRfZGF0ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9ICBcbiAgcmV0dXJuIG5ld0V2ZW50O1xufVxuXG5cblxuZnVuY3Rpb24gZGVsZXRlRG9jdW1lbnRGb3JDYWxlbmRhcihkYXRhKSB7XG4gIGNvbnN0IGRvY3VtZW50X2lkID0gZGF0YVsnZG9jdW1lbnRfaWQnXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbE9CSnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2FsT2JqID0gY2FsT0JKc1tpXTtcbiAgICBcbiAgICBpZiAoY2FsT2JqLmZpbHRlci5jb2xsZWN0aW9uID09IGRhdGFbJ2NvbGxlY3Rpb24nXSkge1xuICAgICAgcmVtb3ZlRXZlbnQoY2FsT2JqLmNhbGVuZGFyLCBkb2N1bWVudF9pZCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50KGNhbGVuZGFyLCBpZCkge1xuICB2YXIgZXZlbnRTb3VyY2UgPSBjYWxlbmRhci5nZXRFdmVudEJ5SWQoaWQpO1xuICBldmVudFNvdXJjZS5yZW1vdmUoKTtcbn1cblxuZnVuY3Rpb24gZXZlbnRDbGlja2VkKGluZm8pIHtcbiAgY29uc29sZS5sb2coaW5mbyk7XG4gIHZhciBldmVudCA9IGluZm8uZXZlbnQ7XG4gIHZhciBldmVudElkID0gZXZlbnQuaWQ7XG4gIFxuICB2YXIgY2FsZW5kYXIgPSBldmVudC5fY2FsZW5kYXI7XG4gIHZhciBjYWxfZWwgPSBjYWxlbmRhci5lbDtcblxuICB2YXIgZXZlbnRMaW5rID0gY2FsX2VsLnF1ZXJ5U2VsZWN0b3IoJy5ldmVudExpbmsnKTtcbiAgXG4gIGxldCBlbHMgPSBldmVudExpbmsucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXBhc3NfZG9jdW1lbnRfaWRdXCIpXG4gIFxuICBlbHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZiAoIWVsLmdldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2RvY3VtZW50X2lkJykpIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2RvY3VtZW50X2lkJywgZXZlbnRJZCk7XG4gICAgfVxuICB9KVxuXG4gIGxvZ2ljLmluaXREYXRhUGFzc1ZhbHVlcygpO1xuICBsb2dpYy5zZXRMaW5rUHJvY2VzcyhldmVudExpbmspO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VkRXZlbnQoaW5mbykge1xuICBcbiAgdmFyIGV2ZW50ID0gaW5mby5ldmVudDtcbiAgdmFyIHN0YXJ0RGF0ZSA9IGdldERhdGVTdHJpbmcoZXZlbnQuc3RhcnQpO1xuICB2YXIgZW5kRGF0ZSA9IGdldERhdGVTdHJpbmcoZXZlbnQuZW5kKTtcbiAgXG4gIHZhciBzdGFydFRpbWUgPSBnZXRUaW1lU3RyaW5nKGV2ZW50LnN0YXJ0KTtcbiAgdmFyIGVuZFRpbWUgPSBnZXRUaW1lU3RyaW5nKGV2ZW50LmVuZCk7XG5cbiAgdmFyIGNhbF9pZCA9IGV2ZW50Ll9jYWxlbmRhci5lbC5pZFxuICB2YXIgY2FsT2JqID0gZ2V0Q2FsT2JqQnlJZChjYWxfaWQpO1xuICBpZiAoY2FsT2JqKSB7XG5cbiAgICBjcnVkLnVwZGF0ZURvY3VtZW50KHtcbiAgICAgICdjb2xsZWN0aW9uJyA6IGNhbE9iai5maWx0ZXIuY29sbGVjdGlvbixcbiAgICAgICdlbGVtZW50JyA6IGNhbF9pZCxcbiAgICAgICdtZXRhZGF0YSc6IFwiXCIsXG4gICAgICAnZG9jdW1lbnRfaWQnOiBldmVudC5pZCxcbiAgICAgICdkYXRhJyA6IHtcbiAgICAgICAgc3RhcnRfZGF0ZSAgOiBzdGFydERhdGUsXG4gICAgICAgIGVuZF9kYXRlICAgIDogZW5kRGF0ZSxcbiAgICAgICAgc3RhcnRfdGltZSAgOiBzdGFydFRpbWUsXG4gICAgICAgIGVuZF90aW1lICAgIDogZW5kVGltZVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZVN0cmluZyhkYXRlKSB7XG4gIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICB2YXIgbW9udGggPSBkYXRlLmdldE1vbnRoKCkrMTtcbiAgdmFyIGR0ID0gZGF0ZS5nZXREYXRlKCk7XG4gIFxuICBpZiAoZHQgPCAxMCkge1xuICAgIGR0ID0gJzAnICsgZHQ7XG4gIH1cbiAgaWYgKG1vbnRoIDwgMTApIHtcbiAgICBtb250aCA9ICcwJyArIG1vbnRoO1xuICB9XG5cbiAgcmV0dXJuIHllYXIrJy0nICsgbW9udGggKyAnLScrZHQ7XG59XG5cbmZ1bmN0aW9uIGdldFRpbWVTdHJpbmcoZGF0ZSkge1xuICBcbiAgdmFyIGhvdXIgPSBkYXRlLmdldEhvdXJzKCk7XG4gIHZhciBtaW4gPSBkYXRlLmdldE1pbnV0ZXMoKTtcbiAgXG4gIGlmIChob3VyIDwgMTApIHtcbiAgICBob3VyID0gJzAnICsgaG91cjtcbiAgfVxuICBpZiAobWluIDwgMTApIHtcbiAgICBtaW4gPSAnMCcgKyBtaW47XG4gIH1cbiAgXG4gIHJldHVybiBob3VyICsgJzonICsgbWluO1xufVxuXG5mdW5jdGlvbiBnZXRDYWxPYmpCeUlkKGlkKSB7XG4gIFxuICBcbiAgZm9yICh2YXIgaT0wOyBpPGNhbE9CSnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2FsT2JqID0gY2FsT0JKc1tpXTtcbiAgICBcbiAgICBpZiAoaWQgPT0gY2FsT2JqLmVJZCkgcmV0dXJuIGNhbE9iajtcbiAgfVxuICBcbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGVkRGF0ZXMoaW5mbykge1xuICB2YXIgc3RhcnREYXRlID0gZ2V0RGF0ZVN0cmluZyhpbmZvLnN0YXJ0KTtcbiAgdmFyIGVuZERhdGUgPSBnZXREYXRlU3RyaW5nKGluZm8uZW5kKTtcbiAgXG4gIHZhciBzdGFydFRpbWUgPSBnZXRUaW1lU3RyaW5nKGluZm8uc3RhcnQpO1xuICB2YXIgZW5kVGltZSA9IGdldFRpbWVTdHJpbmcoaW5mby5lbmQpO1xuICBcbiAgdmFyIGNhbF9pZCA9IGluZm8udmlldy5jYWxlbmRhci5lbC5pZFxuICB2YXIgY2FsT2JqID0gZ2V0Q2FsT2JqQnlJZChjYWxfaWQpO1xuICBpZiAoY2FsT2JqKSB7XG4gICAgXG4gICAgY29uc3QgZXZlbnRMaW5rID0gaW5mby52aWV3LmNhbGVuZGFyLmVsLnF1ZXJ5U2VsZWN0b3IoJy5ldmVudExpbmsnKTtcbiAgICBsZXQgZWxzID0gZXZlbnRMaW5rLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1wYXNzX2RvY3VtZW50X2lkXVwiKVxuICBcbiAgICBlbHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGlmICghZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfZG9jdW1lbnRfaWQnKSkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGFzc19kb2N1bWVudF9pZCcsIFwiXCIpO1xuICAgICAgfVxuICAgIH0pXG5cbiAgICBsb2dpYy5zZXREYXRhUGFzc1ZhbHVlcyh7XG4gICAgICBzdGFydF9kYXRlOiBzdGFydERhdGUsXG4gICAgICBlbmRfZGF0ZTogZW5kRGF0ZSxcbiAgICAgIHN0YXJ0X3RpbWU6IHN0YXJ0VGltZSxcbiAgICAgIGVuZF90aW1lOiBlbmRUaW1lXG4gICAgfSk7XG4gIFxuICAgIGxvZ2ljLnNldExpbmtQcm9jZXNzKGV2ZW50TGluayk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdENhbGVuZGFyQnV0dG9ucyhjb250YWluZXIpIHtcbiAgbGV0IG1haW5fY29udGFpbmVyID0gY29udGFpbmVyIHx8IGRvY3VtZW50O1xuICBpZiAoIW1haW5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgYnRucyA9IG1haW5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNhbGVuZGFyX2lkXVtkYXRhLWJ0bl90eXBlXScpO1xuICBpZiAoYnRucy5sZW5ndGggPT09IDAgJiYgXG4gICAgbWFpbl9jb250YWluZXIgIT0gZG9jdW1lbnQgJiYgXG4gICAgbWFpbl9jb250YWluZXIuaGFzQXR0cmlidXRlKCdkYXRhLWJ0bl90eXBlJykgJiYgXG4gICAgbWFpbl9jb250YWluZXIuaGFzQXR0cmlidXRlKCdkYXRhLWNhbGVuZGFyX2lkJykpIFxuICAgIHtcbiAgICAgIGJ0bnMgPSBbbWFpbl9jb250YWluZXJdO1xuICAgIH1cblxuICBmb3IgKHZhciBpPTA7IGkgPCBidG5zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGJ0biA9IGJ0bnNbaV07XG4gICAgXG4gICAgaWYgKG9ic2VydmVyLmdldEluaXRpYWxpemVkKGJ0bikpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBvYnNlcnZlci5zZXRJbml0aWFsaXplZChidG4pO1xuICAgIFxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciB0eXBlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtYnRuX3R5cGUnKTtcbiAgICAgIHZhciBjYWxJZCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWNhbGVuZGFyX2lkJyk7XG4gICAgICBcbiAgICAgIGNhbGVuZGFyQnRuQ2xpY2tlZChjYWxJZCwgdHlwZSk7XG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0RW5kRGF0ZUZvclJlbmRlcihlbmQsIGVuZF90aW1lLCBhbGxEYXkpXG57XG4gIGlmICghYWxsRGF5KSB7XG4gICAgcmV0dXJuIGVuZDtcbiAgfVxuICByZXR1cm4gZW5kO1xuICBsZXQgZW5kRGF0ZSA9IG5ldyBEYXRlKGVuZCk7XG4gIGVuZERhdGUuc2V0RGF0ZShlbmREYXRlLmdldERhdGUoKSArIDEpO1xuICByZXR1cm4gZW5kRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cbn1cblxuZnVuY3Rpb24gY2FsZW5kYXJCdG5DbGlja2VkKGNhbElkLCB0eXBlKSB7XG4gIGlmICghY2FsSWQpIHJldHVybjtcbiAgXG4gIGZvciAodmFyIGk9MDsgaTxjYWxPQkpzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNhbE9iaiA9IGNhbE9CSnNbaV07XG4gICAgXG4gICAgaWYgKGNhbE9iai5lSWQgPT0gY2FsSWQpIHtcbiAgICAgIHZhciBjYWxlbmRhciA9IGNhbE9iai5jYWxlbmRhcjtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2codHlwZSk7XG4gICAgICBcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdkYXlHcmlkRGF5JzpcbiAgICAgICAgICAvLyBjb2RlXG4gICAgICAgICAgY2FsZW5kYXIuY2hhbmdlVmlldyggJ2RheUdyaWREYXknICkgICAgICAgICAgLy8vLyAgIGRheUdyaWREYXlcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZGF5R3JpZFdlZWsnOlxuICAgICAgICAgIC8vIGNvZGVcbiAgICAgICAgICBjYWxlbmRhci5jaGFuZ2VWaWV3KCAnZGF5R3JpZFdlZWsnICkgICAgICAgICAgLy8vLyAgZGF5R3JpZFdlZWtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZGF5R3JpZE1vbnRoJzpcbiAgICAgICAgICAvLyBjb2RlXG4gICAgICAgICAgY2FsZW5kYXIuY2hhbmdlVmlldyggJ2RheUdyaWRNb250aCcgKSAgICAgLy8vICAgZGF5R3JpZE1vbnRoXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Jlc291cmNlVGltZWxpbmVEYXknOlxuICAgICAgICAgIC8vIGNvZGVcbiAgICAgICAgICBjYWxlbmRhci5jaGFuZ2VWaWV3KCAncmVzb3VyY2VUaW1lbGluZURheScgKSAgICAgLy8vICAgcmVzb3VyY2VUaW1lbGluZURheVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyZXNvdXJjZVRpbWVsaW5lVGhyZWVEYXlzJzpcbiAgICAgICAgICAvLyBjb2RlXG4gICAgICAgICAgY2FsZW5kYXIuY2hhbmdlVmlldyggJ3Jlc291cmNlVGltZWxpbmVUaHJlZURheXMnICkgICAgIC8vLyAgIHJlc291cmNlVGltZWxpbmVUaHJlZURheXNcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmVzb3VyY2VUaW1lbGluZUZpdmVEYXlzJzpcbiAgICAgICAgICAvLyBjb2RlXG4gICAgICAgICAgY2FsZW5kYXIuY2hhbmdlVmlldyggJ3Jlc291cmNlVGltZWxpbmVGaXZlRGF5cycgKSAgICAgLy8vICAgcmVzb3VyY2VUaW1lbGluZUZpdmVEYXlzXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RpbWVHcmlkV2Vlayc6XG4gICAgICAgICAgLy8gY29kZVxuICAgICAgICAgIGNhbGVuZGFyLmNoYW5nZVZpZXcoICd0aW1lR3JpZFdlZWsnICkgICAgIC8vLyAgIHRpbWVHcmlkV2Vla1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aW1lR3JpZERheSc6XG4gICAgICAgICAgLy8gY29kZVxuICAgICAgICAgIGNhbGVuZGFyLmNoYW5nZVZpZXcoICd0aW1lR3JpZERheScgKSAgICAgLy8vICAgdGltZUdyaWREYXlcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbGlzdERheSc6XG4gICAgICAgICAgLy8gY29kZVxuICAgICAgICAgIGNhbGVuZGFyLmNoYW5nZVZpZXcoICdsaXN0RGF5JyApICAgICAvLy8gICBsaXN0RGF5XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xpc3RXZWVrJzpcbiAgICAgICAgICAvLyBjb2RlXG4gICAgICAgICAgY2FsZW5kYXIuY2hhbmdlVmlldyggJ2xpc3RXZWVrJyApICAgICAvLy8gICBsaXN0V2Vla1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdsaXN0TW9udGgnOlxuICAgICAgICAgIC8vIGNvZGVcbiAgICAgICAgICBjYWxlbmRhci5jaGFuZ2VWaWV3KCAnbGlzdE1vbnRoJyApICAgICAvLy8gICBsaXN0TW9udGhcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbGlzdFllYXInOlxuICAgICAgICAgIC8vIGNvZGVcbiAgICAgICAgICBjYWxlbmRhci5jaGFuZ2VWaWV3KCAnbGlzdFllYXInICkgICAgIC8vLyAgIGxpc3RZZWFyXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RpbWVsaW5lV2Vlayc6XG4gICAgICAgICAgLy8gY29kZVxuICAgICAgICAgIGNhbGVuZGFyLmNoYW5nZVZpZXcoICd0aW1lbGluZVdlZWsnICkgICAgIC8vLyAgIHRpbWVsaW5lV2Vla1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0b2RheSc6XG4gICAgICAgICAgLy8gY29kZVxuICAgICAgICAgIGNhbGVuZGFyLnRvZGF5KCk7ICAgICAvLy8gICB0b2RheVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gY29kZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKiogaW5pdCAqKi9cbmluaXRTb2NrZXRzRm9yQ2FsZW5kYXJzKCk7XG5pbml0Q2FsZW5kYXJzKCk7XG5pbml0Q2FsZW5kYXJCdXR0b25zKCk7XG5cbm9ic2VydmVyLnJlZ2lzdGVyKCdDb0NyZWF0ZUNhbGVuZGFyJywgd2luZG93LCBpbml0Q2FsZW5kYXJzKTtcbi8vIENvQ3JlYXRlLm9ic2VydmVyLmluaXQoe1xuLy8gXHRuYW1lOiAnQ29DcmVhdGVDYWxlbmRhcicsIFxuLy8gXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0J10sXG4vLyBcdGluY2x1ZGU6ICdbZGF0YS1jYWxlbmRhcl9pZF0nLCBcbi8vIFx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG4vLyBcdFx0aW5pdENhbGVuZGFycyhtdXRhdGlvbi50YXJnZXQpXG4vLyBcdH1cbi8vIH0pXG5cbm9ic2VydmVyLnJlZ2lzdGVyKCdDb0NyZWF0ZUNhbGVuZGFyX2J0bicsIHdpbmRvdywgaW5pdENhbGVuZGFyQnV0dG9ucylcbi8vIENvQ3JlYXRlLm9ic2VydmVyLmluaXQoe1xuLy8gXHRuYW1lOiAnQ29DcmVhdGVDYWxlbmRhckJ0bicsIFxuLy8gXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0J10sXG4vLyBcdGluY2x1ZGU6ICdbZGF0YS1jYWxlbmRhcl9pZF1bZGF0YS1idG5fdHlwZV0nLCBcbi8vIFx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG4vLyBcdFx0aW5pdENhbGVuZGFyQnV0dG9ucyhtdXRhdGlvbi50YXJnZXQpXG4vLyBcdH1cbi8vIH0pIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n")}},__webpack_module_cache__={};function __webpack_require__(t){var n=__webpack_module_cache__[t];if(void 0!==n)return n.exports;var e=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(e.exports,e,e.exports,__webpack_require__),e.exports}__webpack_require__.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=(t,n)=>{for(var e in n)__webpack_require__.o(n,e)&&!__webpack_require__.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},__webpack_require__.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/index.js");return __webpack_exports__=__webpack_exports__.default,__webpack_exports__})()}));